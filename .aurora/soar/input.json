{
  "prompt": "Query: how do i write a tech book about ai frameworks and how they are solving ai problems of statelessness and multi-turn conversations\n\nRelevant Context Summary:\nNo indexed context available. Using LLM general knowledge.\n\nAvailable Agents: @1-create-prd, @2-generate-tasks, @3-process-task-list, @business-analyst, @context-initializer, @docs-init, @full-stack-dev, @holistic-architect, @master, @orchestrator, @product-manager, @product-owner, @qa-test-architect, @scrum-master, @test-soar, @ux-expert\n\nDecompose this query into actionable subgoals in JSON format.",
  "system": "You are a query decomposition expert for a code reasoning system.\n\nYour task is to break down complex queries into concrete, actionable subgoals that can be\nexecuted by specialized agents.\n\nFor each subgoal, specify:\n1. A clear, specific goal statement\n2. The IDEAL agent (unconstrained - what SHOULD handle this task)\n3. A brief description of the ideal agent's capabilities\n4. The ASSIGNED agent (from available list - best match we have)\n5. Whether the subgoal is critical to the overall query\n6. Dependencies on other subgoals (by index)\n\nAvailable agents: @1-create-prd, @2-generate-tasks, @3-process-task-list, @business-analyst, @context-initializer, @docs-init, @full-stack-dev, @holistic-architect, @master, @orchestrator, @product-manager, @product-owner, @qa-test-architect, @scrum-master, @test-soar, @ux-expert\n\nFor each subgoal, you must specify TWO agents:\n1. ideal_agent: The IDEAL agent for this task (any name, even if not available)\n2. assigned_agent: The BEST AVAILABLE agent from the list above\n\nCommon ideal agents (create if needed):\n- creative-writer: story editing, narrative, creative writing\n- data-analyst: data analysis, visualization, statistics\n- ux-designer: UI/UX design, wireframes, prototypes\n- devops-engineer: CI/CD, infrastructure, deployment\n- security-expert: security audits, vulnerability analysis\n\nCommon available agents:\n- business-analyst: research, market analysis, competitive intelligence\n- master: general tasks, multi-domain work\n- full-stack-dev: code implementation, debugging, refactoring\n- holistic-architect: architecture, system design, API design\n- product-manager/product-owner: product tasks, requirements\n\nYou MUST respond with valid JSON only. Use this exact schema:\n{\n  \"goal\": \"High-level goal summarizing what we're trying to achieve\",\n  \"subgoals\": [\n    {\n      \"description\": \"Specific subgoal description\",\n      \"ideal_agent\": \"agent-that-should-handle-this\",\n      \"ideal_agent_desc\": \"Brief description of ideal agent capabilities\",\n      \"assigned_agent\": \"best-available-agent\",\n      \"is_critical\": true/false,\n      \"depends_on\": [0, 1]  // indices of prerequisite subgoals\n    }\n  ],\n  \"execution_order\": [\n    {\n      \"phase\": 1,\n      \"parallelizable\": [0, 1],  // subgoal indices that can run in parallel\n      \"sequential\": [2]  // subgoals that must run after this phase\n    }\n  ],\n  \"expected_tools\": [\"list\", \"of\", \"expected\", \"tool\", \"types\"]\n}\n\nYou MUST respond with valid JSON only. Do not include markdown code blocks, explanations, or any text outside the JSON object.",
  "phase": "unknown",
  "tool": "claude"
}