# Data Schemas: Implement Simple Feature

**Plan ID**: `0001-implement-simple-feature`
**Capability**: Schemas
**Created**: 2026-01-06 13:57:26

---

## Overview

This document specifies the data schemas and models for this plan.

## Core Schemas

### Plan Schema

```json
{
  "plan_id": "0001-implement-simple-feature",
  "goal": "Implement simple feature",
  "status": "active | completed | archived",
  "complexity": "low | medium | high",
  "created_at": "ISO 8601 timestamp",
  "updated_at": "ISO 8601 timestamp",
  "archived_at": "ISO 8601 timestamp (optional)",
  "subgoals": [
    {
      "id": "sg-N",
      "title": "string",
      "description": "string",
      "recommended_agent": "@agent-name",
      "status": "pending | in_progress | completed | blocked",
      "dependencies": ["sg-1", "sg-2"]
    }
  ],
  "tags": ["tag1", "tag2"],
  "metadata": {}
}
```

### Subgoal Schema

```typescript
interface Subgoal {
  id: string;              // Format: sg-N
  title: string;           // 10-100 chars
  description: string;     // 20-500 chars
  recommended_agent: string;        // Format: @agent-name
  status: SubgoalStatus;
  dependencies: string[];  // Array of subgoal IDs
}

enum SubgoalStatus {
  pending = "pending",
  in_progress = "in_progress",
  completed = "completed",
  blocked = "blocked"
}
```

---

## Domain-Specific Schemas

No domain-specific schemas defined yet. Add as needed during implementation.

---

## Data Flow

### Inputs
- User-provided goal text
- Agent assignments

### Outputs
- Generated plan files (8 total)
- Updated manifest.json

---

## Validation Constraints

### Field Constraints

| Field | Type | Min | Max | Pattern | Required |
|-------|------|-----|-----|---------|----------|
| plan_id | string | 10 | 50 | `^\d{4}-[a-z0-9-]+$` | Yes |
| goal | string | 10 | 500 | - | Yes |
| recommended_agent | string | 3 | 50 | `^@[a-z0-9-]+$` | Yes |
| subgoal.id | string | 4 | 10 | `^sg-\d+$` | Yes |

### Business Rules

- Plan ID must be unique across active and archived plans
- Subgoal dependencies must not form cycles
- Agent IDs must reference known agents (optional validation)
- Status transitions must follow allowed state machine

---

## Schema Versioning

**Current Version**: 1.0
**Breaking Changes**: None yet

Future versions will be tracked here with migration guides.

---

*Generated by Aurora Planning System v0.1.0*
