pytest tests/performance/test_soar_startup_performance.py tests/performance/test_goals_startup_performance.py tests/performance/test_init_performance.py -v --benchmark-only --benchmark-verbose
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/hamr/PycharmProjects/aurora
configfile: pytest.ini
plugins: cov-7.0.0, asyncio-1.3.0, anyio-4.12.0, benchmark-5.2.3, typeguard-4.4.4
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 57 items

tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_soar_help_response_time SKIPPED [  1%]
tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_critical_imports_fast SKIPPED [  3%]
tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_no_heavy_imports_at_module_level SKIPPED [  5%]
tests/performance/test_soar_startup_performance.py::TestConfigurationLoading::test_config_load_time SKIPPED [  7%]
tests/performance/test_soar_startup_performance.py::TestStoreInitialization::test_sqlite_store_init_fast SKIPPED [  8%]
tests/performance/test_soar_startup_performance.py::TestStoreInitialization::test_store_has_memory_check_fast SKIPPED [ 10%]
tests/performance/test_soar_startup_performance.py::TestAgentDiscovery::test_agent_registry_init_fast SKIPPED [ 12%]
tests/performance/test_soar_startup_performance.py::TestAgentDiscovery::test_agent_manifest_loading_fast SKIPPED [ 14%]
tests/performance/test_soar_startup_performance.py::TestOrchestratorInitialization::test_orchestrator_init_without_llm SKIPPED [ 15%]
tests/performance/test_soar_startup_performance.py::TestBackgroundModelLoading::test_background_loading_starts_quickly SKIPPED [ 17%]
tests/performance/test_soar_startup_performance.py::TestBackgroundModelLoading::test_model_cache_check_lightweight SKIPPED [ 19%]
tests/performance/test_soar_startup_performance.py::TestEndToEndStartup::test_soar_command_startup_to_llm_call SKIPPED [ 21%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_import_time SKIPPED [ 22%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_config_time SKIPPED [ 24%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_store_init_time SKIPPED [ 26%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_registry_init_time SKIPPED [ 28%]
tests/performance/test_soar_startup_performance.py::TestStartupOptimizations::test_lazy_imports_working SKIPPED [ 29%]
tests/performance/test_soar_startup_performance.py::TestStartupOptimizations::test_background_loading_exists SKIPPED [ 31%]
tests/performance/test_soar_startup_performance.py::TestProgressiveStartup::test_phase_callback_fires_early SKIPPED [ 33%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_embedding_provider_lazy_loading SKIPPED [ 35%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_embedding_dim_without_model_load SKIPPED [ 36%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_model_cache_check_performance SKIPPED [ 38%]
tests/performance/test_goals_startup_performance.py::TestMemoryRetrieverStartup::test_retriever_lazy_initialization SKIPPED [ 40%]
tests/performance/test_goals_startup_performance.py::TestMemoryRetrieverStartup::test_retriever_bm25_only_fallback_fast SKIPPED [ 42%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_config_loading_fast SKIPPED [ 43%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_plan_id_generation_fast SKIPPED [ 45%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_goal_validation_fast SKIPPED [ 47%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_complexity_assessment_fast SKIPPED [ 49%]
tests/performance/test_goals_startup_performance.py::TestMemorySearchStartup::test_store_initialization_fast SKIPPED [ 50%]
tests/performance/test_goals_startup_performance.py::TestMemorySearchStartup::test_agent_registry_discovery_fast SKIPPED [ 52%]
tests/performance/test_goals_startup_performance.py::TestStartupTimeThresholds::test_imports_fast SKIPPED [ 54%]
tests/performance/test_goals_startup_performance.py::TestStartupTimeThresholds::test_no_model_loading_on_import SKIPPED [ 56%]
tests/performance/test_goals_startup_performance.py::TestRegressionGuards::test_setup_time_before_llm_call SKIPPED [ 57%]
tests/performance/test_goals_startup_performance.py::TestRegressionGuards::test_no_model_download_attempt_when_cached SKIPPED [ 59%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_help_fast SKIPPED [ 61%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_validation_error_fast SKIPPED [ 63%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_cli_setup_without_llm SKIPPED [ 64%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_preload_model_method_exists SKIPPED [ 66%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_is_model_loaded_property SKIPPED [ 68%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_background_preload_thread_safe SKIPPED [ 70%]
tests/performance/test_goals_startup_performance.py::TestModelLoadingTiming::test_cached_model_load_time SKIPPED [ 71%]
tests/performance/test_goals_startup_performance.py::TestModelLoadingTiming::test_known_models_have_cached_dimensions SKIPPED [ 73%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_aurora_cli_import_time SKIPPED [ 75%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_config_instantiation_guard SKIPPED [ 77%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_goal_validation_guard SKIPPED [ 78%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_plan_id_generation_guard SKIPPED [ 80%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_model_cache_check_guard SKIPPED [ 82%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_no_embedding_import_on_goals_help SKIPPED [ 84%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_has_indexed_memory_avoids_model_load SKIPPED [ 85%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_hf_hub_offline_prevents_network SKIPPED [ 87%]
tests/performance/test_init_performance.py::test_init_performance_100_files ERROR [ 89%]
tests/performance/test_init_performance.py::test_init_performance_1000_files ERROR [ 91%]
tests/performance/test_init_performance.py::test_step_1_performance
Computing precision for time.perf_counter ... 158.99ns.

  Calibrating to target round 5.00us; will estimate when reaching 2.50us (using: time.perf_counter, precision: 158.99ns).
FAILED [ 92%]
tests/performance/test_init_performance.py::test_step_2_performance_100_files ERROR [ 94%]
tests/performance/test_init_performance.py::test_step_3_performance
  Calibrating to target round 5.00us; will estimate when reaching 2.50us (using: time.perf_counter, precision: 158.99ns).
FAILED [ 96%]
tests/performance/test_init_performance.py::test_memory_usage_during_init SKIPPED [ 98%]
tests/performance/test_init_performance.py::test_progress_bar_updates_smoothly SKIPPED [100%]

==================================== ERRORS ====================================
______________ ERROR at setup of test_init_performance_100_files _______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x746ea61420b0>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
______________ ERROR at setup of test_init_performance_1000_files ______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x746ea6143340>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
_____________ ERROR at setup of test_step_2_performance_100_files ______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x746ea5e17be0>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
=================================== FAILURES ===================================
___________________________ test_step_1_performance ____________________________

temp_project = PosixPath('/tmp/tmpdxfn_wce')
mock_git_init = <MagicMock name='run' id='128018581781328'>
benchmark = <pytest_benchmark.fixture.BenchmarkFixture object at 0x746ea5f1fdc0>

    def test_step_1_performance(temp_project, mock_git_init, benchmark):
        """Test Step 1 (Planning Setup) performance (target: <1s)."""
        from aurora_cli.commands.init import run_step_1_planning_setup

        # Benchmark Step 1
        with patch("aurora_cli.commands.init_helpers.prompt_git_init") as mock_prompt:
            mock_prompt.return_value = False  # Skip git init

>           result = benchmark(lambda: run_step_1_planning_setup(temp_project))

tests/performance/test_init_performance.py:164:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:184: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:216: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:370: in _calibrate_timer
    duration = runner(loops_range)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:138: in runner
    function_to_benchmark(*args, **kwargs)
tests/performance/test_init_performance.py:164: in <lambda>
    result = benchmark(lambda: run_step_1_planning_setup(temp_project))
src/aurora_cli/commands/init.py:219: in run_step_1_planning_setup
    if prompt_git_init():
src/aurora_cli/commands/init_helpers.py:57: in prompt_git_init
    return click.confirm("Initialize git repository?", default=True)
../../.local/lib/python3.10/site-packages/click/termui.py:237: in confirm
    value = visible_prompt_func(" ").lower().strip()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <_pytest.capture.DontReadFromInput object at 0x746ea84d68f0>, size = -1

    def read(self, size: int = -1) -> str:
>       raise OSError(
            "pytest: reading from stdin while output is captured!  Consider using `-s`."
        )
E       OSError: pytest: reading from stdin while output is captured!  Consider using `-s`.

../../.local/lib/python3.10/site-packages/_pytest/capture.py:229: OSError
----------------------------- Captured stdout call -----------------------------

Step 1/3: Planning Setup
Setting up git and Aurora directory structure...


Git repository not found.

Benefits of using git with Aurora:
  • Version control for plans and generated files
  • Easy rollback of planning iterations
  • Collaboration with team members

Initialize git repository? [Y/n]:
___________________________ test_step_3_performance ____________________________

temp_project = PosixPath('/tmp/tmpwc1m6tx0')
benchmark = <pytest_benchmark.fixture.BenchmarkFixture object at 0x746ea5e749d0>

    def test_step_3_performance(temp_project, benchmark):
        """Test Step 3 (Tool Configuration) performance (target: <2s)."""
        from aurora_cli.commands.init import run_step_3_tool_configuration

        # Create .aurora directory
        (temp_project / ".aurora").mkdir()

        # Mock tool selection
        with patch("aurora_cli.commands.init_helpers.prompt_tool_selection") as mock_prompt:
            mock_prompt.return_value = []

            with patch("aurora_cli.commands.init_helpers.configure_tools") as mock_configure:
                mock_configure.return_value = ([], [])

                # Benchmark Step 3
>               result = benchmark(lambda: run_step_3_tool_configuration(temp_project))

tests/performance/test_init_performance.py:218:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:184: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:216: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:370: in _calibrate_timer
    duration = runner(loops_range)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:138: in runner
    function_to_benchmark(*args, **kwargs)
tests/performance/test_init_performance.py:218: in <lambda>
    result = benchmark(lambda: run_step_3_tool_configuration(temp_project))
src/aurora_cli/commands/init.py:331: in run_step_3_tool_configuration
    selected_tool_ids = asyncio.run(prompt_tool_selection(configured_tools=configured_tools))
/usr/lib/python3.10/asyncio/runners.py:44: in run
    return loop.run_until_complete(main)
/usr/lib/python3.10/asyncio/base_events.py:649: in run_until_complete
    return future.result()
src/aurora_cli/commands/init_helpers.py:615: in prompt_tool_selection
    selected = await questionary.checkbox(
../../.local/lib/python3.10/site-packages/questionary/question.py:43: in ask_async
    return await self.unsafe_ask_async(patch_stdout)
../../.local/lib/python3.10/site-packages/questionary/question.py:132: in unsafe_ask_async
    return await r
../../.local/lib/python3.10/site-packages/prompt_toolkit/application/application.py:886: in run_async
    return await _run_async(f)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

f = <Future finished exception=EOFError()>

    async def _run_async(f: asyncio.Future[_AppResult]) -> _AppResult:
        context = contextvars.copy_context()
        self.context = context

        # Counter for cancelling 'flush' timeouts. Every time when a key is
        # pressed, we start a 'flush' timer for flushing our escape key. But
        # when any subsequent input is received, a new timer is started and
        # the current timer will be ignored.
        flush_task: asyncio.Task[None] | None = None

        # Reset.
        # (`self.future` needs to be set when `pre_run` is called.)
        self.reset()
        self._pre_run(pre_run)

        # Feed type ahead input first.
        self.key_processor.feed_multiple(get_typeahead(self.input))
        self.key_processor.process_keys()

        def read_from_input() -> None:
            nonlocal flush_task

            # Ignore when we aren't running anymore. This callback will
            # removed from the loop next time. (It could be that it was
            # still in the 'tasks' list of the loop.)
            # Except: if we need to process incoming CPRs.
            if not self._is_running and not self.renderer.waiting_for_cpr:
                return

            # Get keys from the input object.
            keys = self.input.read_keys()

            # Feed to key processor.
            self.key_processor.feed_multiple(keys)
            self.key_processor.process_keys()

            # Quit when the input stream was closed.
            if self.input.closed:
                if not f.done():
                    f.set_exception(EOFError)
            else:
                # Automatically flush keys.
                if flush_task:
                    flush_task.cancel()
                flush_task = self.create_background_task(auto_flush_input())

        def read_from_input_in_context() -> None:
            # Ensure that key bindings callbacks are always executed in the
            # current context. This is important when key bindings are
            # accessing contextvars. (These callbacks are currently being
            # called from a different context. Underneath,
            # `loop.add_reader` is used to register the stdin FD.)
            # (We copy the context to avoid a `RuntimeError` in case the
            # context is already active.)
            context.copy().run(read_from_input)

        async def auto_flush_input() -> None:
            # Flush input after timeout.
            # (Used for flushing the enter key.)
            # This sleep can be cancelled, in that case we won't flush yet.
            await sleep(self.ttimeoutlen)
            flush_input()

        def flush_input() -> None:
            if not self.is_done:
                # Get keys, and feed to key processor.
                keys = self.input.flush_keys()
                self.key_processor.feed_multiple(keys)
                self.key_processor.process_keys()

                if self.input.closed:
                    f.set_exception(EOFError)

        # Enter raw mode, attach input and attach WINCH event handler.
        with self.input.raw_mode(), self.input.attach(
            read_from_input_in_context
        ), attach_winch_signal_handler(self._on_resize):
            # Draw UI.
            self._request_absolute_cursor_position()
            self._redraw()
            self._start_auto_refresh_task()

            self.create_background_task(self._poll_output_size())

            # Wait for UI to finish.
            try:
>               result = await f
E               EOFError

../../.local/lib/python3.10/site-packages/prompt_toolkit/application/application.py:746: EOFError
----------------------------- Captured stdout call -----------------------------

Step 3/3: Tool Configuration
Configure AI coding tools with Aurora integration...


Welcome to Aurora!
Select AI coding tools

? Select tools to configure: (↑↓ navigate, space=toggle, a=all, enter=confirm)                                                                              ? Select tools to configure: (↑↓ navigate, space=toggle, a=all, enter=confirm)
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.10.12-final-0 _______________

Name                                                                  Stmts   Miss   Cover   Missing
----------------------------------------------------------------------------------------------------
packages/cli/src/aurora_cli/commands/goals.py                           192    152  20.83%   71-90, 125-140, 152-154, 163-175, 197, 224-292, 304-322, 334-359, 466-532, 542-545, 563-565, 574-579
packages/cli/src/aurora_cli/commands/headless.py                        562    511   9.07%   25-34, 42-52, 60-72, 105, 139-184, 206-217, 237-251, 263, 275-291, 324-341, 556-716, 747-894, 917-1012, 1021-1088, 1093-1132, 1137-1155, 1160-1171, 1176-1181, 1199-1245, 1267-1369
packages/cli/src/aurora_cli/commands/init.py                            488    463   5.12%   39, 60-80, 94-103, 127-185, 208-280, 313-454, 475-542, 552-555, 575-675, 726-1023
packages/cli/src/aurora_cli/commands/init_helpers.py                    395    360   8.86%   35-36, 48-57, 70-71, 84-109, 122-123, 140-141, 161-205, 224-237, 259-333, 345-396, 411-421, 438-560, 576-662, 685-724, 743-772, 787-864, 881-906, 921-939, 955-963, 976-977, 1005-1054, 1067-1069, 1093-1141
packages/cli/src/aurora_cli/commands/memory.py                          649    578  10.94%   47-60, 89-91, 95-99, 129-245, 263-313, 381-395, 494-617, 646-666, 693-849, 869-1016, 1026-1042, 1055-1062, 1076-1078, 1102-1115, 1152-1298, 1327-1370, 1383-1417, 1443-1449, 1478-1508, 1518-1526, 1536-1555, 1568-1598
packages/cli/src/aurora_cli/commands/plan.py                            201    153  23.88%   159-231, 271-285, 334-392, 440-490, 521-546
packages/cli/src/aurora_cli/commands/spawn.py                           142    114  19.72%   137-244, 261-278, 310-355, 383-422, 439
packages/cli/src/aurora_cli/config.py                                   251    170  32.27%   34-35, 67-73, 78-81, 87-157, 177-205, 216-224, 237-290, 300-301, 307-313, 318-319, 324-327, 332-333, 338-339, 362-374, 378, 382, 387, 391, 398, 402, 406, 410, 414, 418, 425, 429, 433, 437, 441, 445, 449, 453, 457, 461, 465, 469, 473, 478-479, 483, 486, 489, 492, 495, 499-501
packages/cli/src/aurora_cli/configurators/agents.py                      11      3  72.73%   18, 23, 35
packages/cli/src/aurora_cli/configurators/ampcode.py                     11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/base.py                        34     19  44.12%   38, 74, 101-104, 130-153
packages/cli/src/aurora_cli/configurators/claude.py                      14      4  71.43%   20, 25, 37, 57
packages/cli/src/aurora_cli/configurators/claude_commands.py             41     28  31.71%   29, 34, 39, 58-74, 95-120, 129
packages/cli/src/aurora_cli/configurators/droid.py                       11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/opencode.py                    11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/registry.py                    33     14  57.58%   23-34, 44-46, 59-60, 70-71, 81-82
packages/cli/src/aurora_cli/configurators/slash/amazon_q.py              20      7  65.00%   81, 86, 98, 110, 122, 134-141
packages/cli/src/aurora_cli/configurators/slash/antigravity.py           20      7  65.00%   39, 44, 56, 68-69, 81, 93
packages/cli/src/aurora_cli/configurators/slash/auggie.py                20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/base.py                  62     43  30.65%   59, 74, 90-121, 136-146, 200, 213-214, 227-242
packages/cli/src/aurora_cli/configurators/slash/claude.py                20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/cline.py                 21      8  61.90%   40, 45, 57, 74-76, 88, 100
packages/cli/src/aurora_cli/configurators/slash/codebuddy.py             20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/codex.py                 62     43  30.65%   70, 75, 87-94, 109, 124, 136, 148-155, 170-172, 188-216, 231-243
packages/cli/src/aurora_cli/configurators/slash/costrict.py              20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/crush.py                 20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/cursor.py                20      7  65.00%   70, 75, 87, 99, 111, 123-130
packages/cli/src/aurora_cli/configurators/slash/factory.py               18      6  66.67%   70, 75, 87, 99, 113-114
packages/cli/src/aurora_cli/configurators/slash/gemini.py                17      5  70.59%   41, 46, 58, 70, 82
packages/cli/src/aurora_cli/configurators/slash/github_copilot.py        20      7  65.00%   60, 65, 77, 89, 101, 113-120
packages/cli/src/aurora_cli/configurators/slash/iflow.py                 20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/kilocode.py              19      7  63.16%   30, 35, 47, 61, 73, 85-92
packages/cli/src/aurora_cli/configurators/slash/opencode.py              20      7  65.00%   76, 81, 93, 105, 117, 129-136
packages/cli/src/aurora_cli/configurators/slash/qoder.py                 20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/qwen.py                  17      5  70.59%   40, 45, 57, 69, 81
packages/cli/src/aurora_cli/configurators/slash/registry.py              56     38  32.14%   22-76, 89-90, 103-105, 115-116, 126-127, 135-136, 149
packages/cli/src/aurora_cli/configurators/slash/roocode.py               21      8  61.90%   40, 45, 57, 74-76, 88, 100
packages/cli/src/aurora_cli/configurators/slash/toml_base.py             33     25  24.24%   42, 70-87, 100-104, 127-142
packages/cli/src/aurora_cli/configurators/slash/windsurf.py              20      7  65.00%   41, 46, 58, 72-73, 88, 100
packages/cli/src/aurora_cli/errors.py                                   194    149  23.20%   61-69, 83, 93, 107-177, 198-286, 309-382, 411-454, 478-536, 562-566, 602-604, 638-641, 670-788
packages/cli/src/aurora_cli/ignore_patterns.py                           46     38  17.39%   40-55, 70-81, 101-123
packages/cli/src/aurora_cli/llm/cli_pipe_client.py                      101     81  19.80%   55-63, 72-78, 88-95, 127-232, 270-287, 301, 306
packages/cli/src/aurora_cli/memory_manager.py                           697    592  15.06%   67-72, 93-97, 101-103, 107-123, 139-148, 157-160, 173-182, 198-239, 405-418, 426-434, 475-1034, 1060-1122, 1134-1171, 1185-1203, 1216-1219, 1232-1253, 1265-1278, 1287-1299, 1308-1323, 1332-1354, 1363-1373, 1393-1444, 1453-1454, 1463-1464, 1473-1485, 1494-1498, 1507-1536, 1545-1576, 1586-1594, 1611-1645, 1654-1664, 1684-1699, 1726-1784, 1796-1818
packages/cli/src/aurora_cli/planning/core.py                            670    623   7.01%   49-51, 64, 87-133, 161-225, 242-244, 257-263, 274-276, 294-306, 321-343, 356-366, 389-465, 487-564, 588-671, 691-768, 781-785, 800-808, 821-854, 879-908, 930-1007, 1020-1053, 1066, 1103-1124, 1155-1207, 1239-1409, 1449-1744, 1770-1788, 1793, 1826, 1852, 1878, 1918, 1944, 2007-2121
packages/cli/src/aurora_cli/planning/errors.py                           19      8  57.89%   93-100, 122
packages/cli/src/aurora_cli/planning/models.py                          331    199  39.88%   159-168, 185-191, 207-226, 338-346, 356-366, 379-408, 417, 430, 481-483, 493-498, 503, 558-566, 626-629, 647-653, 741-744, 758-953
packages/cli/src/aurora_cli/planning/renderer.py                         70     53  24.29%   20-22, 40-41, 54-64, 69, 85-90, 103-185, 207-257
packages/cli/src/aurora_cli/planning/results.py                          52      2  96.15%   174-175
packages/cli/src/aurora_cli/templates/agents.py                           3      1  66.67%   282
packages/cli/src/aurora_cli/templates/claude.py                           3      1  66.67%   32
packages/cli/src/aurora_cli/templates/commands.py                         9      2  77.78%   20, 30
packages/cli/src/aurora_cli/templates/project.py                          3      1  66.67%   47
packages/cli/src/aurora_cli/templates/slash_commands.py                  14      3  78.57%   301-304
packages/context-code/src/aurora_context_code/__init__.py                 8      4  50.00%   24-39
packages/context-code/src/aurora_context_code/git.py                    149    130  12.75%   58-75, 82-98, 114-157, 188-226, 259-294, 298-300, 315-326, 342-367, 407-439
packages/context-code/src/aurora_context_code/parser.py                   7      1  85.71%   39
packages/context-code/src/aurora_context_code/registry.py                66     50  24.24%   33-34, 46-53, 65, 79-85, 94, 106-110, 114-115, 137-144, 154-184
packages/core/src/aurora_core/chunks/base.py                             16      8  50.00%   31-34, 76-78, 82
packages/core/src/aurora_core/chunks/code_chunk.py                      100     75  25.00%   85-102, 114-130, 163-215, 236-270
packages/core/src/aurora_core/chunks/reasoning_chunk.py                  55     36  34.55%   64-76, 85, 118-142, 155-185
packages/core/src/aurora_core/exceptions.py                              40     24  40.00%   23-25, 28-30, 95-97, 127-139, 162-164, 195-198
packages/core/src/aurora_core/metrics/query_metrics.py                  102     70  31.37%   70-73, 77-115, 147-183, 195-300, 312-340
packages/core/src/aurora_core/paths.py                                   20     12  40.00%   37-42, 56, 66, 76, 90, 104-106, 116
packages/core/src/aurora_core/store/base.py                              17      9  47.06%   243-250, 287-288
packages/core/src/aurora_core/store/connection_pool.py                   87     74  14.94%   27-30, 55-110, 120-139, 148-168, 185-190, 200-201
packages/core/src/aurora_core/store/memory.py                           139    116  16.55%   42-47, 51-52, 59-61, 77-96, 111-112, 126-142, 158-170, 195-216, 233-259, 279-300, 325-343, 363-381, 407-437, 449-453, 457, 461
packages/core/src/aurora_core/store/migrations.py                       103     72  30.10%   48-53, 104-152, 160-168, 189-197, 209-210, 225-256, 271-286, 306-318, 332
packages/core/src/aurora_core/store/schema.py                            19      2  89.47%   123, 133
packages/core/src/aurora_core/store/sqlite.py                           331    291  12.08%   63-76, 90-109, 123-138, 156-202, 216-229, 248-262, 279-327, 342-363, 378-418, 435-453, 471-487, 502-508, 531-582, 601-621, 646-669, 689-731, 755-836, 859-889, 915-943, 967-1000, 1009-1014, 1031-1059, 1081-1098
packages/implement/src/implement/executor.py                             50     30  40.00%   52, 65-92, 106, 123-149, 167-174, 184-202
packages/implement/src/implement/models.py                               14      2  85.71%   40, 63
packages/implement/src/implement/parser.py                               32     23  28.12%   51-90
packages/reasoning/src/aurora_reasoning/llm_client.py                   175    131  25.14%   134-160, 188-206, 212-215, 251-278, 309-326, 341, 346, 374-392, 396-399, 435-467, 498-519, 534, 539, 564-576, 580-583, 619-662, 693-710, 725, 730
packages/reasoning/src/aurora_reasoning/prompts/__init__.py              23     16  30.43%   25-26, 68-76, 91-100
packages/reasoning/src/aurora_reasoning/prompts/verify_synthesis.py      20     11  45.00%   16, 20, 52-73, 77
packages/reasoning/src/aurora_reasoning/synthesize.py                   129    113  12.40%   42-47, 51, 61, 101-217, 247-293, 298, 324-345, 361-395, 413-421, 438-452
packages/spawner/src/aurora_spawner/circuit_breaker.py                  160    128  20.00%   90-103, 113-115, 132-137, 146-147, 166-249, 258-266, 278-279, 295-325, 334-336, 340-341, 353-368, 380-399, 421, 439-441
packages/spawner/src/aurora_spawner/early_detection.py                  165    120  27.27%   95-99, 103-113, 120-135, 149-160, 176-190, 199-200, 212-220, 224-234, 238-248, 258-278, 301-323, 334-355, 370-372, 388-398
packages/spawner/src/aurora_spawner/heartbeat.py                        112     71  36.61%   42, 46, 71-78, 96-123, 132-133, 142-143, 152-153, 162-165, 174-177, 189-199, 227-231, 240-259, 271-286, 299, 313
packages/spawner/src/aurora_spawner/models.py                            25      2  92.00%   19, 45
packages/spawner/src/aurora_spawner/observability.py                    330    238  27.88%   121-135, 139-152, 156-162, 179-194, 210-220, 229-231, 235-241, 245-255, 268-304, 331-371, 389-396, 412-429, 440-468, 490-570, 581-596, 615-619, 637, 655-657, 666, 675-688, 712-721, 730-763, 793-795, 812-815, 831-925
packages/spawner/src/aurora_spawner/recovery.py                         354    193  45.48%   103-116, 131, 135, 147-161, 165-167, 171-174, 183-187, 192, 197, 202-210, 214, 271-273, 278-282, 301-311, 323, 336, 345, 355, 364-374, 386, 465-474, 486, 501-503, 549-569, 581-590, 602-611, 623-630, 634, 658-664, 674-676, 682-683, 748-755, 767, 781-798, 823-832, 837, 850, 863, 872, 881, 905-918, 930-931, 943, 947, 981-993, 1033-1047, 1059-1061, 1078, 1104-1106, 1111-1114, 1118
packages/spawner/src/aurora_spawner/spawner.py                          635    616   2.99%   66-486, 513-551, 602-671, 714-857, 878-908, 961-1271, 1305-1554
packages/spawner/src/aurora_spawner/timeout_policy.py                   135     62  54.07%   76-101, 114-127, 162-169, 183-194, 207-208, 261-277, 307, 334, 361, 384, 410, 430, 465-479, 483
----------------------------------------------------------------------------------------------------
TOTAL                                                                  9559   7340  23.21%

16 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
=========================== short test summary info ============================
SKIPPED [19] tests/performance/test_soar_startup_performance.py: Skipping non-benchmark (--benchmark-only active).
SKIPPED [30] tests/performance/test_goals_startup_performance.py: Skipping non-benchmark (--benchmark-only active).
SKIPPED [1] tests/performance/test_goals_startup_performance.py:648: Skipping non-benchmark (--benchmark-only active).
SKIPPED [2] tests/performance/test_init_performance.py: Skipping non-benchmark (--benchmark-only active).
ERROR tests/performance/test_init_performance.py::test_init_performance_100_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
ERROR tests/performance/test_init_performance.py::test_init_performance_1000_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
ERROR tests/performance/test_init_performance.py::test_step_2_performance_100_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
FAILED tests/performance/test_init_performance.py::test_step_1_performance - OSError: pytest: reading from stdin while output is captured!  Consider using `-s`.
FAILED tests/performance/test_init_performance.py::test_step_3_performance - EOFError
=================== 2 failed, 52 skipped, 3 errors in 30.24s ===================
make: *** [Makefile:89: benchmark-startup] Error 1
