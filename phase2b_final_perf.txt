pytest tests/performance/test_soar_startup_performance.py tests/performance/test_goals_startup_performance.py tests/performance/test_init_performance.py -v --benchmark-only --benchmark-verbose
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/hamr/PycharmProjects/aurora
configfile: pytest.ini
plugins: cov-7.0.0, asyncio-1.3.0, anyio-4.12.0, benchmark-5.2.3, typeguard-4.4.4
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 57 items

tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_soar_help_response_time SKIPPED [  1%]
tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_critical_imports_fast SKIPPED [  3%]
tests/performance/test_soar_startup_performance.py::TestSOARCommandStartup::test_no_heavy_imports_at_module_level SKIPPED [  5%]
tests/performance/test_soar_startup_performance.py::TestConfigurationLoading::test_config_load_time SKIPPED [  7%]
tests/performance/test_soar_startup_performance.py::TestStoreInitialization::test_sqlite_store_init_fast SKIPPED [  8%]
tests/performance/test_soar_startup_performance.py::TestStoreInitialization::test_store_has_memory_check_fast SKIPPED [ 10%]
tests/performance/test_soar_startup_performance.py::TestAgentDiscovery::test_agent_registry_init_fast SKIPPED [ 12%]
tests/performance/test_soar_startup_performance.py::TestAgentDiscovery::test_agent_manifest_loading_fast SKIPPED [ 14%]
tests/performance/test_soar_startup_performance.py::TestOrchestratorInitialization::test_orchestrator_init_without_llm SKIPPED [ 15%]
tests/performance/test_soar_startup_performance.py::TestBackgroundModelLoading::test_background_loading_starts_quickly SKIPPED [ 17%]
tests/performance/test_soar_startup_performance.py::TestBackgroundModelLoading::test_model_cache_check_lightweight SKIPPED [ 19%]
tests/performance/test_soar_startup_performance.py::TestEndToEndStartup::test_soar_command_startup_to_llm_call SKIPPED [ 21%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_import_time SKIPPED [ 22%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_config_time SKIPPED [ 24%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_store_init_time SKIPPED [ 26%]
tests/performance/test_soar_startup_performance.py::TestRegressionGuards::test_guard_registry_init_time SKIPPED [ 28%]
tests/performance/test_soar_startup_performance.py::TestStartupOptimizations::test_lazy_imports_working SKIPPED [ 29%]
tests/performance/test_soar_startup_performance.py::TestStartupOptimizations::test_background_loading_exists SKIPPED [ 31%]
tests/performance/test_soar_startup_performance.py::TestProgressiveStartup::test_phase_callback_fires_early SKIPPED [ 33%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_embedding_provider_lazy_loading SKIPPED [ 35%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_embedding_dim_without_model_load SKIPPED [ 36%]
tests/performance/test_goals_startup_performance.py::TestEmbeddingProviderStartup::test_model_cache_check_performance SKIPPED [ 38%]
tests/performance/test_goals_startup_performance.py::TestMemoryRetrieverStartup::test_retriever_lazy_initialization SKIPPED [ 40%]
tests/performance/test_goals_startup_performance.py::TestMemoryRetrieverStartup::test_retriever_bm25_only_fallback_fast SKIPPED [ 42%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_config_loading_fast SKIPPED [ 43%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_plan_id_generation_fast SKIPPED [ 45%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_goal_validation_fast SKIPPED [ 47%]
tests/performance/test_goals_startup_performance.py::TestGoalsCommandStartup::test_complexity_assessment_fast SKIPPED [ 49%]
tests/performance/test_goals_startup_performance.py::TestMemorySearchStartup::test_store_initialization_fast SKIPPED [ 50%]
tests/performance/test_goals_startup_performance.py::TestMemorySearchStartup::test_agent_registry_discovery_fast SKIPPED [ 52%]
tests/performance/test_goals_startup_performance.py::TestStartupTimeThresholds::test_imports_fast SKIPPED [ 54%]
tests/performance/test_goals_startup_performance.py::TestStartupTimeThresholds::test_no_model_loading_on_import SKIPPED [ 56%]
tests/performance/test_goals_startup_performance.py::TestRegressionGuards::test_setup_time_before_llm_call SKIPPED [ 57%]
tests/performance/test_goals_startup_performance.py::TestRegressionGuards::test_no_model_download_attempt_when_cached SKIPPED [ 59%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_help_fast SKIPPED [ 61%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_validation_error_fast SKIPPED [ 63%]
tests/performance/test_goals_startup_performance.py::TestCLIStartupTime::test_goals_cli_setup_without_llm SKIPPED [ 64%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_preload_model_method_exists SKIPPED [ 66%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_is_model_loaded_property SKIPPED [ 68%]
tests/performance/test_goals_startup_performance.py::TestBackgroundPreloading::test_background_preload_thread_safe SKIPPED [ 70%]
tests/performance/test_goals_startup_performance.py::TestModelLoadingTiming::test_cached_model_load_time SKIPPED [ 71%]
tests/performance/test_goals_startup_performance.py::TestModelLoadingTiming::test_known_models_have_cached_dimensions SKIPPED [ 73%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_aurora_cli_import_time SKIPPED [ 75%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_config_instantiation_guard SKIPPED [ 77%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_goal_validation_guard SKIPPED [ 78%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_plan_id_generation_guard SKIPPED [ 80%]
tests/performance/test_goals_startup_performance.py::TestGranularRegressionGuards::test_model_cache_check_guard SKIPPED [ 82%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_no_embedding_import_on_goals_help SKIPPED [ 84%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_has_indexed_memory_avoids_model_load SKIPPED [ 85%]
tests/performance/test_goals_startup_performance.py::TestStartupPathOptimizations::test_hf_hub_offline_prevents_network SKIPPED [ 87%]
tests/performance/test_init_performance.py::test_init_performance_100_files ERROR [ 89%]
tests/performance/test_init_performance.py::test_init_performance_1000_files ERROR [ 91%]
tests/performance/test_init_performance.py::test_step_1_performance
Computing precision for time.perf_counter ... 175.99ns.

  Calibrating to target round 5.00us; will estimate when reaching 2.50us (using: time.perf_counter, precision: 175.99ns).
FAILED [ 92%]
tests/performance/test_init_performance.py::test_step_2_performance_100_files ERROR [ 94%]
tests/performance/test_init_performance.py::test_step_3_performance
  Calibrating to target round 5.00us; will estimate when reaching 2.50us (using: time.perf_counter, precision: 175.99ns).
FAILED [ 96%]
tests/performance/test_init_performance.py::test_memory_usage_during_init SKIPPED [ 98%]
tests/performance/test_init_performance.py::test_progress_bar_updates_smoothly SKIPPED [100%]

==================================== ERRORS ====================================
______________ ERROR at setup of test_init_performance_100_files _______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x7932f75498a0>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
______________ ERROR at setup of test_init_performance_1000_files ______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x7932f7571ba0>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
_____________ ERROR at setup of test_step_2_performance_100_files ______________

    @pytest.fixture
    def mock_memory_manager():
        """Mock MemoryManager for indexing."""
>       with patch("aurora_cli.commands.init.MemoryManager") as mock_mm:

tests/performance/test_init_performance.py:35:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.10/unittest/mock.py:1447: in __enter__
    original, local = self.get_original()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <unittest.mock._patch object at 0x7932f7570250>

    def get_original(self):
        target = self.getter()
        name = self.attribute

        original = DEFAULT
        local = False

        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True

        if name in _builtins and isinstance(target, ModuleType):
            self.create = True

        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'

/usr/lib/python3.10/unittest/mock.py:1420: AttributeError
=================================== FAILURES ===================================
___________________________ test_step_1_performance ____________________________

temp_project = PosixPath('/tmp/tmp6oeyyarj')
mock_git_init = <MagicMock name='run' id='133259806046240'>
benchmark = <pytest_benchmark.fixture.BenchmarkFixture object at 0x7932f72166e0>

    def test_step_1_performance(temp_project, mock_git_init, benchmark):
        """Test Step 1 (Planning Setup) performance (target: <1s)."""
        from aurora_cli.commands.init import run_step_1_planning_setup

        # Benchmark Step 1
        with patch("aurora_cli.commands.init_helpers.prompt_git_init") as mock_prompt:
            mock_prompt.return_value = False  # Skip git init

>           result = benchmark(lambda: run_step_1_planning_setup(temp_project))

tests/performance/test_init_performance.py:164:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:184: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:216: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:370: in _calibrate_timer
    duration = runner(loops_range)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:138: in runner
    function_to_benchmark(*args, **kwargs)
tests/performance/test_init_performance.py:164: in <lambda>
    result = benchmark(lambda: run_step_1_planning_setup(temp_project))
src/aurora_cli/commands/init.py:219: in run_step_1_planning_setup
    if prompt_git_init():
src/aurora_cli/commands/init_helpers.py:58: in prompt_git_init
    return click.confirm("Initialize git repository?", default=True)
../../.local/lib/python3.10/site-packages/click/termui.py:237: in confirm
    value = visible_prompt_func(" ").lower().strip()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <_pytest.capture.DontReadFromInput object at 0x7932f978a8c0>, size = -1

    def read(self, size: int = -1) -> str:
>       raise OSError(
            "pytest: reading from stdin while output is captured!  Consider using `-s`."
        )
E       OSError: pytest: reading from stdin while output is captured!  Consider using `-s`.

../../.local/lib/python3.10/site-packages/_pytest/capture.py:229: OSError
----------------------------- Captured stdout call -----------------------------

Step 1/3: Planning Setup
Setting up git and Aurora directory structure...


Git repository not found.

Benefits of using git with Aurora:
  • Version control for plans and generated files
  • Easy rollback of planning iterations
  • Collaboration with team members

Initialize git repository? [Y/n]:
___________________________ test_step_3_performance ____________________________

temp_project = PosixPath('/tmp/tmp7if9dw79')
benchmark = <pytest_benchmark.fixture.BenchmarkFixture object at 0x7932f7685de0>

    def test_step_3_performance(temp_project, benchmark):
        """Test Step 3 (Tool Configuration) performance (target: <2s)."""
        from aurora_cli.commands.init import run_step_3_tool_configuration

        # Create .aurora directory
        (temp_project / ".aurora").mkdir()

        # Mock tool selection
        with patch("aurora_cli.commands.init_helpers.prompt_tool_selection") as mock_prompt:
            mock_prompt.return_value = []

            with patch("aurora_cli.commands.init_helpers.configure_tools") as mock_configure:
                mock_configure.return_value = ([], [])

                # Benchmark Step 3
>               result = benchmark(lambda: run_step_3_tool_configuration(temp_project))

tests/performance/test_init_performance.py:218:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:184: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:216: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:370: in _calibrate_timer
    duration = runner(loops_range)
../../.local/lib/python3.10/site-packages/pytest_benchmark/fixture.py:138: in runner
    function_to_benchmark(*args, **kwargs)
tests/performance/test_init_performance.py:218: in <lambda>
    result = benchmark(lambda: run_step_3_tool_configuration(temp_project))
src/aurora_cli/commands/init.py:331: in run_step_3_tool_configuration
    selected_tool_ids = asyncio.run(prompt_tool_selection(configured_tools=configured_tools))
/usr/lib/python3.10/asyncio/runners.py:44: in run
    return loop.run_until_complete(main)
/usr/lib/python3.10/asyncio/base_events.py:649: in run_until_complete
    return future.result()
src/aurora_cli/commands/init_helpers.py:616: in prompt_tool_selection
    selected = await questionary.checkbox(
../../.local/lib/python3.10/site-packages/questionary/question.py:43: in ask_async
    return await self.unsafe_ask_async(patch_stdout)
../../.local/lib/python3.10/site-packages/questionary/question.py:132: in unsafe_ask_async
    return await r
../../.local/lib/python3.10/site-packages/prompt_toolkit/application/application.py:886: in run_async
    return await _run_async(f)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

f = <Future finished exception=EOFError()>

    async def _run_async(f: asyncio.Future[_AppResult]) -> _AppResult:
        context = contextvars.copy_context()
        self.context = context

        # Counter for cancelling 'flush' timeouts. Every time when a key is
        # pressed, we start a 'flush' timer for flushing our escape key. But
        # when any subsequent input is received, a new timer is started and
        # the current timer will be ignored.
        flush_task: asyncio.Task[None] | None = None

        # Reset.
        # (`self.future` needs to be set when `pre_run` is called.)
        self.reset()
        self._pre_run(pre_run)

        # Feed type ahead input first.
        self.key_processor.feed_multiple(get_typeahead(self.input))
        self.key_processor.process_keys()

        def read_from_input() -> None:
            nonlocal flush_task

            # Ignore when we aren't running anymore. This callback will
            # removed from the loop next time. (It could be that it was
            # still in the 'tasks' list of the loop.)
            # Except: if we need to process incoming CPRs.
            if not self._is_running and not self.renderer.waiting_for_cpr:
                return

            # Get keys from the input object.
            keys = self.input.read_keys()

            # Feed to key processor.
            self.key_processor.feed_multiple(keys)
            self.key_processor.process_keys()

            # Quit when the input stream was closed.
            if self.input.closed:
                if not f.done():
                    f.set_exception(EOFError)
            else:
                # Automatically flush keys.
                if flush_task:
                    flush_task.cancel()
                flush_task = self.create_background_task(auto_flush_input())

        def read_from_input_in_context() -> None:
            # Ensure that key bindings callbacks are always executed in the
            # current context. This is important when key bindings are
            # accessing contextvars. (These callbacks are currently being
            # called from a different context. Underneath,
            # `loop.add_reader` is used to register the stdin FD.)
            # (We copy the context to avoid a `RuntimeError` in case the
            # context is already active.)
            context.copy().run(read_from_input)

        async def auto_flush_input() -> None:
            # Flush input after timeout.
            # (Used for flushing the enter key.)
            # This sleep can be cancelled, in that case we won't flush yet.
            await sleep(self.ttimeoutlen)
            flush_input()

        def flush_input() -> None:
            if not self.is_done:
                # Get keys, and feed to key processor.
                keys = self.input.flush_keys()
                self.key_processor.feed_multiple(keys)
                self.key_processor.process_keys()

                if self.input.closed:
                    f.set_exception(EOFError)

        # Enter raw mode, attach input and attach WINCH event handler.
        with self.input.raw_mode(), self.input.attach(
            read_from_input_in_context
        ), attach_winch_signal_handler(self._on_resize):
            # Draw UI.
            self._request_absolute_cursor_position()
            self._redraw()
            self._start_auto_refresh_task()

            self.create_background_task(self._poll_output_size())

            # Wait for UI to finish.
            try:
>               result = await f
E               EOFError

../../.local/lib/python3.10/site-packages/prompt_toolkit/application/application.py:746: EOFError
----------------------------- Captured stdout call -----------------------------

Step 3/3: Tool Configuration
Configure AI coding tools with Aurora integration...


Welcome to Aurora!
Select AI coding tools

? Select tools to configure: (↑↓ navigate, space=toggle, a=all, enter=confirm)                                                                              ? Select tools to configure: (↑↓ navigate, space=toggle, a=all, enter=confirm)
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.10.12-final-0 _______________

Name                                                                  Stmts   Miss   Cover   Missing
----------------------------------------------------------------------------------------------------
packages/cli/src/aurora_cli/commands/goals.py                           192    152  20.83%   72-91, 126-141, 153-155, 164-176, 198, 225-293, 305-323, 335-360, 467-533, 543-546, 564-566, 575-580
packages/cli/src/aurora_cli/commands/headless.py                        562    511   9.07%   26-35, 43-53, 61-73, 106, 140-185, 207-218, 238-252, 264, 276-292, 325-342, 557-717, 748-895, 918-1013, 1022-1089, 1094-1133, 1138-1156, 1161-1172, 1177-1182, 1200-1246, 1268-1370
packages/cli/src/aurora_cli/commands/init.py                            488    463   5.12%   39, 60-80, 94-103, 127-185, 208-280, 313-454, 475-542, 552-555, 575-675, 726-1023
packages/cli/src/aurora_cli/commands/init_helpers.py                    395    360   8.86%   36-37, 49-58, 71-72, 85-110, 123-124, 141-142, 162-206, 225-238, 260-334, 346-397, 412-422, 439-561, 577-663, 686-725, 744-773, 788-865, 882-907, 922-940, 956-964, 977-978, 1006-1055, 1068-1070, 1094-1142
packages/cli/src/aurora_cli/commands/memory.py                          649    578  10.94%   48-61, 90-92, 96-100, 130-246, 264-314, 382-396, 495-618, 647-667, 694-850, 870-1017, 1027-1043, 1056-1063, 1077-1079, 1103-1116, 1153-1299, 1328-1371, 1384-1418, 1444-1450, 1479-1509, 1519-1527, 1537-1556, 1569-1599
packages/cli/src/aurora_cli/commands/plan.py                            201    153  23.88%   159-231, 271-285, 334-392, 440-490, 521-546
packages/cli/src/aurora_cli/commands/spawn.py                           142    114  19.72%   137-244, 261-278, 310-355, 383-422, 439
packages/cli/src/aurora_cli/config.py                                   251    170  32.27%   34-35, 67-73, 78-81, 87-157, 177-205, 216-224, 237-290, 300-301, 307-313, 318-319, 324-327, 332-333, 338-339, 362-374, 378, 382, 387, 391, 398, 402, 406, 410, 414, 418, 425, 429, 433, 437, 441, 445, 449, 453, 457, 461, 465, 469, 473, 478-479, 483, 486, 489, 492, 495, 499-501
packages/cli/src/aurora_cli/configurators/agents.py                      11      3  72.73%   18, 23, 35
packages/cli/src/aurora_cli/configurators/ampcode.py                     11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/base.py                        34     19  44.12%   38, 74, 101-104, 130-153
packages/cli/src/aurora_cli/configurators/claude.py                      14      4  71.43%   20, 25, 37, 57
packages/cli/src/aurora_cli/configurators/claude_commands.py             41     28  31.71%   29, 34, 39, 58-74, 95-120, 129
packages/cli/src/aurora_cli/configurators/droid.py                       11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/opencode.py                    11      3  72.73%   17, 22, 35
packages/cli/src/aurora_cli/configurators/registry.py                    33     14  57.58%   23-34, 44-46, 59-60, 70-71, 81-82
packages/cli/src/aurora_cli/configurators/slash/amazon_q.py              20      7  65.00%   81, 86, 98, 110, 122, 134-141
packages/cli/src/aurora_cli/configurators/slash/antigravity.py           20      7  65.00%   39, 44, 56, 68-69, 81, 93
packages/cli/src/aurora_cli/configurators/slash/auggie.py                20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/base.py                  62     43  30.65%   60, 75, 91-122, 137-147, 201, 214-215, 228-243
packages/cli/src/aurora_cli/configurators/slash/claude.py                20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/cline.py                 21      8  61.90%   40, 45, 57, 74-76, 88, 100
packages/cli/src/aurora_cli/configurators/slash/codebuddy.py             20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/codex.py                 62     43  30.65%   71, 76, 88-95, 110, 125, 137, 149-156, 171-173, 189-217, 232-244
packages/cli/src/aurora_cli/configurators/slash/costrict.py              20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/crush.py                 20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/cursor.py                20      7  65.00%   70, 75, 87, 99, 111, 123-130
packages/cli/src/aurora_cli/configurators/slash/factory.py               18      6  66.67%   70, 75, 87, 99, 113-114
packages/cli/src/aurora_cli/configurators/slash/gemini.py                17      5  70.59%   41, 46, 58, 70, 82
packages/cli/src/aurora_cli/configurators/slash/github_copilot.py        20      7  65.00%   60, 65, 77, 89, 101, 113-120
packages/cli/src/aurora_cli/configurators/slash/iflow.py                 20      7  65.00%   69, 74, 86, 98, 110, 122-129
packages/cli/src/aurora_cli/configurators/slash/kilocode.py              19      7  63.16%   31, 36, 48, 62, 74, 86-93
packages/cli/src/aurora_cli/configurators/slash/opencode.py              20      7  65.00%   76, 81, 93, 105, 117, 129-136
packages/cli/src/aurora_cli/configurators/slash/qoder.py                 20      7  65.00%   64, 69, 81, 93, 105, 117-124
packages/cli/src/aurora_cli/configurators/slash/qwen.py                  17      5  70.59%   40, 45, 57, 69, 81
packages/cli/src/aurora_cli/configurators/slash/registry.py              56     38  32.14%   22-76, 89-90, 103-105, 115-116, 126-127, 135-136, 149
packages/cli/src/aurora_cli/configurators/slash/roocode.py               21      8  61.90%   40, 45, 57, 74-76, 88, 100
packages/cli/src/aurora_cli/configurators/slash/toml_base.py             33     25  24.24%   42, 70-87, 100-104, 127-142
packages/cli/src/aurora_cli/configurators/slash/windsurf.py              20      7  65.00%   41, 46, 58, 72-73, 88, 100
packages/cli/src/aurora_cli/errors.py                                   194    149  23.20%   62-70, 84, 94, 108-178, 199-287, 310-383, 412-455, 479-537, 563-567, 603-605, 639-642, 671-789
packages/cli/src/aurora_cli/ignore_patterns.py                           46     38  17.39%   40-55, 70-81, 101-123
packages/cli/src/aurora_cli/llm/cli_pipe_client.py                      101     81  19.80%   56-64, 73-79, 89-96, 128-233, 271-288, 302, 307
packages/cli/src/aurora_cli/memory_manager.py                           697    592  15.06%   68-73, 94-98, 102-104, 108-124, 140-149, 158-161, 174-183, 199-240, 406-419, 427-435, 476-1035, 1061-1123, 1135-1172, 1186-1204, 1217-1220, 1233-1254, 1266-1279, 1288-1300, 1309-1324, 1333-1355, 1364-1374, 1394-1445, 1454-1455, 1464-1465, 1474-1486, 1495-1499, 1508-1537, 1546-1577, 1587-1595, 1612-1646, 1655-1665, 1685-1700, 1727-1785, 1797-1819
packages/cli/src/aurora_cli/planning/core.py                            670    623   7.01%   50-52, 65, 88-134, 162-226, 243-245, 258-264, 275-277, 295-307, 322-344, 357-367, 390-466, 488-565, 589-672, 692-769, 782-786, 801-809, 822-855, 880-909, 931-1008, 1021-1054, 1067, 1104-1125, 1156-1208, 1240-1410, 1450-1745, 1771-1789, 1794, 1827, 1853, 1879, 1919, 1945, 2008-2122
packages/cli/src/aurora_cli/planning/errors.py                           19      8  57.89%   93-100, 122
packages/cli/src/aurora_cli/planning/models.py                          331    199  39.88%   159-168, 185-191, 207-226, 338-346, 356-366, 379-408, 417, 430, 481-483, 493-498, 503, 558-566, 626-629, 647-653, 741-744, 758-953
packages/cli/src/aurora_cli/planning/renderer.py                         70     53  24.29%   20-22, 40-41, 54-64, 69, 85-90, 103-185, 207-257
packages/cli/src/aurora_cli/planning/results.py                          52      2  96.15%   174-175
packages/cli/src/aurora_cli/templates/agents.py                           3      1  66.67%   282
packages/cli/src/aurora_cli/templates/claude.py                           3      1  66.67%   32
packages/cli/src/aurora_cli/templates/commands.py                         9      2  77.78%   20, 30
packages/cli/src/aurora_cli/templates/project.py                          3      1  66.67%   47
packages/cli/src/aurora_cli/templates/slash_commands.py                  14      3  78.57%   301-304
packages/context-code/src/aurora_context_code/__init__.py                 8      4  50.00%   25-40
packages/context-code/src/aurora_context_code/git.py                    149    130  12.75%   59-76, 83-99, 115-158, 189-227, 260-295, 299-301, 316-327, 343-368, 408-440
packages/context-code/src/aurora_context_code/parser.py                   7      1  85.71%   39
packages/context-code/src/aurora_context_code/registry.py                66     50  24.24%   33-34, 46-53, 65, 79-85, 94, 106-110, 114-115, 137-144, 154-184
packages/core/src/aurora_core/chunks/base.py                             16      8  50.00%   31-34, 76-78, 82
packages/core/src/aurora_core/chunks/code_chunk.py                      100     75  25.00%   85-102, 114-130, 163-215, 236-270
packages/core/src/aurora_core/chunks/reasoning_chunk.py                  55     36  34.55%   64-76, 85, 118-142, 155-185
packages/core/src/aurora_core/exceptions.py                              40     24  40.00%   23-25, 28-30, 95-97, 127-139, 162-164, 195-198
packages/core/src/aurora_core/metrics/query_metrics.py                  102     70  31.37%   70-73, 77-115, 147-183, 195-300, 312-340
packages/core/src/aurora_core/paths.py                                   20     12  40.00%   37-42, 56, 66, 76, 90, 104-106, 116
packages/core/src/aurora_core/store/base.py                              17      9  47.06%   243-250, 287-288
packages/core/src/aurora_core/store/connection_pool.py                   87     74  14.94%   27-30, 55-110, 120-139, 148-168, 185-190, 200-201
packages/core/src/aurora_core/store/memory.py                           139    116  16.55%   42-47, 51-52, 59-61, 77-96, 111-112, 126-142, 158-170, 195-216, 233-259, 279-300, 325-343, 363-381, 407-437, 449-453, 457, 461
packages/core/src/aurora_core/store/migrations.py                       103     72  30.10%   48-53, 104-152, 160-168, 189-197, 209-210, 225-256, 271-286, 306-318, 332
packages/core/src/aurora_core/store/schema.py                            19      2  89.47%   123, 133
packages/core/src/aurora_core/store/sqlite.py                           331    291  12.08%   63-76, 90-109, 123-138, 156-202, 216-229, 248-262, 279-327, 342-363, 378-418, 435-453, 471-487, 502-508, 531-582, 601-621, 646-669, 689-731, 755-836, 859-889, 915-943, 967-1000, 1009-1014, 1031-1059, 1081-1098
packages/implement/src/implement/executor.py                             50     30  40.00%   52, 65-92, 106, 123-149, 167-174, 184-202
packages/implement/src/implement/models.py                               14      2  85.71%   40, 63
packages/implement/src/implement/parser.py                               32     23  28.12%   51-90
packages/reasoning/src/aurora_reasoning/llm_client.py                   175    131  25.14%   134-160, 188-206, 212-215, 251-278, 309-326, 341, 346, 374-392, 396-399, 435-467, 498-519, 534, 539, 564-576, 580-583, 619-662, 693-710, 725, 730
packages/reasoning/src/aurora_reasoning/prompts/__init__.py              23     16  30.43%   25-26, 68-76, 91-100
packages/reasoning/src/aurora_reasoning/prompts/verify_synthesis.py      20     11  45.00%   16, 20, 52-73, 77
packages/reasoning/src/aurora_reasoning/synthesize.py                   129    113  12.40%   42-47, 51, 61, 101-217, 247-293, 298, 324-345, 361-395, 413-421, 438-452
packages/spawner/src/aurora_spawner/circuit_breaker.py                  160    128  20.00%   90-103, 113-115, 132-137, 146-147, 166-249, 258-266, 278-279, 295-325, 334-336, 340-341, 353-368, 380-399, 421, 439-441
packages/spawner/src/aurora_spawner/early_detection.py                  165    120  27.27%   95-99, 103-113, 120-135, 149-160, 176-190, 199-200, 212-220, 224-234, 238-248, 258-278, 301-323, 334-355, 370-372, 388-398
packages/spawner/src/aurora_spawner/heartbeat.py                        112     71  36.61%   42, 46, 71-78, 96-123, 132-133, 142-143, 152-153, 162-165, 174-177, 189-199, 227-231, 240-259, 271-286, 299, 313
packages/spawner/src/aurora_spawner/models.py                            25      2  92.00%   19, 45
packages/spawner/src/aurora_spawner/observability.py                    330    238  27.88%   121-135, 139-152, 156-162, 179-194, 210-220, 229-231, 235-241, 245-255, 268-304, 331-371, 389-396, 412-429, 440-468, 490-570, 581-596, 615-619, 637, 655-657, 666, 675-688, 712-721, 730-763, 793-795, 812-815, 831-925
packages/spawner/src/aurora_spawner/recovery.py                         354    193  45.48%   104-117, 132, 136, 148-162, 166-168, 172-175, 184-188, 193, 198, 203-211, 215, 272-274, 279-283, 302-312, 324, 337, 346, 356, 365-375, 387, 466-475, 487, 502-504, 550-570, 582-591, 603-612, 624-631, 635, 659-665, 675-677, 683-684, 749-756, 768, 782-799, 824-833, 838, 851, 864, 873, 882, 906-919, 931-932, 944, 948, 982-994, 1034-1048, 1060-1062, 1079, 1105-1107, 1112-1115, 1119
packages/spawner/src/aurora_spawner/spawner.py                          635    616   2.99%   66-486, 513-551, 602-671, 714-857, 878-908, 961-1271, 1305-1554
packages/spawner/src/aurora_spawner/timeout_policy.py                   135     62  54.07%   77-102, 115-128, 163-170, 184-195, 208-209, 262-278, 308, 335, 362, 385, 411, 431, 466-480, 484
----------------------------------------------------------------------------------------------------
TOTAL                                                                  9559   7340  23.21%

16 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
=========================== short test summary info ============================
SKIPPED [19] tests/performance/test_soar_startup_performance.py: Skipping non-benchmark (--benchmark-only active).
SKIPPED [30] tests/performance/test_goals_startup_performance.py: Skipping non-benchmark (--benchmark-only active).
SKIPPED [1] tests/performance/test_goals_startup_performance.py:648: Skipping non-benchmark (--benchmark-only active).
SKIPPED [2] tests/performance/test_init_performance.py: Skipping non-benchmark (--benchmark-only active).
ERROR tests/performance/test_init_performance.py::test_init_performance_100_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
ERROR tests/performance/test_init_performance.py::test_init_performance_1000_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
ERROR tests/performance/test_init_performance.py::test_step_2_performance_100_files - AttributeError: <module 'aurora_cli.commands.init' from '/home/hamr/PycharmProjects/aurora/src/aurora_cli/commands/init.py'> does not have the attribute 'MemoryManager'
FAILED tests/performance/test_init_performance.py::test_step_1_performance - OSError: pytest: reading from stdin while output is captured!  Consider using `-s`.
FAILED tests/performance/test_init_performance.py::test_step_3_performance - EOFError
=================== 2 failed, 52 skipped, 3 errors in 24.48s ===================
make: *** [Makefile:89: benchmark-startup] Error 1
