ruff check packages/ tests/
All checks passed!
mypy -p aurora_core -p aurora_context_code -p aurora_soar
Success: no issues found in 73 source files
pytest tests/
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/hamr/PycharmProjects/aurora
configfile: pytest.ini
plugins: cov-7.0.0, asyncio-1.3.0, anyio-4.12.0, benchmark-5.2.3, typeguard-4.4.4
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 5397 items

tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_good_decomposition_oauth2 PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_good_decomposition_caching PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_bad_decomposition_login_bug PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_bad_decomposition_multi_task PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_bad_decomposition_circular_deps PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_borderline_decomposition_documentation PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_borderline_decomposition_error_handling FAILED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_adversarial_mode_stricter PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_score_calculation_formula PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_verdict_thresholds FAILED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCalibration::test_calibration_consistency PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCorrelation::test_score_correlation_with_quality PASSED [  0%]
tests/calibration/test_verification_calibration.py::TestVerificationCorrelation::test_completeness_dominates_scoring PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorCommandBasics::test_help_text PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorCommandBasics::test_doctor_command_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckCategories::test_all_categories_run PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckOutput::test_output_shows_status_indicators PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckOutput::test_output_shows_summary_line PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckExitCodes::test_exit_code_0_all_pass PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckExitCodes::test_exit_code_1_with_warnings PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestHealthCheckExitCodes::test_exit_code_2_with_failures PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestCoreSystemChecks::test_core_system_checks_class_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestCoreSystemChecks::test_cli_version_check PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestCoreSystemChecks::test_database_existence_check PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestCodeAnalysisChecks::test_code_analysis_checks_class_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestCodeAnalysisChecks::test_tree_sitter_check PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestSearchRetrievalChecks::test_search_retrieval_checks_class_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestSearchRetrievalChecks::test_vector_store_check PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestConfigurationChecks::test_configuration_checks_class_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestConfigurationChecks::test_config_file_check PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorFixFlag::test_fix_flag_exists PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorFixFlag::test_fix_prompts_before_changes PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorFixFlag::test_fix_accepts_user_input PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorFixFlag::test_fix_skips_when_declined PASSED [  0%]
tests/e2e/cli/test_doctor.py::TestDoctorFixFlag::test_fix_shows_manual_instructions PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_api_error_401 PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_api_error_429 PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_api_error_500 PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_api_error_network PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_config_error_permission PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_config_error_json_decode PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_config_error_missing_file PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_config_error_invalid_value PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_config_error_missing_api_key PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_memory_error_locked PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_memory_error_corrupted PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_memory_error_permission PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_memory_error_disk_full PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_schema_error PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_schema_error_without_version_attrs PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_budget_error PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_path_error_not_found PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_path_error_permission PASSED [  0%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_handle_path_error_is_directory PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_redact_api_key PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_redact_api_key_short PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestErrorHandler::test_redact_api_key_empty PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_catches_exception PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_debug_mode_shows_traceback PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_respects_aurora_debug_env PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_system_error_exit_code PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_user_error_exit_code PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_handles_permission_error PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_handles_file_not_found PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_handles_schema_mismatch_error PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestHandleErrorsDecorator::test_decorator_reraises_click_abort PASSED [  1%]
tests/e2e/cli/test_error_handler.py::TestExitCodes::test_exit_codes_defined PASSED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_aurora_list_agents_integration SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_aurora_search_agents_integration SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_aurora_show_agent_integration SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_aurora_show_agent_not_found_integration SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_aurora_search_agents_empty_query_integration SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_mcp_server_lists_agent_tools SKIPPED [  1%]
tests/e2e/mcp/test_agent_tools_integration.py::TestAgentToolsIntegration::test_agent_tools_with_no_agents SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestParameterValidation::test_query_empty_string_returns_error SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestParameterValidation::test_query_whitespace_only_returns_error SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestParameterValidation::test_invalid_type_filter_returns_error SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestParameterValidation::test_valid_type_filters_accepted SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestResponseFormat::test_response_contains_context_section SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestResponseFormat::test_response_contains_assessment_section SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestResponseFormat::test_response_contains_metadata_section SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestResponseFormat::test_chunks_are_numbered SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestResponseFormat::test_relevance_scores_included SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestConfidenceHandling::test_low_confidence_includes_suggestion SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestConfidenceHandling::test_high_confidence_no_suggestion SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestConfidenceHandling::test_empty_results_zero_confidence SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestTypeFiltering::test_filter_code_type_only SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestTypeFiltering::test_filter_reas_type_only SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestTypeFiltering::test_filter_know_type_only SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestTypeFiltering::test_no_filter_returns_all_types SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestComplexityAssessment::test_simple_query_low_complexity SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestComplexityAssessment::test_complex_query_high_complexity SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestComplexityAssessment::test_long_query_medium_complexity SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestNoAPIKeyRequired::test_works_without_api_key_env SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestNoAPIKeyRequired::test_works_without_config_api_key SKIPPED [  1%]
tests/e2e/mcp/test_aurora_query_simplified.py::TestNoAPIKeyRequired::test_no_api_key_error_messages SKIPPED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanCreationWorkflow::test_create_plan_generates_all_files FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanCreationWorkflow::test_create_multiple_plans_increments_id FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanCreationWorkflow::test_create_plan_with_special_characters FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanCreationWorkflow::test_agents_json_is_valid FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanListingWorkflow::test_list_empty_plans FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanListingWorkflow::test_list_multiple_plans FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanListingWorkflow::test_list_json_format FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanViewingWorkflow::test_view_plan_by_full_id FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanViewingWorkflow::test_view_plan_by_number_only FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanViewingWorkflow::test_view_nonexistent_plan FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanArchiveWorkflow::test_archive_plan_with_force FAILED [  1%]
tests/e2e/planning/test_workflows.py::TestPlanArchiveWorkflow::test_archive_preserves_all_files FAILED [  2%]
tests/e2e/planning/test_workflows.py::TestConfigurationWorkflow::test_env_var_override PASSED [  2%]
tests/e2e/planning/test_workflows.py::TestConfigurationWorkflow::test_plans_dir_structure PASSED [  2%]
tests/e2e/planning/test_workflows.py::TestEndToEndWorkflow::test_full_lifecycle FAILED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryE2E::test_simple_query_with_real_api SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryE2E::test_complex_query_with_real_api SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryE2E::test_verbose_response_with_real_api SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryE2E::test_actual_cost_tracking SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryE2E::test_parameter_overrides_with_real_api SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryPerformanceE2E::test_simple_query_response_time SKIPPED [  2%]
tests/e2e/test_aurora_query_e2e.py::TestAuroraQueryPerformanceE2E::test_multiple_queries_stability SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestCompleteCLIWorkflow::test_e2e_index_search_workflow FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestCompleteCLIWorkflow::test_e2e_index_search_query_with_mocked_llm SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestCompleteCLIWorkflow::test_e2e_cli_stats_after_indexing FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestNewUserSetupWorkflow::test_e2e_new_user_setup_init_index_search FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestNewUserSetupWorkflow::test_e2e_new_user_direct_api_workflow SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestMultiDirectoryIndexing::test_e2e_multi_directory_indexing_merged_results FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestMultiDirectoryIndexing::test_e2e_multi_directory_direct_api SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestConfigChangeWorkflow::test_e2e_config_change_reindex FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestConfigChangeWorkflow::test_e2e_config_validation_workflow FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestErrorRecoveryWorkflow::test_e2e_corrupted_db_recovery FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestErrorRecoveryWorkflow::test_e2e_missing_file_recovery FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestLargeProjectIndexing::test_e2e_large_project_indexing_progress FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestLargeProjectIndexing::test_e2e_large_project_subprocess FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestQueryEscalationWorkflow::test_e2e_simple_to_complex_escalation SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestQueryEscalationWorkflow::test_e2e_escalation_decision_logic FAILED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestEndToEndWorkflowIntegration::test_e2e_complete_user_journey SKIPPED [  2%]
tests/e2e/test_cli_complete_workflow.py::TestEndToEndWorkflowIntegration::test_e2e_concurrent_operations SKIPPED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_load_validate_execute_workflow FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_env_override_in_command_context FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_update_persists_and_reloads FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_migration_old_to_new_version FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_error_handler_integration FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigIntegrationWorkflows::test_config_validation_blocks_invalid_command_execution FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigFileSystemIntegration::test_config_creates_parent_directories FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigFileSystemIntegration::test_config_handles_nested_paths FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigFileSystemIntegration::test_config_handles_symlinks FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigWithMemoryCommands::test_config_memory_settings_used_by_index_command FAILED [  2%]
tests/e2e/test_cli_config_integration.py::TestConfigWithMemoryCommands::test_config_auto_index_setting FAILED [  2%]
tests/e2e/test_cli_workflows.py::TestCLIMemIndex::test_index_command_creates_database FAILED [  2%]
tests/e2e/test_cli_workflows.py::TestCLIMemIndex::test_index_command_parses_python_files FAILED [  2%]
tests/e2e/test_cli_workflows.py::TestCLIMemIndex::test_index_command_handles_empty_directory PASSED [  2%]
tests/e2e/test_cli_workflows.py::TestCLIMemSearch::test_search_finds_indexed_functions make: *** [Makefile:59: test] Terminated
