ruff check packages/ tests/
I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/agent_discovery/parser.py:11:1
   |
 9 |   """
10 |
11 | / from __future__ import annotations
12 | |
13 | | import logging
14 | | from pathlib import Path
15 | | from typing import Any
16 | |
17 | | import frontmatter
18 | | from pydantic import ValidationError
19 | |
20 | | from aurora_cli.agent_discovery.models import AgentInfo
   | |_______________________________________________________^
21 |
22 |   logger = logging.getLogger(__name__)
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/commands/agents.py:17:1
   |
15 |   """
16 |
17 | / from __future__ import annotations
18 | |
19 | | import logging
20 | | import time
21 | | from difflib import SequenceMatcher
22 | | from pathlib import Path
23 | | from typing import TYPE_CHECKING
24 | |
25 | | import click
26 | | from rich.console import Console
27 | | from rich.panel import Panel
28 | | from rich.progress import Progress, SpinnerColumn, TextColumn
29 | | from rich.table import Table
30 | |
31 | | from aurora_cli.agent_discovery import (
32 | |     AgentCategory,
33 | |     AgentInfo,
34 | |     AgentManifest,
35 | |     AgentScanner,
36 | |     ManifestManager,
37 | | )
38 | | from aurora_cli.config import Config
39 | | from aurora_cli.errors import handle_errors
   | |___________________________________________^
40 |
41 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/commands/doctor.py:6:1
   |
 4 |   """
 5 |
 6 | / from __future__ import annotations
 7 | |
 8 | | import logging
 9 | |
10 | | import click
11 | | from rich.console import Console
12 | |
13 | | from aurora_cli.config import Config
14 | | from aurora_cli.health_checks import (
15 | |     CodeAnalysisChecks,
16 | |     ConfigurationChecks,
17 | |     CoreSystemChecks,
18 | |     MCPFunctionalChecks,
19 | |     SearchRetrievalChecks,
20 | |     ToolIntegrationChecks,
21 | | )
   | |_^
22 |
23 |   __all__ = ["doctor_command"]
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/commands/goals.py:34:1
   |
32 |   """
33 |
34 | / from __future__ import annotations
35 | |
36 | | import logging
37 | | import os
38 | | import shutil
39 | | import subprocess
40 | | from pathlib import Path
41 | | from typing import TYPE_CHECKING
42 | |
43 | | import click
44 | | from rich.console import Console
45 | |
46 | | from aurora_cli.config import Config
47 | | from aurora_cli.errors import handle_errors
48 | | from aurora_cli.llm.cli_pipe_client import CLIPipeLLMClient
49 | | from aurora_cli.planning.core import create_plan
   | |________________________________________________^
50 |
51 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/commands/headless.py:7:1
   |
 5 |   """
 6 |
 7 | / import asyncio
 8 | | import shutil
 9 | | import subprocess
10 | | from pathlib import Path
11 | | from typing import Any
12 | |
13 | | import click
14 | | from rich.console import Console
15 | | from rich.table import Table
16 | |
17 | | from aurora_cli.config import Config
18 | | from aurora_cli.templates.headless import SCRATCHPAD_TEMPLATE
   | |_____________________________________________________________^
19 |
20 |   console = Console()
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/cli/src/aurora_cli/memory/retrieval.py:13:1
   |
11 |   """
12 |
13 | / from __future__ import annotations
14 | |
15 | | import logging
16 | | import time
17 | | from pathlib import Path
18 | | from typing import TYPE_CHECKING, Any
19 | |
20 | | from aurora_core.chunks import CodeChunk
   | |________________________________________^
21 |
22 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/context-code/src/aurora_context_code/__init__.py:15:1
   |
13 | """
14 |
15 | from typing import Any
   | ^^^^^^^^^^^^^^^^^^^^^^
16 |
17 | __version__ = "0.1.0"
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/context-code/src/aurora_context_code/languages/typescript.py:7:1
   |
 5 |   """
 6 |
 7 | / import hashlib
 8 | | import logging
 9 | | import os
10 | | from pathlib import Path
11 | |
12 | | from aurora_context_code.parser import CodeParser
13 | | from aurora_core.chunks.code_chunk import CodeChunk
   | |___________________________________________________^
14 |
15 |   # Try to import tree-sitter, fall back to text chunking if unavailable
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/context-code/src/aurora_context_code/semantic/hybrid_retriever.py:20:1
   |
18 |   """
19 |
20 | / import hashlib
21 | | import json
22 | | import logging
23 | | import os
24 | | import pickle
25 | | import threading
26 | | import time
27 | | from collections import OrderedDict
28 | | from dataclasses import dataclass
29 | | from pathlib import Path
30 | | from typing import Any
31 | |
32 | | import numpy as np
33 | | import numpy.typing as npt
   | |__________________________^
34 |
35 |   logger = logging.getLogger(__name__)
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/core/src/aurora_core/activation/engine.py:23:1
   |
21 |   """
22 |
23 | / import logging
24 | | import threading
25 | | from datetime import datetime, timezone
26 | | from typing import Any
27 | |
28 | | from pydantic import BaseModel, ConfigDict, Field
29 | |
30 | | from aurora_core.activation.base_level import AccessHistoryEntry, BaseLevelActivation, BLAConfig
31 | | from aurora_core.activation.context_boost import ContextBoost, ContextBoostConfig
32 | | from aurora_core.activation.decay import DecayCalculator, DecayConfig
33 | | from aurora_core.activation.spreading import RelationshipGraph, SpreadingActivation, SpreadingConfig
   | |____________________________________________________________________________________________________^
34 |
35 |   logger = logging.getLogger(__name__)
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/orchestrator.py:31:1
   |
29 |   """
30 |
31 | / from __future__ import annotations
32 | |
33 | | import asyncio
34 | | import logging
35 | | import time
36 | | from typing import TYPE_CHECKING, Any, Callable, cast
37 | |
38 | | from aurora_core.budget import CostTracker
39 | | from aurora_core.exceptions import BudgetExceededError
40 | | from aurora_core.logging import ConversationLogger
41 | | from aurora_core.metrics.query_metrics import QueryMetrics
42 | | from aurora_soar import discovery_adapter
43 | | from aurora_soar.phases import (
44 | |     assess,
45 | |     collect,
46 | |     decompose,
47 | |     record,
48 | |     respond,
49 | |     retrieve,
50 | |     synthesize,
51 | |     verify,
52 | | )
53 | | from aurora_soar.phases.respond import Verbosity
   | |________________________________________________^
54 |
55 |   if TYPE_CHECKING:
   |
help: Organize imports

UP037 [*] Remove quotes from type annotation
   --> packages/soar/src/aurora_soar/orchestrator.py:208:36
    |
206 |             logger.debug("Early detection disabled")
207 |
208 |     def _list_agents(self) -> list["AgentInfo"]:
    |                                    ^^^^^^^^^^^
209 |         """List all available agents using registry or discovery adapter.
    |
help: Remove quotes

UP037 [*] Remove quotes from type annotation
   --> packages/soar/src/aurora_soar/orchestrator.py:221:44
    |
219 |         return self.agent_registry.list_all()
220 |
221 |     def _get_agent(self, agent_id: str) -> "AgentInfo | None":
    |                                            ^^^^^^^^^^^^^^^^^^
222 |         """Get agent by ID using registry or discovery adapter.
    |
help: Remove quotes

UP037 [*] Remove quotes from type annotation
   --> packages/soar/src/aurora_soar/orchestrator.py:237:48
    |
235 |         return self.agent_registry.get(agent_id)
236 |
237 |     def _get_or_create_fallback_agent(self) -> "AgentInfo":
    |                                                ^^^^^^^^^^^
238 |         """Get or create a fallback agent when no suitable agent is found.
    |
help: Remove quotes

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/phases/assess.py:15:1
   |
13 |   """
14 |
15 | / from __future__ import annotations
16 | |
17 | | import json
18 | | import logging
19 | | import re
20 | | from dataclasses import dataclass, field
21 | | from enum import IntEnum
22 | | from typing import TYPE_CHECKING, Any, Literal
   | |______________________________________________^
23 |
24 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/phases/collect.py:11:1
   |
 9 |   """
10 |
11 | / from __future__ import annotations
12 | |
13 | | import asyncio
14 | | import logging
15 | | import sys
16 | | import time
17 | | from typing import TYPE_CHECKING, Any, Callable
18 | |
19 | | from aurora_spawner import (
20 | |     SpawnResult,
21 | |     SpawnTask,
22 | |     spawn,
23 | |     spawn_parallel,
24 | |     spawn_parallel_tracked,
25 | |     spawn_with_retry_and_fallback,
26 | | )
   | |_^
27 |
28 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/phases/respond.py:7:1
   |
 5 |   """
 6 |
 7 | / from __future__ import annotations
 8 | |
 9 | | import json
10 | | from dataclasses import asdict, is_dataclass
11 | | from enum import Enum
12 | | from typing import TYPE_CHECKING, Any, cast
   | |___________________________________________^
13 |
14 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/phases/retrieve.py:16:1
   |
14 |   """
15 |
16 | / from __future__ import annotations
17 | |
18 | | import logging
19 | | import time
20 | | from typing import TYPE_CHECKING, Any, cast
   | |___________________________________________^
21 |
22 |   if TYPE_CHECKING:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> packages/soar/src/aurora_soar/phases/verify.py:10:1
   |
 8 |   """
 9 |
10 | / from __future__ import annotations
11 | |
12 | | from typing import Any
   | |______________________^
13 |
14 |   __all__ = [
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/e2e/test_spawn_workflow.py:3:1
  |
1 | """End-to-end tests for spawn workflow with interruption and resume."""
2 |
3 | import pytest
  | ^^^^^^^^^^^^^
4 |
5 | # Skip entire module - functionality not yet implemented
  |
help: Organize imports

F821 Undefined name `CheckpointManager`
  --> tests/e2e/test_spawn_workflow.py:53:15
   |
52 |         # Step 1: Create checkpoint manager
53 |         mgr = CheckpointManager(execution_id, plan_id=None)
   |               ^^^^^^^^^^^^^^^^^
54 |
55 |         # Step 2: Start execution (save initial state)
   |

F821 Undefined name `create_task_states_from_tasks`
  --> tests/e2e/test_spawn_workflow.py:56:23
   |
55 |         # Step 2: Start execution (save initial state)
56 |         task_states = create_task_states_from_tasks(sample_tasks)
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
57 |         mgr.save(task_states)
   |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:101:19
    |
100 |         for exec_id in exec_ids:
101 |             mgr = CheckpointManager(exec_id)
    |                   ^^^^^^^^^^^^^^^^^
102 |             tasks = [
103 |                 TaskState(id="task-1", status="completed"),
    |

F821 Undefined name `TaskState`
   --> tests/e2e/test_spawn_workflow.py:103:17
    |
101 |             mgr = CheckpointManager(exec_id)
102 |             tasks = [
103 |                 TaskState(id="task-1", status="completed"),
    |                 ^^^^^^^^^
104 |                 TaskState(id="task-2", status="pending"),
105 |             ]
    |

F821 Undefined name `TaskState`
   --> tests/e2e/test_spawn_workflow.py:104:17
    |
102 |             tasks = [
103 |                 TaskState(id="task-1", status="completed"),
104 |                 TaskState(id="task-2", status="pending"),
    |                 ^^^^^^^^^
105 |             ]
106 |             mgr.save(tasks)
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:109:21
    |
108 |         # List checkpoints
109 |         resumable = CheckpointManager.list_resumable()
    |                     ^^^^^^^^^^^^^^^^^
110 |
111 |         # Should list all incomplete checkpoints
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:123:19
    |
122 |         # Create old checkpoint
123 |         old_mgr = CheckpointManager("old-checkpoint")
    |                   ^^^^^^^^^^^^^^^^^
124 |         old_mgr.save([TaskState(id="task-1", status="pending")])
    |

F821 Undefined name `TaskState`
   --> tests/e2e/test_spawn_workflow.py:124:23
    |
122 |         # Create old checkpoint
123 |         old_mgr = CheckpointManager("old-checkpoint")
124 |         old_mgr.save([TaskState(id="task-1", status="pending")])
    |                       ^^^^^^^^^
125 |
126 |         old_checkpoint = temp_aurora_dir / "checkpoints" / "old-checkpoint.json"
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:131:22
    |
130 |         # Create recent checkpoint
131 |         recent_mgr = CheckpointManager("recent-checkpoint")
    |                      ^^^^^^^^^^^^^^^^^
132 |         recent_mgr.save([TaskState(id="task-1", status="pending")])
    |

F821 Undefined name `TaskState`
   --> tests/e2e/test_spawn_workflow.py:132:26
    |
130 |         # Create recent checkpoint
131 |         recent_mgr = CheckpointManager("recent-checkpoint")
132 |         recent_mgr.save([TaskState(id="task-1", status="pending")])
    |                          ^^^^^^^^^
133 |
134 |         # Clean old checkpoints
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:135:19
    |
134 |         # Clean old checkpoints
135 |         removed = CheckpointManager.clean_old_checkpoints(days=7)
    |                   ^^^^^^^^^^^^^^^^^
136 |
137 |         # Verify old removed, recent kept
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:147:15
    |
146 |         # Create and save checkpoint
147 |         mgr = CheckpointManager(execution_id)
    |               ^^^^^^^^^^^^^^^^^
148 |         task_states = create_task_states_from_tasks(sample_tasks)
    |

F821 Undefined name `create_task_states_from_tasks`
   --> tests/e2e/test_spawn_workflow.py:148:23
    |
146 |         # Create and save checkpoint
147 |         mgr = CheckpointManager(execution_id)
148 |         task_states = create_task_states_from_tasks(sample_tasks)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
149 |
150 |         # Complete first 2 tasks
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:180:15
    |
178 |         """Test that task metadata is preserved through checkpoint cycle."""
179 |         execution_id = "metadata-test"
180 |         mgr = CheckpointManager(execution_id)
    |               ^^^^^^^^^^^^^^^^^
181 |
182 |         # Create tasks with metadata
    |

F821 Undefined name `TaskState`
   --> tests/e2e/test_spawn_workflow.py:184:13
    |
182 |         # Create tasks with metadata
183 |         tasks = [
184 |             TaskState(
    |             ^^^^^^^^^
185 |                 id="task-1",
186 |                 status="completed",
    |

F821 Undefined name `CheckpointManager`
   --> tests/e2e/test_spawn_workflow.py:218:15
    |
216 |         """Test multiple interrupt-resume cycles."""
217 |         execution_id = "multi-resume"
218 |         mgr = CheckpointManager(execution_id)
    |               ^^^^^^^^^^^^^^^^^
219 |
220 |         task_states = create_task_states_from_tasks(sample_tasks)
    |

F821 Undefined name `create_task_states_from_tasks`
   --> tests/e2e/test_spawn_workflow.py:220:23
    |
218 |         mgr = CheckpointManager(execution_id)
219 |
220 |         task_states = create_task_states_from_tasks(sample_tasks)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
221 |         mgr.save(task_states)
    |

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/spawner/test_circuit_breaker_adhoc_agents.py:7:1
   |
 5 |   """
 6 |
 7 | / import time
 8 | |
 9 | |
10 | | from aurora_spawner.circuit_breaker import CircuitBreaker
   | |_________________________________________________________^
   |
help: Organize imports

Found 38 errors.
[*] 21 fixable with the `--fix` option.
make: *** [Makefile:71: lint] Error 1
