# Implementation Tasks: Aurora Planning System - Phase 1

**PRD**: `/tasks/0017-prd-aurora-planning-system.md`
**Phase**: 1 - Core Planning Commands
**Generated**: 2026-01-02
**Scope**: FR-1.1 through FR-1.9 (Core Planning Infrastructure)

---

## Relevant Files

*To be populated in Phase 2 (sub-task generation)*

### Notes

*To be populated in Phase 2 (sub-task generation)*

---

## Tasks

### Phase 1: Core Planning Infrastructure

- [ ] 1.0 Create Planning Package Structure and Pydantic Models (FR-1.6)
  *Create the planning module structure with data models for Plan, Subgoal, PlanManifest, and enums (PlanStatus, Complexity). Follow OpenSpec-inspired validation patterns with explicit error messages.*

- [ ] 2.0 Implement Validation Error System and Custom Exceptions (FR-1.7)
  *Create the error handling infrastructure with VALIDATION_MESSAGES dictionary, PlanningError base class, and specific exception types (PlanNotFoundError, PlanValidationError, PlanDirectoryError). Follow OpenSpec pattern for actionable error messages.*

- [ ] 3.0 Implement Result Types for Graceful Degradation (FR-1.8, FR-1.9)
  *Create structured result dataclasses (InitResult, PlanResult, ListResult, ShowResult, ArchiveResult, PlanSummary) that enable graceful degradation. Commands return results instead of raising exceptions, following OpenSpec patterns.*

- [ ] 4.0 Implement `aur plan init` Command (FR-1.1)
  *Create CLI command to initialize planning directory structure at ~/.aurora/plans/ with active/, archive/, and templates/ subdirectories. Handle already-initialized state gracefully, verify write permissions, create manifest.json.*

- [ ] 5.0 Implement `/aur:plan` Slash Command with SOAR Integration (FR-1.2)
  *Create the main planning slash command that: generates unique plan IDs, retrieves context from memory/custom files, uses SOAR decomposition for goal breakdown, recommends agents per subgoal, generates four-file structure (plan.md, prd.md template, tasks.md template, agents.json). Include checkpoint for user review before PRD/task expansion.*

- [ ] 6.0 Implement `aur plan list` Command (FR-1.3)
  *Create CLI command to list plans with filtering (--archived, --all), sorting by creation date, agent gap warnings, and JSON output format. Handle missing directory gracefully.*

- [ ] 7.0 Implement `aur plan show` Command (FR-1.4)
  *Create CLI command to display detailed plan information including subgoals, dependencies, agent recommendations, gaps, and file status. Support --archived flag and JSON output. Show next steps guidance.*

- [ ] 8.0 Implement `/aur:archive` Slash Command (FR-1.5)
  *Create slash command for archiving completed plans with atomic move operation, timestamp prefix (YYYY-MM-DD), rollback on failure, and manifest update. Update agents.json with archive metadata.*

---

## Phase 1 Completion Criteria

From PRD Section 2.3:

- [ ] `aur plan init` scaffolds planning directory
- [ ] `/aur:plan "goal"` generates plan.md in <10s
- [ ] `aur plan list` shows active plans
- [ ] `aur plan show <id>` displays plan details
- [ ] `/aur:archive <id>` moves to archive with timestamp
- [ ] Four-file structure working: plan.md, prd.md, tasks.md, agents.json
- [ ] Memory integration operational (uses indexed codebase)
- [ ] All quality gates passed (>=85% coverage, 0 mypy errors)

---

## Dependencies

**PRD 0016 Prerequisites** (assumed available):
- AgentManifest API for agent recommendations
- MemoryManager API for context retrieval
- Agent discovery commands (`aur agents list/search/show/refresh`)

**Existing Aurora Components** (reuse):
- SOAR Orchestrator (`aurora_soar.orchestrator`)
- Memory Store (`aurora_core.storage`)
- LLM Client (`aurora_reasoning`)

---

## Out of Scope (Phase 2 and Phase 3)

**DO NOT IMPLEMENT in Phase 1**:
- PRD expansion with acceptance criteria (`aur plan expand --to-prd`)
- Code-aware task generation (`aur plan tasks`)
- File path resolution with line numbers
- Agent subprocess execution (`/aur:implement`)
- Progress tracking via checkbox parsing
- State persistence and checkpoint recovery

---

*Generated by: 2-generate-tasks agent*
*Next: Respond "Go" to generate detailed sub-tasks*
