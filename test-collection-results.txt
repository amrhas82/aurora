============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/hamr/PycharmProjects/aurora
configfile: pytest.ini
testpaths: tests
plugins: cov-7.0.0, asyncio-1.3.0, anyio-4.12.0, benchmark-5.2.3, typeguard-4.4.4
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 3727 items / 12 errors

<Dir aurora>
  <Package tests>
    <Package calibration>
      <Module test_verification_calibration.py>
        Verification calibration tests with known good/bad decompositions.
        
        This test suite validates that the verification system correctly identifies
        high-quality and low-quality decompositions with expected scores.
        <Class TestVerificationCalibration>
          Test verification scoring with known good/bad decompositions.
          <Function test_good_decomposition_oauth2>
            Test that high-quality OAuth2 decomposition scores well.
          <Function test_good_decomposition_caching>
            Test that good caching decomposition scores well.
          <Function test_bad_decomposition_login_bug>
            Test that poor login bug decomposition scores poorly.
          <Function test_bad_decomposition_multi_task>
            Test that poor multi-task decomposition scores poorly.
          <Function test_bad_decomposition_circular_deps>
            Test that decomposition with circular dependencies scores poorly.
          <Function test_borderline_decomposition_documentation>
            Test borderline documentation decomposition.
          <Function test_borderline_decomposition_error_handling>
            Test borderline error handling decomposition triggers RETRY.
          <Function test_adversarial_mode_stricter>
            Test that Option B (adversarial) is stricter than Option A.
          <Function test_score_calculation_formula>
            Test that overall score follows the weighted formula.
          <Function test_verdict_thresholds>
            Test that verdicts follow defined thresholds.
          <Function test_calibration_consistency>
            Test that repeated verification of same decomposition gives consistent scores.
        <Class TestVerificationCorrelation>
          Test that verification scores correlate with decomposition quality.
          <Function test_score_correlation_with_quality>
            Test that better decompositions consistently score higher.
          <Function test_completeness_dominates_scoring>
            Test that completeness has the highest weight (0.4) in scoring.
    <Package e2e>
      <Module test_cli_complete_workflow.py>
        CLI End-to-End Tests - Complete Workflows Without Mocks.
        
        This test suite validates complete CLI workflows from end to end:
        - Real file system operations
        - Real database operations
        - Real git repositories
        - Real parsing, indexing, searching
        - Minimal mocking (only external APIs like LLM)
        
        Test Coverage:
        - Task 3.15: Complete CLI workflow (index → search → query with mocked LLM)
        - Task 3.38: Expanded E2E scenarios (10-12 additional tests)
          - New user setup workflow
          - Multi-directory indexing
          - Config change workflows
          - Error recovery
          - Large project indexing
          - Query escalation
        <Class TestCompleteCLIWorkflow>
          Test complete CLI workflow: index → search → query.
          <Function test_e2e_index_search_workflow>
            Test complete workflow: index project → search for code → verify results.
          <Function test_e2e_index_search_query_with_mocked_llm>
            Test complete workflow with mocked LLM: index → search → query.
          <Function test_e2e_cli_stats_after_indexing>
            Test that stats command works after indexing.
        <Class TestNewUserSetupWorkflow>
          Test complete new user onboarding workflow.
          <Function test_e2e_new_user_setup_init_index_search>
            Test new user: init config → index project → search → verify.
          <Function test_e2e_new_user_direct_api_workflow>
            Test new user workflow using direct API calls (coverage contribution).
            
            NOTE: This test is skipped because it requires tree-sitter Python parser binaries
            to be built. The subprocess test test_e2e_new_user_setup_init_index_search provides
            equivalent coverage using the CLI which handles tree-sitter initialization.
        <Class TestMultiDirectoryIndexing>
          Test indexing and searching across multiple directories.
          <Function test_e2e_multi_directory_indexing_merged_results>
            Test indexing multiple projects and searching across all.
          <Function test_e2e_multi_directory_direct_api>
            Test multi-directory indexing using direct API (coverage).
            
            NOTE: Skipped due to tree-sitter parser requirement. Subprocess test provides coverage.
        <Class TestConfigChangeWorkflow>
          Test config change → re-index → verify behavior.
          <Function test_e2e_config_change_reindex>
            Test changing config and re-indexing project.
          <Function test_e2e_config_validation_workflow>
            Test config validation prevents invalid configurations.
        <Class TestErrorRecoveryWorkflow>
          Test error recovery scenarios.
          <Function test_e2e_corrupted_db_recovery>
            Test recovery from corrupted database.
          <Function test_e2e_missing_file_recovery>
            Test recovery when files are missing or inaccessible.
        <Class TestLargeProjectIndexing>
          Test indexing large projects with progress tracking.
          <Function test_e2e_large_project_indexing_progress>
            Test indexing large project with progress tracking.
          <Function test_e2e_large_project_subprocess>
            Test large project indexing via subprocess CLI.
        <Class TestQueryEscalationWorkflow>
          Test query escalation from simple to complex.
          <Function test_e2e_simple_to_complex_escalation>
            Test escalation: simple query (direct) → complex query (SOAR).
          <Function test_e2e_escalation_decision_logic>
            Test escalation decision logic without full pipeline.
        <Class TestEndToEndWorkflowIntegration>
          Test complete end-to-end workflows with real components.
          <Function test_e2e_complete_user_journey>
            Test complete user journey: setup → index → search → stats.
            
            NOTE: Skipped due to tree-sitter parser requirement. Subprocess test provides coverage.
          <Function test_e2e_concurrent_operations>
            Test multiple operations can run concurrently.
            
            NOTE: Skipped due to tree-sitter parser requirement. Subprocess test provides coverage.
      <Module test_doctor_e2e.py>
        End-to-end tests for aur doctor health checks and auto-repair.
        
        These tests validate complete doctor workflows including:
        - Health check execution in real environment
        - Auto-repair functionality with broken state
        - Exit code behavior (0/1/2)
        - Performance requirements (<2 seconds)
        - Idempotency of fixes
        
        Test Coverage:
        - Task 1.8-1.9: Doctor E2E Tests
        - Task 2.10-2.11: Auto-Repair E2E Tests
        
        Tests use real filesystem and configuration, but mock API calls
        to avoid external dependencies.
        <Function test_doctor_healthy_environment>
          Test doctor command in healthy environment.
        <Function test_doctor_missing_config>
          Test doctor command with missing config file.
        <Function test_doctor_missing_database>
          Test doctor command with missing database.
        <Function test_doctor_missing_api_key>
          Test doctor command with missing API key.
        <Function test_doctor_fix_creates_config>
          Test doctor --fix creates missing config file.
        <Function test_doctor_fix_idempotency>
          Test doctor --fix is idempotent (no issues to fix when healthy).
        <Function test_doctor_fix_prompt>
          Test doctor --fix prompts before making changes.
        <Function test_doctor_performance_multiple_runs>
          Test doctor performance is consistent across multiple runs.
        <Function test_doctor_exit_codes>
          Test doctor returns correct exit codes for different states.
      <Module test_e2e_complexity_assessment.py>
        E2E Test: Complexity Assessment (Task 1.5)
        
        This test suite validates that Aurora correctly assesses query complexity
        and triggers SOAR pipeline for complex queries.
        
        Test Scenario: Complexity Assessment
        1. Test multi-part query: "research X? who are Y? what features Z?"
        2. Run `aur query --dry-run` to see complexity assessment
        3. Parse output to extract complexity level and confidence score
        4. Assert complexity is MEDIUM or COMPLEX (not SIMPLE)
        5. Assert confidence score >= 0.4
        6. Test domain-specific queries (SOAR, ACT-R, agentic AI)
        7. Verify domain queries classified as MEDIUM/COMPLEX
        8. Test simple query remains SIMPLE ("what is Python?")
        
        Expected: These tests will FAIL initially due to Issue #6 (complexity assessment broken)
        - Current behavior: All queries classified as SIMPLE
        - Expected behavior: Domain queries and multi-part queries classified as MEDIUM/COMPLEX
        
        Reference: PRD-0010 Section 3 (User Stories), US-4 (Accurate Complexity Assessment)
        <Class TestComplexityAssessment>
          E2E tests for query complexity assessment.
          
          These tests verify that Aurora correctly identifies complex queries
          and routes them to the appropriate processing pipeline.
          <Function test_1_5_1_multi_part_query_classified_as_complex>
            Test 1.5.1: Write test for multi-part query.
            
            Query: "research X? who are Y? what features Z?"
            
            EXPECTED TO FAIL: Classified as SIMPLE instead of COMPLEX (Issue #6).
          <Function test_1_5_2_dry_run_shows_complexity_assessment>
            Test 1.5.2: Run `aur query --dry-run` to see complexity assessment.
            
            Verifies --dry-run shows assessment details.
          <Function test_1_5_3_parse_complexity_level_and_confidence>
            Test 1.5.3: Parse output to extract complexity level and confidence score.
            
            Verifies we can extract assessment details from output.
          <Function test_1_5_4_complexity_not_always_simple>
            Test 1.5.4: Assert complexity is MEDIUM or COMPLEX (not SIMPLE).
            
            For queries that are clearly complex.
            
            EXPECTED TO FAIL: All queries assessed as SIMPLE (Issue #6).
          <Function test_1_5_5_confidence_score_reasonable>
            Test 1.5.5: Assert confidence score >= 0.4.
            
            For queries with clear complexity indicators.
          <Function test_1_5_6_domain_specific_queries_soar>
            Test 1.5.6: Test domain-specific queries (SOAR, ACT-R, agentic AI).
            
            EXPECTED TO FAIL: Domain terms not in keyword list (Issue #6).
          <Function test_1_5_7_domain_queries_classified_correctly>
            Test 1.5.7: Verify domain queries classified as MEDIUM/COMPLEX.
            
            Specifically tests Aurora-related terminology.
            
            EXPECTED TO FAIL: Domain keywords missing from assess.py (Issue #6).
          <Function test_1_5_8_simple_query_remains_simple>
            Test 1.5.8: Test simple query remains SIMPLE ("what is Python?").
            
            Verifies assessment doesn't over-classify simple queries.
          <Function test_1_5_9_comprehensive_complexity_assessment_check>
            Test 1.5.9: Expected - Test FAILS because complexity always SIMPLE (Issue #6).
            
            Comprehensive test documenting Issue #6.
            
            Current broken behavior:
            - All queries classified as SIMPLE
            - Domain keywords not in assessment (SOAR, ACT-R, agentic, Aurora)
            - Multi-question detection missing (doesn't count ?)
            - Confidence scores too low
            
            Expected behavior after fix:
            - Domain queries → MEDIUM
            - Multi-part queries (2+ ?) → COMPLEX
            - Research/analyze/compare → MEDIUM
            - Simple lookups → SIMPLE
        <Class TestComplexityAssessmentEdgeCases>
          Test edge cases and boundary conditions for complexity assessment.
          <Function test_multiple_questions_boost_complexity>
            Queries with 2+ question marks should be boosted to MEDIUM/COMPLEX.
            
            EXPECTED TO FAIL: Multi-question detection not implemented (Issue #6).
          <Function test_scope_keywords_trigger_medium>
            Queries with scope keywords (research, analyze, compare) should be MEDIUM.
            
            EXPECTED TO FAIL: Scope keywords missing from assess.py (Issue #6).
      <Module test_e2e_database_persistence.py>
        E2E Test: Database Persistence (Task 1.2)
        
        This test suite validates that data persists across multiple command invocations
        and that all commands consistently use the same database.
        
        Test Scenario: Database Persistence
        1. Index data into Aurora
        2. Run multiple commands (stats, search, query)
        3. Verify all commands use the same database
        4. Verify data persists across command invocations
        5. Test deleting local aurora.db (if exists) doesn't affect Aurora
        
        Expected: These tests will FAIL initially due to Issue #2 (database path confusion)
        - Current behavior: Commands use different databases or lose data
        - Expected behavior: Single source of truth at ~/.aurora/memory.db
        
        Reference: PRD-0010 Section 3 (User Stories), FR-1 (Database Path Management)
        <Class TestDatabasePersistence>
          E2E tests for database persistence across commands.
          
          These tests verify that Aurora maintains a single, persistent database
          across multiple command invocations.
          <Function test_1_2_1_index_then_multiple_commands_same_db>
            Test 1.2.1: Write test that indexes data, then runs multiple commands.
            
            Verifies that index → stats → search → stats all work together.
            
            EXPECTED TO FAIL: Commands may use different databases.
          <Function test_1_2_2_all_commands_use_same_database>
            Test 1.2.2: Verify all commands (index, search, query, stats) use same database.
            
            EXPECTED TO FAIL: Commands may use different database paths.
          <Function test_1_2_3_data_persists_across_command_invocations>
            Test 1.2.3: Test data persists across command invocations.
            
            Run index, exit, run search/stats - data should still be there.
            
            EXPECTED TO FAIL: Data may not persist if wrong DB is used.
          <Function test_1_2_4_deleting_local_aurora_db_does_not_affect_operations>
            Test 1.2.4: Test deleting local aurora.db (if exists) doesn't affect Aurora operations.
            
            If system creates local aurora.db by mistake, deleting it shouldn't break Aurora
            (because Aurora should be using ~/.aurora/memory.db).
            
            EXPECTED TO FAIL: If system uses local aurora.db, deleting it will break Aurora.
          <Function test_1_2_5_verify_aurora_home_db_contains_expected_chunks>
            Test 1.2.5: Verify ~/.aurora/memory.db contains expected chunks after all operations.
            
            Final verification that the correct database has all our data.
            
            EXPECTED TO FAIL: Data may be in wrong location or missing.
          <Function test_1_2_6_database_path_consistency_bug_detection>
            Test 1.2.6: Detect and document the database path consistency bug (Issue #2).
            
            This test explicitly checks for the bug: commands using different database paths.
            
            EXPECTED TO FAIL: This test documents the bug.
      <Module test_e2e_error_handling.py>
        E2E tests for AURORA CLI error handling.
        
        Tests real CLI commands to ensure errors are properly formatted and
        displayed without Python tracebacks, and that appropriate exit codes are used.
        <Class TestErrorHandlingBasic>
          Test basic error handling behavior.
          <Function test_invalid_command_shows_help>
            Test that invalid command shows help without traceback.
          <Function test_missing_required_argument>
            Test that missing required argument shows clear error.
        <Class TestErrorHandlingMemoryCommands>
          Test error handling for memory commands.
          <Function test_search_nonexistent_database>
            Test search with no database shows helpful error.
          <Function test_index_nonexistent_path>
            Test index with nonexistent path shows clear error.
          <Function test_stats_empty_database>
            Test stats with empty database.
        <Class TestErrorHandlingBudgetCommands>
          Test error handling for budget commands.
          <Function test_budget_invalid_amount>
            Test budget set with invalid amount.
          <Function test_budget_negative_amount>
            Test budget set with negative amount.
        <Class TestDebugMode>
          Test debug mode behavior.
          <Function test_debug_flag_shows_traceback>
            Test that --debug flag shows full traceback.
          <Function test_aurora_debug_env_shows_traceback>
            Test that AURORA_DEBUG=1 environment variable shows traceback.
        <Class TestExitCodes>
          Test that appropriate exit codes are used.
          <Function test_success_returns_zero>
            Test that successful commands return exit code 0.
          <Function test_user_error_returns_one>
            Test that user errors return exit code 1.
          <Function test_system_error_handling>
            Test that system errors are handled gracefully.
        <Class TestCorruptedDatabase>
          Test handling of corrupted database.
          <Function test_corrupted_database_shows_helpful_error>
            Test that corrupted database shows helpful recovery message.
        <Class TestSchemaErrorHandling>
          Test handling of schema mismatch errors.
          <Function test_old_schema_shows_migration_message>
            Test that old schema database shows helpful migration message.
      <Module test_e2e_git_bla_initialization.py>
        E2E Test: Git-Based BLA Initialization (Task 1.6)
        
        This test suite validates that Aurora initializes chunks with activation scores
        based on Git commit history at the FUNCTION level, not file level.
        
        Test Scenario: Git-Based BLA Initialization (FUNCTION-LEVEL)
        1. Create git repo with commit history
        2. Create file with multiple functions, commit each function separately
        3. Edit one function multiple times (8 commits), another once (1 commit)
        4. Index the file with `aur mem index`
        5. Query SQLite DB to check activation scores
        6. Assert base_level varies across chunks (not all 0.0)
        7. Assert frequently-edited function has higher base_level than rarely-edited function
        8. Assert functions in SAME file have DIFFERENT base_level values (CRITICAL)
        9. Assert git_hash, last_modified, commit_count stored in chunk metadata
        10. Assert access_count matches commit_count for each function
        11. Test non-Git directory (no crash, base_level=0.5 fallback)
        
        Expected: These tests will FAIL initially due to Issue #16 (Git-based BLA not implemented)
        - Current behavior: All base_level = 0.0, no Git history used
        - Expected behavior: Function-specific BLA based on individual commit history
        
        Reference: PRD-0010 Section 3 (User Stories), US-8 (Git-Based BLA Initialization),
                   FR-8 (Git-Based BLA Initialization - FUNCTION-LEVEL)
        <Class TestGitBasedBLAInitialization>
          E2E tests for Git-based BLA initialization at FUNCTION level.
          
          These tests verify that Aurora uses Git commit history to initialize
          activation scores, with FUNCTION-level granularity (not file-level).
          <Function test_1_6_1_create_git_repo_with_history>
            Test 1.6.1: Write test that creates git repo with commit history.
            
            Verifies the fixture creates a proper Git repo.
          <Function test_1_6_2_functions_have_different_commit_counts>
            Test 1.6.2: Create file with multiple functions, commit each function separately.
            
            Verifies that git blame shows different commit history for each function.
          <Function test_1_6_3_index_file_with_git_history>
            Test 1.6.3: Edit one function multiple times (8 commits), another once (1 commit).
            
            This setup enables testing FUNCTION-level BLA differences.
          <Function test_1_6_4_query_activation_scores_from_database>
            Test 1.6.4: Index the file with `aur mem index`.
            
            Then query activation scores from database.
          <Function test_1_6_5_base_level_varies_across_chunks>
            Test 1.6.5: Query SQLite DB to check activation scores.
            
            Test 1.6.6: Assert base_level varies across chunks (not all 0.0).
            
            EXPECTED TO FAIL: All base_level = 0.0 (Issue #16).
          <Function test_1_6_6_frequently_edited_function_has_higher_bla>
            Test 1.6.7: Assert frequently-edited function has higher base_level than rarely-edited.
            
            EXPECTED TO FAIL: All base_level = 0.0 or equal (Issue #16).
          <Function test_1_6_7_functions_in_same_file_have_different_bla>
            Test 1.6.8: Assert functions in SAME file have DIFFERENT base_level values.
            
            THIS IS THE CRITICAL TEST for FUNCTION-level Git tracking!
            
            EXPECTED TO FAIL: All functions in same file have identical BLA (file-level tracking).
          <Function test_1_6_8_git_metadata_stored_in_chunks>
            Test 1.6.9: Assert git_hash, last_modified, commit_count stored in chunk metadata.
            
            EXPECTED TO FAIL: Metadata not stored (Issue #16).
          <Function test_1_6_9_access_count_initialized_from_commits>
            Test 1.6.10: Assert access_count matches commit_count for each function.
            
            EXPECTED TO FAIL: access_count = 0 (not initialized from Git).
          <Function test_1_6_10_non_git_directory_graceful_fallback>
            Test 1.6.11: Test non-Git directory (no crash, base_level=0.5 fallback).
            
            Verifies Aurora handles non-Git directories gracefully.
          <Function test_1_6_11_comprehensive_git_bla_check>
            Test 1.6.12: Expected - Test FAILS because all base_level = 0.0 (Issue #16).
            
            Comprehensive test documenting Issue #16.
            
            Current broken behavior:
            - All base_level = 0.0 (Git history ignored)
            - All access_count = 0
            - No Git metadata stored
            - Functions in same file have identical scores
            
            Expected behavior after fix (FUNCTION-LEVEL):
            - Each function has BLA based on ITS commit history
            - git blame -L <start>,<end> used for each function
            - func_a (8 commits) > func_b (3 commits) > func_c (1 commit)
            - Metadata includes: git_hash, last_modified, commit_count
            - access_count initialized from commit_count
      <Module test_e2e_new_user_workflow.py>
        E2E Test: New User Workflow (Task 1.1)
        
        This test suite validates the complete new user experience from scratch.
        These tests are designed to FAIL initially, proving the bugs exist (Issue #2: Database path confusion).
        
        Test Scenario: Fresh Aurora Installation
        1. Clean ~/.aurora directory (simulate new user)
        2. Run aur init - should create config and DB at ~/.aurora/
        3. Run aur mem index . - should write chunks to ~/.aurora/memory.db
        4. Run aur mem stats - should show correct chunk count
        5. Run aur mem search "function" - should return results
        6. Run aur query "what is X?" - should use indexed data
        7. Verify NO local aurora.db created in project directory
        
        Expected: These tests will FAIL because of Issue #2 (database path confusion)
        - Current behavior: Creates aurora.db in current working directory
        - Expected behavior: All data in ~/.aurora/memory.db
        
        Reference: PRD-0010 Section 3 (User Stories), US-1 (Single Database Location)
        <Class TestNewUserWorkflowE2E>
          E2E tests for complete new user workflow.
          
          These tests simulate a new user installing and using Aurora for the first time.
          Expected to FAIL initially due to Issue #2 (database path confusion).
          <Function test_1_1_1_clean_aurora_creates_home_directory>
            Test 1.1.1: Fresh Aurora installation simulates clean ~/.aurora.
            
            Verifies that a new user starts with no Aurora data.
          <Function test_1_1_2_aur_init_creates_config_and_db>
            Test 1.1.2: aur init creates config at ~/.aurora/config.json and DB at ~/.aurora/memory.db.
            
            Expected behavior (from PRD):
            - Creates ~/.aurora/config.json
            - Creates ~/.aurora/memory.db (or at minimum, establishes this as the DB path)
            
            EXPECTED TO FAIL: Currently creates aurora.db in current directory.
          <Function test_1_1_3_aur_mem_index_writes_to_aurora_home>
            Test 1.1.3: aur mem index . writes chunks to ~/.aurora/memory.db (not local aurora.db).
            
            EXPECTED TO FAIL: Currently creates/uses ./aurora.db in current directory.
          <Function test_1_1_4_aur_mem_stats_shows_correct_count>
            Test 1.1.4: aur mem stats shows correct chunk count from ~/.aurora/memory.db.
            
            EXPECTED TO FAIL: Stats reads from wrong database.
          <Function test_1_1_5_aur_mem_search_returns_results>
            Test 1.1.5: aur mem search "function" returns results from ~/.aurora/memory.db.
            
            EXPECTED TO FAIL: Search reads from wrong database.
          <Function test_1_1_6_aur_query_retrieves_from_indexed_data>
            Test 1.1.6: aur query "what is X?" retrieves from indexed data.
            
            This test validates Issue #15 (Query doesn't use indexed data).
            We use --dry-run or --non-interactive to avoid needing real API keys.
            
            EXPECTED TO FAIL: Query doesn't retrieve from index.
          <Function test_1_1_7_subprocess_commands_return_zero>
            Test 1.1.7: Use subprocess.run() for CLI commands, assert returncode == 0.
            
            Validates that all basic CLI commands succeed without errors.
          <Function test_1_1_8_no_local_aurora_db_created>
            Test 1.1.8: Verify no local aurora.db files created in project directory.
            
            EXPECTED TO FAIL: Currently creates aurora.db in project directory.
            
            This is the KEY test for Issue #2 - the system should ONLY use ~/.aurora/memory.db
            and never create local aurora.db files in project directories.
          <Function test_1_1_9_overall_workflow_fails_due_to_db_path_issue>
            Test 1.1.9: Expected - Test FAILS because of Issue #2 (database path confusion).
            
            This test documents the complete expected failure scenario.
            When Issue #2 is fixed, this test should be updated or removed.
            
            Current behavior:
            1. aur init creates config at ~/.aurora/config.json (OK)
            2. aur init creates aurora.db in CWD (WRONG - should be ~/.aurora/memory.db)
            3. aur mem index creates aurora.db in CWD (WRONG)
            4. aur mem stats looks for aurora.db in CWD (WRONG)
            5. Data scattered across multiple databases = chaos
            
            Expected behavior after fix:
            1. All commands use ~/.aurora/memory.db
            2. Config specifies db_path = ~/.aurora/memory.db
            3. No local aurora.db files ever created
        <Class TestNewUserWorkflowWithExplicitDbPath>
          Tests that use explicit --db-path to work around Issue #2.
          
          These tests document the WORKAROUND for the current bug.
          They should PASS because we explicitly specify the correct path.
          <Function test_explicit_db_path_workflow_succeeds>
            Complete workflow works when using explicit --db-path.
            
            This demonstrates the expected behavior - when we explicitly
            tell Aurora where to put the database, everything works.
      <Module test_e2e_query_uses_index.py>
        E2E Test: Query Uses Indexed Data (Task 1.4)
        
        This test suite validates that queries retrieve from the indexed codebase
        and pass relevant context to the LLM, not just generic answers.
        
        Test Scenario: Query Retrieval Integration
        1. Index codebase with specific code patterns
        2. Query for information that exists in indexed code
        3. Mock LLM client to capture prompts sent to API
        4. Verify LLM prompt includes context from indexed chunks
        5. Verify context includes file paths and line ranges
        6. Verify response references actual code (not generic answer)
        7. Test with --verbose flag to see retrieval logs
        
        Expected: These tests will FAIL initially due to Issue #15 (query doesn't retrieve)
        - Current behavior: Queries don't retrieve from index, give generic answers
        - Expected behavior: Queries retrieve relevant chunks and include in LLM context
        
        Reference: PRD-0010 Section 3 (User Stories), US-3 (Query Retrieves from Index)
        <Class TestQueryUsesIndex>
          E2E tests for query retrieval integration.
          
          These tests verify that queries actually retrieve from the indexed codebase
          and pass relevant context to the LLM.
          <Function test_1_4_1_index_codebase_with_specific_patterns>
            Test 1.4.1: Write test that indexes codebase with specific code patterns.
            
            Indexes project with unique, searchable classes and methods.
          <Function test_1_4_2_query_for_existing_code>
            Test 1.4.2: Query for information that exists in indexed code.
            
            Asks about HybridRetriever class which exists in indexed code.
            
            EXPECTED TO FAIL: Query doesn't retrieve from index (Issue #15).
          <Function test_1_4_3_query_with_verbose_shows_retrieval>
            Test 1.4.7: Test with --verbose flag to see retrieval logs.
            
            Verbose output should show what chunks were retrieved.
            
            EXPECTED TO FAIL: No retrieval happens (Issue #15).
          <Function test_1_4_4_search_before_query_shows_code_exists>
            Baseline test: Verify search CAN find the code we'll query about.
            
            This proves the code is indexed and searchable - so query should find it too.
          <Function test_1_4_5_query_output_references_actual_code>
            Test 1.4.6: Verify response references actual code (not generic answer).
            
            Query response should include specifics from the indexed code:
            - File names (hybrid_retriever.py)
            - Class names (HybridRetriever)
            - Method names (retrieve, _get_activation_scores)
            - Docstring content (60% activation, 40% semantic)
            
            EXPECTED TO FAIL: Response is generic (Issue #15).
          <Function test_1_4_6_query_vs_search_consistency>
            Verify query uses same data that search can find.
            
            If search can find HybridRetriever, query should too.
            If search returns 0 results, query has nothing to retrieve.
            
            EXPECTED TO FAIL: Query doesn't use search results (Issue #15).
          <Function test_1_4_7_comprehensive_query_retrieval_check>
            Test 1.4.8: Expected - Test FAILS because query doesn't retrieve from index (Issue #15).
            
            Comprehensive test documenting Issue #15.
            
            Current broken behavior:
            - Query doesn't call memory_manager.search() before LLM
            - LLM receives no context from indexed code
            - Answers are generic, not code-specific
            
            Expected behavior after fix:
            - Query retrieves relevant chunks from index
            - LLM prompt includes context with file paths and code
            - Answers reference actual indexed code
        <Class TestQueryRetrievalWithoutAPI>
          Tests that validate retrieval without needing API keys.
          
          Uses --dry-run or mocking to test retrieval logic.
          <Function test_query_dry_run_shows_retrieval_intent>
            With --dry-run, query should at least ATTEMPT retrieval.
            
            Even if it doesn't call LLM, it should retrieve chunks.
      <Module test_e2e_schema_migration.py>
        E2E Test: Schema Migration Handling (Sprint 2 - Task 1.10)
        
        This test suite validates that the CLI handles database schema migrations gracefully
        when users have databases created with older versions of Aurora.
        
        Test Scenarios:
        1. Detect old schema (7-column chunks table)
        2. Display user-friendly error message (no Python traceback)
        3. Prompt for backup and reset
        4. Successfully reset database to current schema
        5. Verify data can be re-indexed after reset
        
        Expected Behavior:
        - User sees clear migration prompt, not a traceback
        - Backup option is offered before destructive operations
        - Reset creates valid database with current schema
        - Process is non-blocking and user-friendly
        
        Reference: PRD-0013 Section 4 (FR-1: Schema Migration), Task 1.0
        <Class TestSchemaDetectionAndError>
          Test that old schemas are detected and display user-friendly errors.
          <Function test_aur_init_detects_old_schema>
            Test that 'aur init' detects old schema and displays friendly message.
          <Function test_schema_error_shows_version_info>
            Test that schema error shows version mismatch details.
        <Class TestBackupAndReset>
          Test backup creation and database reset functionality.
          <Function test_reset_with_backup_creates_backup>
            Test that reset flow creates backup when requested.
          <Function test_reset_without_backup>
            Test that reset works when user declines backup.
          <Function test_reset_creates_valid_schema>
            Test that reset creates a valid database with current schema.
        <Class TestReindexingAfterReset>
          Test that data can be re-indexed after schema reset.
          <Function test_index_works_after_reset>
            Test that 'aur mem index' works after resetting schema.
        <Class TestUserAbort>
          Test that users can abort migration safely.
          <Function test_user_can_abort_reset>
            Test that user can say 'no' to reset and database remains unchanged.
      <Module test_e2e_search_accuracy.py>
        E2E Test: Search Accuracy (Task 1.3)
        
        This test suite validates that search returns varied, relevant results
        based on the query, not identical results for all queries.
        
        Test Scenario: Search Result Variety
        1. Index codebase with diverse content
        2. Run 3+ different searches with varied queries
        3. Parse JSON output from searches
        4. Assert top results differ across queries (not identical)
        5. Assert activation scores vary across chunks (stddev > 0.1)
        6. Assert semantic scores vary based on relevance
        7. Assert line ranges are not all "0-0"
        
        Expected: These tests will FAIL initially due to Issue #4 (identical search results)
        - Current behavior: All searches return same 5 results with score 1.000
        - Expected behavior: Different queries return different, relevant results
        
        Reference: PRD-0010 Section 3 (User Stories), US-2 (Accurate Search Results)
        <Class TestSearchAccuracy>
          E2E tests for search result accuracy and variety.
          
          These tests verify that Aurora returns relevant, varied search results
          based on query content, not identical results for all queries.
          <Function test_1_3_1_index_codebase_with_diverse_content>
            Test 1.3.1: Write test that indexes codebase with diverse content.
            
            Indexes a project with clearly distinct modules (database, API, file I/O, algorithms).
          <Function test_1_3_2_different_queries_return_different_results>
            Test 1.3.2: Run 3+ different searches with varied queries.
            
            EXPECTED TO FAIL: All searches return identical results (Issue #4).
          <Function test_1_3_3_parse_json_output>
            Test 1.3.3: Parse JSON output from `aur mem search --output json`.
            
            Verifies JSON output is parseable and has expected structure.
          <Function test_1_3_4_top_results_differ_across_queries>
            Test 1.3.4: Assert top results differ across queries (not identical).
            
            EXPECTED TO FAIL: All queries return same top result (Issue #4).
          <Function test_1_3_5_activation_scores_have_variance>
            Test 1.3.5: Assert activation scores vary across chunks (stddev > 0.1).
            
            EXPECTED TO FAIL: All activation scores identical (Issue #4).
          <Function test_1_3_6_semantic_scores_vary_by_relevance>
            Test 1.3.6: Assert semantic scores vary based on relevance.
            
            EXPECTED TO FAIL: Semantic scores all identical (embeddings not working).
          <Function test_1_3_7_line_ranges_not_all_zero>
            Test 1.3.7: Assert line ranges are not all "0-0".
            
            Line ranges should reflect actual code locations.
            
            EXPECTED TO FAIL: Line ranges show "0-0" (metadata not stored correctly).
          <Function test_1_3_8_search_accuracy_comprehensive_check>
            Test 1.3.8: Expected - Test FAILS because all results identical (Issue #4).
            
            Comprehensive test documenting all aspects of Issue #4.
            
            Current broken behavior:
            - All searches return same top 5 results
            - All activation scores = 1.000
            - All semantic scores = 1.000
            - Line ranges = 0-0
            
            Expected behavior after fix:
            - Different queries return different results
            - Scores vary based on relevance
            - Line ranges show actual code locations
      <Module test_e2e_search_scoring.py>
        E2E Test: Search Scoring (Sprint 1 - Fix Search Scoring)
        
        This test suite validates that search returns varied scores based on
        activation tracking and semantic similarity.
        
        Root Causes Fixed:
        1. Bug 1 (sqlite.py): retrieve_by_activation() now attaches base_level to chunks
        2. Bug 2 (hybrid_retriever.py): Fixed attribute name 'embedding' -> 'embeddings'
        3. Bug 3 (hybrid_retriever.py): _normalize_scores() now preserves equal scores
        
        Test Scenarios:
        1. test_search_returns_varied_activation_scores - Activation scores vary
        2. test_search_returns_varied_semantic_scores - Semantic scores vary by relevance
        3. test_search_returns_varied_hybrid_scores - Hybrid scores in valid range [0.0, 1.0]
        4. test_search_ranks_relevant_results_higher - Top results contain query terms
        5. test_activation_frequency_affects_score - Repeated searches boost activation
        6. test_git_bla_initialization_varies_by_function - Git BLA varies per function
        
        Reference: PRD 0012-prd-sprint1-fix-search-scoring.md
        <Class TestSearchScoring>
          E2E tests for search scoring fixes.
          
          These tests verify that the three bugs have been fixed:
          1. Activation scores are properly retrieved from database
          2. Semantic scores use correct 'embeddings' attribute
          3. Normalization preserves scores when all equal
          <Function test_search_returns_varied_activation_scores>
            Test that activation scores are properly attached to chunks.
            
            Verifies Bug 1 fix: retrieve_by_activation() now attaches base_level to chunks.
            
            Note: In temp directories without Git history, all base_levels default to 0.5.
            This test verifies that activation values ARE retrieved (not 0.0) and can vary
            after repeated searches trigger record_access().
          <Function test_search_returns_varied_semantic_scores>
            Test that semantic scores vary based on query relevance.
            
            Verifies Bug 2 fix: HybridRetriever uses 'embeddings' (not 'embedding').
          <Function test_search_returns_varied_hybrid_scores>
            Test that hybrid scores vary and are in valid range [0.0, 1.0].
            
            Verifies Bug 3 fix: _normalize_scores() preserves equal scores.
          <Function test_search_ranks_relevant_results_higher>
            Test that top-ranked results contain query-relevant content.
          <Function test_activation_frequency_affects_score>
            Test that repeated searches increase activation scores.
            
            Verifies that record_access() is called during search.
          <Function test_git_bla_initialization_varies_by_function>
            Test that functions in same file have different base_level values.
            
            This verifies function-level Git BLA tracking works.
            Note: This test may have limited variation in temp projects without real Git history.
        <Class TestNormalizationEdgeCases>
          Test normalization edge cases are handled correctly.
          <Function test_equal_scores_not_normalized_to_one>
            Verify that equal scores are preserved, not inflated to 1.0.
            
            This is the key test for Bug 3 fix.
      <Module test_e2e_search_threshold.py>
        E2E tests for semantic search threshold filtering.
        
        Tests verify that the --min-score CLI option correctly filters search results
        and that config values are respected.
        <Function test_search_with_min_score_option>
          Test --min-score option filters results correctly.
        <Function test_search_non_existent_term_with_threshold>
          Test searching for non-existent term shows appropriate message.
        <Function test_search_respects_config_threshold>
          Test that search respects config.json min_semantic_score value.
        <Function test_search_cli_option_overrides_config>
          Test that --min-score CLI option overrides config value.
        <Function test_search_threshold_validation>
          Test that invalid threshold values are rejected.
        <Function test_no_relevant_results_message>
          Test that 'No relevant results' message is shown when appropriate.
      <Module test_memory_lifecycle_e2e.py>
        End-to-end tests for memory store lifecycle.
        
        These tests validate complete memory lifecycle workflows including:
        - Create store → index → search → update → re-search
        - Database persistence and querying
        - Incremental indexing (add/remove files)
        - Concurrent access patterns
        - Statistics accuracy
        
        Test Coverage:
        - Task 3.40: Memory Store Lifecycle E2E Tests (5-6 tests)
        
        All tests use real components (SQLiteStore, MemoryManager, PythonParser)
        with no mocks to validate complete data persistence and lifecycle behavior.
        
        Note: Memory store re-indexing REPLACES old chunks (not append-only).
        This ensures chunks stay current and don't accumulate duplicates.
        <Function test_complete_memory_lifecycle>
          Test complete memory lifecycle: create → index → search → update → re-search.
          
          Validates:
          - Store creation and initialization
          - Initial indexing creates chunks
          - Search returns indexed content
          - File modification detected
          - Re-indexing replaces old chunks with new ones
          - Search returns updated content
        <Function test_memory_lifecycle_with_file_deletion>
          Test memory lifecycle when files are deleted: index → delete file → re-index.
          
          Validates:
          - Initial indexing creates chunks
          - File deletion detected during re-index
          - Re-indexing removes chunks from deleted files
          - Only remaining file chunks persist
        <Function test_memory_lifecycle_incremental_indexing>
          Test incremental indexing: index → add new file → index again.
          
          Validates:
          - Initial indexing baseline
          - New file addition detected
          - Incremental indexing adds only new chunks
          - Old chunks preserved correctly
          - Total chunk count increases appropriately
        <Function test_memory_lifecycle_concurrent_access>
          Test memory lifecycle with concurrent read/write operations.
          
          Validates:
          - Store supports concurrent reads during indexing
          - WAL mode enables read-while-write
          - No database locks or corruption
          - Search results consistent during indexing
        <Function test_memory_lifecycle_stats_accuracy>
          Test memory store statistics remain accurate throughout lifecycle.
          
          Validates:
          - Initial stats correct after first index
          - Stats update correctly after modifications
          - Stats reflect deletions accurately
          - Stats track total files, chunks, and storage size
        <Function test_memory_lifecycle_search_ranking_stability>
          Test search ranking remains stable and relevant across re-indexing.
          
          Validates:
          - Initial search returns relevant results
          - Re-indexing preserves ranking quality
          - Modified chunks maintain appropriate relevance scores
          - Search results consistent across lifecycle operations
      <Module test_wizard_e2e.py>
        E2E tests for interactive setup wizard.
        
        Tests the complete wizard flow in a real environment.
        <Function test_wizard_complete_flow_skip_indexing>
          Test complete wizard flow without indexing.
        <Function test_wizard_anthropic_with_api_key>
          Test wizard with Anthropic provider and valid API key.
        <Function test_wizard_openai_provider>
          Test wizard with OpenAI provider selection.
        <Function test_wizard_ollama_provider>
          Test wizard with Ollama (local) provider.
        <Function test_wizard_with_mcp_enabled>
          Test wizard with MCP server enabled.
        <Function test_wizard_environment_detection>
          Test wizard detects environment correctly.
        <Function test_wizard_displays_all_steps>
          Test wizard displays all expected steps.
        <Function test_wizard_next_steps_displayed>
          Test wizard displays next steps in completion.
    <Package fault_injection>
      <Module test_agent_failure.py>
        Fault injection tests for agent failures.
        
        Tests how the system handles various agent failure scenarios:
        - Agent timeouts
        - Agent errors/exceptions
        - Critical vs non-critical failures
        - Retry exhaustion
        - Partial results with degraded functionality
        <Class TestAgentTimeout>
          Test agent timeout scenarios.
          <Coroutine test_non_critical_timeout_graceful_degradation>
            Test non-critical agent timeout results in graceful degradation.
          <Coroutine test_critical_timeout_aborts_execution>
            Test critical agent timeout aborts entire execution.
        <Class TestAgentErrors>
          Test agent error scenarios.
          <Coroutine test_non_critical_error_graceful_degradation>
            Test non-critical agent error results in graceful degradation.
        <Class TestRetryExhaustion>
          Test retry exhaustion scenarios.
          <Coroutine test_non_critical_retry_exhaustion>
            Test non-critical subgoal gracefully degrades after retry exhaustion.
          <Coroutine test_critical_retry_exhaustion_aborts>
            Test critical subgoal aborts after retry exhaustion.
        <Class TestPartialResults>
          Test partial result scenarios.
          <Coroutine test_mixed_success_failure_returns_partial_results>
            Test mixed success/failure returns partial results.
        <Class TestMultipleFailures>
          Test multiple failure scenarios.
          <Coroutine test_parallel_mixed_failures>
            Test parallel execution with mixed failures.
        <Class TestCascadingFailures>
          Test cascading failure scenarios.
          <Coroutine test_sequential_critical_failure_stops_execution>
            Test that critical failure in sequential execution stops subsequent tasks.
        <Class TestQueryTimeout>
          Test overall query timeout scenarios.
          <Coroutine test_query_timeout_aborts_execution>
            Test that query timeout aborts entire execution.
        <Class TestMetadataTracking>
          Test that failure metadata is properly tracked.
          <Coroutine test_failure_metadata_tracked>
            Test that failures are tracked in metadata.
        <Class TestErrorMessages>
          Test that error messages are properly captured.
          <Coroutine test_error_message_captured_in_output>
            Test that error messages are captured in failed outputs.
      <Module test_bad_decomposition.py>
        Fault injection tests for bad decompositions.
        
        Tests how the verification system handles intentionally bad decompositions:
        - Incomplete subgoals that don't cover the full query
        - Missing dependencies causing execution order issues
        - Circular dependencies
        - Verify phase catches issues and triggers retry loop
        - Max retries exhaustion handling
        <Class TestIncompleteSubgoals>
          Test verification catches incomplete subgoals.
          <Function test_incomplete_subgoals_caught>
            Test that incomplete subgoals are caught by verification.
          <Function test_incomplete_triggers_retry>
            Test that incomplete subgoals trigger retry loop.
        <Class TestMissingDependencies>
          Test verification catches missing dependencies.
          <Function test_missing_dependencies_caught>
            Test that missing dependencies are caught by verification.
        <Class TestCircularDependencies>
          Test verification catches circular dependencies.
          <Function test_circular_dependencies_caught>
            Test that circular dependencies are caught by verification.
        <Class TestRetryLoopExhaustion>
          Test max retries exhaustion handling.
          <Function test_max_retries_exhaustion>
            Test that max retries are enforced and result in FAIL.
          <Function test_fail_verdict_no_retry>
            Test that FAIL verdict does not trigger retry loop.
        <Class TestMultipleBadQualityDimensions>
          Test decompositions with multiple quality issues.
          <Function test_multiple_quality_issues>
            Test that multiple quality issues are all caught.
      <Module test_budget_exceeded.py>
        Fault injection tests for budget exceeded scenarios.
        <Class TestBudgetExceededFaultInjection>
          Fault injection tests for budget exceeded scenarios.
          <Function test_budget_exceeded_before_execution>
            Test query rejection when budget already exceeded.
          <Function test_budget_exceeded_with_expensive_model>
            Test query rejection when using expensive model.
          <Function test_budget_exceeded_mid_execution>
            Test behavior when budget is exceeded during execution.
          <Function test_budget_error_message_details>
            Test that budget error messages contain useful details.
          <Function test_budget_recovery_after_period_rollover>
            Test that budget is recovered after monthly rollover.
          <Function test_concurrent_queries_budget_race_condition>
            Test budget enforcement with concurrent queries (race condition).
          <Function test_budget_exceeded_with_zero_limit>
            Test behavior with zero budget limit (disabled tracking).
            
            NOTE: Currently fails due to ZeroDivisionError in CostTracker.check_budget()
            when calculating projected_percent with limit_usd=0.0.
            Should be fixed to handle zero limit gracefully (either reject immediately
            or treat as unlimited).
          <Function test_budget_exceeded_error_attributes>
            Test that BudgetExceededError has all required attributes.
      <Module test_llm_timeout.py>
        Fault injection tests for LLM timeout scenarios.
        
        Tests how the system handles LLM timeouts and API failures:
        - Network timeouts during LLM calls
        - Slow API responses exceeding timeout limits
        - Transient API failures with retry logic
        - Retry exhaustion scenarios
        - Timeout during different SOAR phases
        - Partial results with degraded functionality
        <Class TestLLMTimeoutBasic>
          Test basic LLM timeout scenarios.
          <Function test_timeout_raises_error>
            Test that LLM timeout raises TimeoutError.
          <Function test_timeout_during_generate>
            Test timeout during text generation.
          <Function test_timeout_during_generate_json>
            Test timeout during JSON generation.
        <Class TestLLMTimeoutRetry>
          Test LLM timeout retry logic.
          <Function test_retry_succeeds_after_one_failure>
            Test that retry succeeds after one timeout.
          <Function test_retry_exhaustion_after_max_attempts>
            Test that retry exhaustion raises error.
        <Class TestLLMTimeoutPhases>
          Test LLM timeout during different SOAR phases.
          <Function test_timeout_during_assess_phase>
            Test timeout during complexity assessment.
          <Function test_timeout_during_decompose_phase>
            Test timeout during query decomposition.
          <Function test_timeout_during_verify_phase>
            Test timeout during verification.
          <Function test_timeout_during_synthesis_phase>
            Test timeout during result synthesis.
        <Class TestLLMTimeoutRecovery>
          Test recovery strategies for LLM timeouts.
          <Function test_graceful_degradation_to_cached_results>
            Test fallback to cached results when LLM times out.
          <Function test_partial_execution_with_timeout>
            Test partial execution when timeout occurs mid-pipeline.
        <Class TestLLMTimeoutMetadata>
          Test that timeout metadata is properly captured.
          <Function test_timeout_duration_recorded>
            Test that timeout duration is recorded in metadata.
          <Function test_retry_attempts_recorded>
            Test that retry attempts are recorded.
        <Class TestLLMTimeoutErrorMessages>
          Test that timeout error messages are informative.
          <Function test_timeout_error_message_contains_details>
            Test that timeout error message contains useful details.
          <Function test_timeout_error_distinguishable_from_other_errors>
            Test that timeout errors are distinguishable from other errors.
        <Class TestLLMTimeoutIntegration>
          Test LLM timeout in integrated scenarios.
          <Function test_timeout_with_cost_tracking>
            Test that timeout interacts correctly with cost tracking.
          <Coroutine test_timeout_with_parallel_execution>
            Test timeout handling in parallel execution.
          <Function test_timeout_recovery_with_different_model>
            Test recovery by switching to faster model after timeout.
        <Class TestLLMTimeoutEdgeCases>
          Test edge cases for LLM timeouts.
          <Function test_zero_timeout>
            Test behavior with zero timeout (should fail immediately).
          <Function test_very_long_timeout>
            Test behavior with very long timeout.
          <Function test_timeout_with_empty_prompt>
            Test timeout with empty prompt.
          <Function test_timeout_during_token_counting>
            Test timeout doesn't affect token counting.
      <Module test_malformed_output.py>
        Fault injection tests for malformed LLM output scenarios.
        
        Tests how the system handles malformed or invalid LLM outputs:
        - Invalid JSON syntax
        - JSON with missing required fields
        - JSON with wrong data types
        - Non-JSON text responses when JSON expected
        - Partially valid JSON
        - JSON extraction from markdown code blocks
        - Unicode and encoding issues
        - Very large outputs that exceed limits
        <Class TestInvalidJSONSyntax>
          Test invalid JSON syntax scenarios.
          <Function test_invalid_json_raises_error>
            Test that invalid JSON syntax raises appropriate error.
          <Function test_partial_json_raises_error>
            Test that partial/truncated JSON raises error.
          <Function test_no_json_raises_error>
            Test that plain text response raises error when JSON expected.
        <Class TestMissingRequiredFields>
          Test JSON with missing required fields.
          <Function test_missing_fields_in_decomposition>
            Test decomposition with missing required fields.
          <Function test_missing_fields_in_verification>
            Test verification with missing required fields.
        <Class TestWrongDataTypes>
          Test JSON with wrong data types.
          <Function test_wrong_type_complexity_assessment>
            Test complexity assessment with wrong data types.
          <Function test_wrong_type_subgoals>
            Test decomposition with subgoals as wrong type.
        <Class TestJSONExtraction>
          Test JSON extraction from various formats.
          <Function test_extract_json_from_markdown>
            Test extracting JSON from markdown code block.
          <Function test_extract_json_without_language_tag>
            Test extracting JSON from code block without language tag.
          <Function test_extract_json_direct>
            Test extracting JSON from plain text (no markdown).
          <Function test_extract_json_with_extra_text>
            Test extracting JSON with extra surrounding text.
          <Function test_extract_json_no_json_found>
            Test error when no JSON found in text.
        <Class TestUnicodeAndEncoding>
          Test unicode and encoding issues.
          <Function test_unicode_in_json>
            Test handling of valid unicode in JSON.
          <Function test_malformed_unicode_raises_error>
            Test that malformed unicode raises error.
        <Class TestOversizedOutput>
          Test very large outputs.
          <Function test_oversized_output_handling>
            Test handling of very large outputs.
          <Function test_oversized_text_truncation>
            Test that oversized text responses are handled.
        <Class TestMalformedDecomposition>
          Test malformed decomposition outputs.
          <Function test_decomposition_with_invalid_agent_names>
            Test decomposition with invalid agent names.
          <Function test_decomposition_with_invalid_dependencies>
            Test decomposition with out-of-range dependencies.
          <Function test_decomposition_with_missing_execution_order>
            Test decomposition missing execution_order field.
        <Class TestMalformedVerification>
          Test malformed verification outputs.
          <Function test_verification_with_invalid_scores>
            Test verification with out-of-range scores.
          <Function test_verification_with_negative_scores>
            Test verification with negative scores.
        <Class TestMalformedSynthesis>
          Test malformed synthesis outputs.
          <Function test_synthesis_with_missing_traceability>
            Test synthesis missing traceability links.
          <Function test_synthesis_with_invalid_confidence>
            Test synthesis with out-of-range confidence.
        <Class TestErrorRecovery>
          Test error recovery strategies for malformed outputs.
          <Function test_retry_on_malformed_json>
            Test that malformed JSON triggers retry.
          <Function test_fallback_on_parsing_error>
            Test fallback behavior when parsing fails.
        <Class TestMalformedMetadata>
          Test malformed metadata in outputs.
          <Function test_missing_metadata_fields>
            Test handling of missing metadata fields.
          <Function test_extra_metadata_fields>
            Test handling of extra/unexpected metadata fields.
        <Class TestEdgeCases>
          Test edge cases for malformed outputs.
          <Function test_empty_json_object>
            Test handling of empty JSON object.
          <Function test_empty_json_array>
            Test handling of empty JSON array.
          <Function test_null_json_value>
            Test handling of null JSON value.
          <Function test_nested_malformed_json>
            Test nested JSON with malformed inner structure.
          <Function test_multiple_json_blocks>
            Test text with multiple JSON blocks.
    <Package integration>
      <Package cli>
        <Module test_doctor_mcp_checks.py>
          Integration tests for doctor command with MCPFunctionalChecks.
          
          This test module verifies that the doctor command properly validates MCP
          configurations, SOAR phases, and memory database, with auto-fix functionality.
          <Class TestDoctorMCPChecksIntegration>
            Integration tests for doctor command MCP health checks.
            <Function test_doctor_runs_all_mcp_checks>
              Doctor should run all 6 MCP functional checks.
            <Function test_doctor_detects_invalid_mcp_config_json>
              Doctor should detect and report invalid MCP config JSON.
            <Function test_doctor_detects_missing_memory_database>
              Doctor should detect missing memory database.
            <Function test_doctor_detects_missing_aurora_mcp_tools>
              Doctor should detect when Aurora MCP tools cannot be imported.
            <Function test_doctor_detects_missing_soar_phases>
              Doctor should detect when SOAR phase modules cannot be imported.
            <Function test_doctor_validates_all_three_essential_tools>
              Doctor should validate presence of aurora_query, aurora_search, aurora_get.
            <Function test_doctor_fix_flag_offers_to_apply_fixes>
              Doctor --fix should offer to apply automatic fixes.
            <Function test_doctor_fix_applies_automatic_fixes>
              Doctor --fix should apply automatic fixes when confirmed.
            <Function test_doctor_shows_manual_fix_suggestions>
              Doctor should show manual fix suggestions for non-auto-fixable issues.
            <Function test_doctor_exit_code_reflects_health_status>
              Doctor exit code should reflect overall health status.
            <Function test_doctor_handles_partial_soar_phase_failures>
              Doctor should report partial SOAR phase import failures.
            <Function test_doctor_validates_exactly_three_tools_no_extras>
              Doctor should warn if MCP server has extra tools beyond the 3 required.
          <Class TestDoctorMemoryDatabaseChecks>
            Tests for memory database validation in doctor command.
            <Function test_doctor_validates_memory_database_readable>
              Doctor should verify memory database is readable.
            <Function test_doctor_detects_corrupted_memory_database>
              Doctor should detect corrupted memory database.
          <Class TestDoctorFullFlow>
            End-to-end tests for full doctor command flow.
            <Function test_doctor_full_flow_with_valid_setup>
              Doctor should complete successfully with valid setup.
            <Function test_doctor_full_flow_with_multiple_failures>
              Doctor should report multiple failures clearly.
        <Module test_init_flow.py>
          Integration Tests for Unified `aur init` Command.
          
          This test suite validates complete init workflows with real components:
          - Real file system operations (git, directories)
          - Real database creation and indexing
          - Real tool configuration
          - Real CLI invocation with CliRunner
          
          Pattern: Use real components, mock only user input and external commands.
          
          Test Coverage:
          - Task 8.1: First-time init full flow
          - Task 8.1: Init without git
          - Task 8.1: --config flag behavior
          - Task 8.1: Idempotent re-run
          - Task 8.1: Selective step re-run
          - Task 8.1: Error recovery
          <Function test_first_time_init_full_flow>
            Test complete first-time initialization workflow.
            
            Expected behavior:
            1. Detects no .git directory
            2. Prompts for git init
            3. Runs git init when accepted
            4. Creates directory structure
            5. Creates project.md with metadata
            6. Indexes codebase into memory.db
            7. Prompts for tool selection
            8. Configures selected tools
            9. Shows success summary
          <Function test_init_without_git>
            Test initialization when user declines git init.
            
            Expected behavior:
            1. Detects no .git directory
            2. Prompts for git init
            3. User declines
            4. Shows warning about planning features
            5. Skips planning directory creation
            6. Still creates .aurora/logs and cache
            7. Still runs memory indexing
            8. Still configures tools
          <Function test_config_flag_skips_early_steps>
            Test --config flag runs only Step 3 (tool configuration).
            
            Expected behavior:
            1. Detects .aurora directory exists
            2. Skips Step 1 (planning setup)
            3. Skips Step 2 (memory indexing)
            4. Runs Step 3 (tool configuration) only
            5. Shows success message for tools only
          <Function test_config_flag_errors_without_aurora>
            Test --config flag requires .aurora directory.
            
            Expected behavior:
            1. User runs: aur init --config
            2. Command detects no .aurora directory
            3. Shows error message
            4. Exits with code 1
            5. Suggests running aur init first
          <Function test_idempotent_rerun_exit_option>
            Test re-running init on initialized project with exit option.
            
            Expected behavior:
            1. Run init first time
            2. Run init again
            3. Detects existing setup
            4. Shows status summary
            5. Prompts for re-run options
            6. User selects exit
            7. Command exits gracefully
            8. No changes made
          <Function test_rerun_all_steps_with_backup>
            Test re-running all steps creates backup.
            
            Expected behavior:
            1. Run init first time
            2. Run init again
            3. User selects "Re-run all steps"
            4. Creates memory.db.backup
            5. Re-indexes codebase
            6. Updates tool configurations
            7. Preserves custom content in project.md
            8. Shows success message
          <Function test_selective_step_rerun>
            Test selective re-run workflow (simplified).
            
            Note: Full selective step testing requires complex mock setup.
            This test verifies basic re-run detection works.
          <Function test_indexing_failure_recovery>
            Test basic initialization completes successfully.
            
            Note: Error recovery testing requires complex mock setup.
            This test verifies normal flow works end-to-end.
          <Function test_init_preserves_existing_git_history>
            Test init doesn't break existing git repository.
          <Function test_init_detects_project_metadata>
            Test project.md includes detected metadata.
        <Module test_init_mcp_validation.py>
          Integration tests for MCP configuration validation in init command.
          
          This test module verifies that the init command properly validates MCP
          configurations with soft failures (warnings instead of errors).
          <Class TestInitMCPValidationIntegration>
            Integration tests for MCP validation in full init flow.
            <Coroutine test_init_completes_with_invalid_json_warning>
              Init should complete successfully even with invalid MCP JSON.
              
              This tests the critical soft-failure requirement: validation issues
              should NOT prevent initialization from completing.
            <Coroutine test_init_shows_validation_warnings_with_aur_doctor_suggestion>
              Init should display validation warnings and suggest 'aur doctor'.
            <Coroutine test_init_handles_multiple_tools_with_mixed_validation>
              Init should handle multiple tools where some have validation issues.
            <Coroutine test_init_validation_accepts_both_command_formats>
              Init validation should accept both 'aurora-mcp' and 'python3 -m' formats.
            <Coroutine test_init_validation_reports_all_issues_together>
              Init should collect and report all validation issues for all tools.
        <Module test_init_tool_selection.py>
          Integration Tests for Tool Selection in `aur init` Command.
          
          This test suite validates the complete tool selection workflow:
          - Full `aur init` flow with --tools flag
          - Correct file creation for selected tools
          - Idempotent behavior (re-running produces same results)
          - Edge cases (permissions, existing files without markers, etc.)
          
          Pattern: Use real components, mock only user input where needed.
          
          Test Coverage:
          - Task 7.1: Create integration tests for tool selection
          - Task 7.2: Write idempotency integration tests
          - Task 7.3: Write edge case integration tests
          <Class TestToolSelectionFullFlow>
            Test full `aur init` flow with tool selection.
            <Function test_init_tools_claude_creates_correct_files>
              aur init --tools=claude creates Claude command files in correct location.
            <Function test_init_tools_cursor_creates_correct_files>
              aur init --tools=cursor creates Cursor command files in correct location.
            <Function test_init_tools_gemini_creates_toml_files>
              aur init --tools=gemini creates Gemini TOML files.
            <Function test_init_tools_multiple_creates_all>
              aur init --tools=claude,cursor,gemini creates files for all specified tools.
            <Function test_init_tools_all_creates_all_20_tools>
              aur init --tools=all creates files for all 20 tools (140 files: 20 tools x 7 commands).
            <Function test_init_tools_none_creates_no_tool_files>
              aur init --tools=none creates no slash command files.
            <Function test_init_tools_windsurf_has_auto_execution_mode>
              aur init --tools=windsurf creates files with auto_execution_mode: 3.
            <Function test_init_tools_files_have_correct_content>
              Verify created files have correct frontmatter and body content.
          <Class TestIdempotentBehavior>
            Test idempotent behavior - running init multiple times produces same result.
            <Function test_idempotent_init_claude_twice>
              Running aur init --tools=claude twice produces same result.
            <Function test_idempotent_preserves_custom_content_outside_markers>
              Custom content outside Aurora markers is preserved on re-run.
            <Function test_idempotent_preserves_custom_frontmatter>
              Custom frontmatter modifications are preserved on re-run.
            <Function test_idempotent_adding_new_tool_doesnt_affect_existing>
              Adding a new tool doesn't affect existing tool configurations.
          <Class TestEdgeCases>
            Test edge cases and error handling.
            <Function test_edge_tool_directory_exists_but_no_command_files>
              Handles existing tool directory without command files.
            <Function test_edge_command_files_exist_without_aurora_markers>
              Handles existing command files without Aurora markers - raises error for protection.
            <Function test_edge_codex_global_path_creation>
              Codex uses global path (~/.codex/prompts/) correctly.
            <Function test_edge_invalid_tool_shows_error>
              Invalid tool ID shows helpful error message.
            <Function test_edge_mixed_valid_invalid_tools>
              Mix of valid and invalid tool IDs shows error for invalid ones.
            <Function test_edge_empty_project_no_source_files>
              Handles project with no source files.
            <Function test_edge_readonly_directory_shows_error>
              Handles permission errors gracefully.
            <Function test_edge_tools_flag_with_config_flag>
              --tools flag works correctly with --config flag.
            <Function test_edge_whitespace_in_tools_flag>
              Tools flag handles whitespace correctly.
            <Function test_edge_case_sensitive_tool_ids>
              Tool IDs are case-insensitive.
          <Class TestSpecialToolConfigurations>
            Test tools with special configuration requirements.
            <Function test_amazon_q_has_arguments_placeholder>
              Amazon Q files have $ARGUMENTS placeholder.
            <Function test_cline_has_heading_frontmatter>
              Cline files have markdown heading frontmatter.
            <Function test_roocode_has_heading_frontmatter>
              RooCode files have markdown heading frontmatter.
            <Function test_github_copilot_has_prompt_extension>
              GitHub Copilot files have .prompt.md extension.
        <Module test_plan_decomposition_e2e.py>
          End-to-end integration tests for plan decomposition flow.
          
          This module tests the full plan creation workflow including:
          - SOAR decomposition with LLM integration
          - Memory-based file path resolution
          - Agent discovery and matching
          - Checkpoint summary and confirmation
          - Enhanced file generation with code-aware content
          <Class TestPlanDecompositionE2E>
            End-to-end tests for plan decomposition flow.
            <Function test_plan_create_with_soar_and_checkpoint>
              Test full plan creation with SOAR decomposition and checkpoint.
            <Function test_plan_create_graceful_degradation>
              Test plan creation falls back to heuristics when SOAR fails.
            <Function test_checkpoint_abort_no_files>
              Test that aborting at checkpoint creates no files.
            <Function test_non_interactive_mode>
              Test non-interactive mode skips checkpoint and creates plan.
          <Class TestEnhancedFileGeneration>
            Test enhanced file generation with code-aware content.
            <Function test_tasks_md_with_file_resolutions>
              Test tasks.md includes resolved file paths when memory indexed.
            <Function test_tasks_md_without_memory>
              Test tasks.md shows TBD message when memory not indexed.
          <Class TestPerformanceTargets>
            Test that operations meet performance targets.
            <Function test_plan_creation_completes_quickly>
              Test plan creation completes within reasonable time.
      <Package mcp>
        <Module test_mcp_soar_multi_turn.py>
          Integration tests for MCP-SOAR multi-turn flow.
          
          This module tests the complete multi-turn SOAR pipeline through the MCP
          aurora_query tool with phase parameter, verifying end-to-end orchestration.
          
          Test Coverage:
          - SIMPLE query early exit flow (assess → retrieve → respond)
          - MEDIUM query full pipeline (all 9 phases)
          - COMPLEX query with decomposition
          - Phase validation and error handling
          - Multi-turn state management
          - Response schema validation
          <Class TestMCPSOARMultiTurnFlow>
            Integration tests for MCP-SOAR multi-turn pipeline.
            <Function test_simple_query_early_exit_flow>
              Test SIMPLE query flow: assess → retrieve → respond (no decomposition).
            <Function test_medium_query_full_pipeline>
              Test MEDIUM query flow through all 9 SOAR phases.
            <Function test_complex_query_with_decomposition>
              Test COMPLEX query requiring sophisticated decomposition.
            <Function test_phase_validation_error_invalid_phase_name>
              Test error handling for invalid phase parameter.
            <Function test_phase_validation_error_missing_required_parameter>
              Test error handling when required phase parameters are missing.
            <Function test_verify_phase_rejection_flow>
              Test verify phase returning FAIL verdict.
            <Function test_end_to_end_timing_metadata>
              Test that each phase includes timing metadata.
            <Function test_response_schema_validation_all_required_fields>
              Test that all phases return responses with required schema fields.
            <Function test_no_external_llm_calls_during_phases>
              Test that MCP tools don't make external LLM API calls.
            <Function test_session_cache_management_across_phases>
              Test that session cache is properly managed across multi-turn phases.
          <Class TestMCPSOARErrorHandling>
            Integration tests for error handling in MCP-SOAR flow.
            <Function test_graceful_error_handling_phase_function_exception>
              Test graceful error handling when phase function raises exception.
            <Function test_invalid_json_parameter_handling>
              Test handling of malformed JSON parameters.
            <Function test_missing_dependency_import_error>
              Test handling when SOAR phase module cannot be imported.
      <Package planning>
        <Module test_workflows.py>
          Integration tests for Aurora Planning workflows.
          
          Tests end-to-end functionality of planning commands including:
          - Plan creation with full 8-file structure
          - Plan listing and filtering
          - Plan viewing with various formats
          - Archive workflow with confirmation
          - Config loading and overrides
          <Class TestPlanCreationWorkflow>
            Test end-to-end plan creation workflow.
            <Function test_create_plan_generates_all_files>
              Test that creating a plan generates all 8 files.
            <Function test_create_multiple_plans_increments_id>
              Test that creating multiple plans increments ID correctly.
            <Function test_create_plan_with_special_characters>
              Test plan creation with special characters in goal.
            <Function test_agents_json_is_valid>
              Test that generated agents.json is valid JSON and follows schema.
          <Class TestPlanListingWorkflow>
            Test end-to-end plan listing workflow.
            <Function test_list_empty_plans>
              Test listing when no plans exist.
            <Function test_list_multiple_plans>
              Test listing multiple plans.
            <Function test_list_json_format>
              Test listing plans in JSON format.
          <Class TestPlanViewingWorkflow>
            Test end-to-end plan viewing workflow.
            <Function test_view_plan_by_full_id>
              Test viewing a plan by full ID.
            <Function test_view_plan_by_number_only>
              Test viewing a plan by number only.
            <Function test_view_nonexistent_plan>
              Test viewing a plan that doesn't exist.
          <Class TestPlanArchiveWorkflow>
            Test end-to-end plan archive workflow.
            <Function test_archive_plan_with_force>
              Test archiving a plan with --yes flag.
            <Function test_archive_preserves_all_files>
              Test that archiving preserves all plan files.
          <Class TestConfigurationWorkflow>
            Test configuration loading and environment overrides.
            <Function test_env_var_override>
              Test that AURORA_PLANS_DIR environment variable works.
            <Function test_plans_dir_structure>
              Test that plans directory has correct structure.
          <Class TestEndToEndWorkflow>
            Test complete end-to-end workflow from creation to archive.
            <Function test_full_lifecycle>
              Test full plan lifecycle: create -> list -> view -> archive.
      <Module test_actr_retrieval_precision.py>
        Integration tests for ACT-R activation-based retrieval precision.
        
        This test verifies that activation ranking improves retrieval precision
        compared to baseline methods (e.g., keyword matching only).
        
        Test Strategy:
        1. Create a realistic code chunk dataset with diverse access patterns
        2. Define test queries with known "ground truth" relevant chunks
        3. Measure precision@K for baseline retrieval (keyword-only, no access history)
        4. Measure precision@K for activation-based retrieval (with access history)
        5. Verify activation-based retrieval achieves measurably higher precision
        
        Precision Metrics:
        - Precision@K = (relevant chunks in top-K) / K
        - Target: Activation-based should achieve ≥60% precision @3, ≥50% @5
        - Improvement: Should be measurably better than keyword-only baseline
        <Class TestActivationRetrievalPrecision>
          Test that activation-based ranking improves retrieval precision.
          <Function test_baseline_keyword_only>
            Baseline: keyword matching only (no access history, no spreading).
            
            This represents traditional keyword-based search without activation.
          <Function test_activation_based_retrieval>
            Activation-based: Uses BLA, spreading, context boost, and decay.
            
            This represents ACT-R activation formula with access history.
          <Function test_activation_improves_over_baseline>
            Main integration test: Verify activation ranking improves precision.
            
            This is the primary test for Task 1.20.
          <Function test_network_query_precision>
            Test precision on different query to verify generalization.
      <Module test_agent_execution.py>
        Integration tests for end-to-end agent execution flow.
        
        Tests the complete flow from routing to agent execution:
        - Route Phase 5: Agent routing with registry lookup
        - Collect Phase 6: Agent execution with parallel and sequential execution
        <Class TestSimpleExecution>
          Test simple single-agent execution.
          <Coroutine test_route_and_execute_simple>
            Test routing and executing a simple decomposition.
        <Class TestComplexExecution>
          Test complex multi-agent execution.
          <Coroutine test_route_and_execute_complex>
            Test routing and executing a complex decomposition.
        <Class TestParallelExecution>
          Test parallel agent execution.
          <Coroutine test_parallel_execution_speedup>
            Test that parallel execution is faster than sequential would be.
        <Class TestAgentFallback>
          Test agent fallback behavior.
          <Coroutine test_fallback_to_llm_executor>
            Test fallback to llm-executor when agent not found.
        <Class TestCapabilitySearch>
          Test capability-based agent search.
          <Coroutine test_capability_search_finds_agent>
            Test that capability search finds suitable agent.
        <Class TestExecutionMetadata>
          Test execution metadata collection.
          <Coroutine test_metadata_collection>
            Test that execution metadata is properly collected.
        <Class TestAgentOutputs>
          Test agent output structure.
          <Coroutine test_agent_output_structure>
            Test that agent outputs have correct structure.
        <Class TestEndToEndFlow>
          Test complete end-to-end flow.
          <Coroutine test_complete_flow>
            Test complete routing and execution flow.
        <Class TestMixedExecutionModes>
          Test mixed parallel and sequential execution.
          <Coroutine test_mixed_parallel_sequential>
            Test decomposition with both parallel and sequential phases.
      <Module test_archive_command_e2e.py>
        End-to-end integration tests for ArchiveCommand.
        
        Tests the full archive workflow with real directory structures,
        validating that all components work together correctly.
        
        Task 1.13: Verify archive command works end-to-end
        <Class TestArchiveCommandEndToEnd>
          End-to-end tests for archive command workflow.
          <Function test_archive_command_full_workflow>
            Test complete archive workflow with all components.
          <Function test_archive_with_spec_updates>
            Test archive workflow with spec delta updates.
          <Function test_archive_rejects_duplicate_archive_name>
            Test that archive fails if archive name already exists.
          <Function test_archive_validates_plan_exists>
            Test that archive fails if plan doesn't exist.
          <Function test_archive_validates_aurora_directory_exists>
            Test that archive fails if .aurora directory doesn't exist.
          <Function test_archive_preserves_task_progress>
            Test that task progress is correctly reported before archive.
        <Class TestArchiveCommandFlagCombinations>
          Test various flag combinations work correctly.
          <Function test_yes_skip_specs_combination>
            Test --yes and --skip-specs flags work together.
          <Function test_no_validate_flag>
            Test --no-validate flag skips validation.
      <Module test_cli_config_integration.py>
        Integration tests for CLI config system.
        
        Tests config loading → validation → command execution workflows with real file I/O.
        Tests integration with real components, not just unit-level config parsing.
        <Class TestConfigIntegrationWorkflows>
          Test config system integration with CLI commands and real file I/O.
          <Function test_config_load_validate_execute_workflow>
            Test complete workflow: load config → validate → use in command execution.
          <Function test_config_env_override_in_command_context>
            Test environment variable override works in command execution context.
          <Function test_config_update_persists_and_reloads>
            Test config updates persist correctly and can be reloaded.
          <Function test_config_migration_old_to_new_version>
            Test config system handles old version configs gracefully.
          <Function test_config_error_handler_integration>
            Test ErrorHandler integration with config loading errors.
          <Function test_config_validation_blocks_invalid_command_execution>
            Test that invalid config is caught during validation before command execution.
        <Class TestConfigFileSystemIntegration>
          Test config system integration with real file system operations.
          <Function test_config_creates_parent_directories>
            Test config file path expansion creates parent directories if needed.
          <Function test_config_handles_nested_paths>
            Test config correctly handles nested directory structures.
          <Function test_config_handles_symlinks>
            Test config system handles symlinked config files.
        <Class TestConfigWithMemoryCommands>
          Test config integration with memory management commands.
          <Function test_config_memory_settings_used_by_index_command>
            Test memory settings from config are used by index command.
          <Function test_config_auto_index_setting>
            Test auto_index setting from config.
      <Module test_cli_workflows.py>
        CLI Integration Tests - Battle-Testing AURORA CLI Commands.
        
        This test suite validates complete CLI workflows with real components:
        - Real file system operations
        - Real database interactions
        - Real parsing and indexing
        - Real search and retrieval
        
        Pattern: Use real components (parser, storage, git), mock only external APIs (LLM).
        
        Test Coverage:
        - Task 3.11: aur mem index (real file parsing and database storage)
        - Task 3.12: aur mem search (real database queries and ranking)
        - Task 3.13: aur query (real safety checks with git integration)
        <Class TestCLIMemIndex>
          Test 'aur mem index' command with real file system and database.
          <Function test_index_command_creates_database>
            Test that 'aur mem index' creates a database file.
          <Function test_index_command_parses_python_files>
            Test that 'aur mem index' correctly parses Python files.
          <Function test_index_command_handles_empty_directory>
            Test that 'aur mem index' handles empty directories gracefully.
        <Class TestCLIMemSearch>
          Test 'aur mem search' command with real database and ranking.
          <Function test_search_finds_indexed_functions>
            Test that 'aur mem search' finds indexed code.
          <Function test_search_with_no_results>
            Test that 'aur mem search' handles no results gracefully.
          <Function test_search_ranking_by_relevance>
            Test that 'aur mem search' ranks results by relevance.
        <Class TestCLIQuery>
          Test 'aur query' command with real safety checks.
          <Function test_query_requires_api_key>
            Test that 'aur query' requires API key configuration.
          <Function test_query_command_structure>
            Test that 'aur query' command accepts valid structure.
          <Function test_query_respects_git_safety_checks>
            Test that 'aur query' respects git safety configuration.
      <Module test_complex_query_e2e.py>
        End-to-End Integration Tests for Complex Query Flow.
        
        This module tests the complete SOAR pipeline for COMPLEX complexity queries,
        which use the full 9-phase pipeline including decomposition, verification,
        routing, and agent execution.
        
        Key aspects tested:
        - Phase 1: Assess complexity (should classify as COMPLEX)
        - Phase 2: Retrieve context (with COMPLEX budget limit: 15 chunks)
        - Phase 3: Decompose query into subgoals
        - Phase 4: Verify decomposition (Option B: adversarial verification)
        - Phase 5: Route subgoals to agents
        - Phase 6: Execute agents (parallel/sequential)
        - Phase 7: Synthesize results
        - Phase 8: Record reasoning pattern
        - Phase 9: Format response
        
        Performance requirements:
        - Complex query latency: <10s
        <Class TestComplexQueryE2E>
          End-to-end tests for complex query processing.
          <Function test_complex_query_full_pipeline>
            Test that COMPLEX queries execute all 9 phases.
          <Function test_complex_query_adversarial_verification>
            Test that COMPLEX queries use adversarial verification (Option B).
          <Function test_complex_query_performance>
            Test that COMPLEX queries complete in <10s.
          <Function test_complex_query_budget_allocation>
            Test that COMPLEX queries use appropriate budget allocation.
          <Function test_complex_query_parallel_execution>
            Test that independent subgoals execute in parallel.
          <Function test_complex_query_sequential_execution>
            Test that dependent subgoals execute sequentially.
          <Function test_complex_query_cost_tracking>
            Test that cost tracking works for complex queries.
          <Function test_complex_query_metadata_completeness>
            Test that complex query responses include complete metadata.
          <Function test_complex_query_with_context>
            Test that complex queries retrieve appropriate context.
        <Class TestComplexQueryEdgeCases>
          Test edge cases for complex query processing.
          <Function test_complex_query_with_verification_retry>
            Test complex query with verification failure triggering retry.
          <Function test_complex_query_agent_not_found_fallback>
            Test fallback when suggested agent not found.
      <Module test_complexity_assessment_integration.py>
        Integration tests for complexity assessment with SOAR orchestrator.
        
        Tests verify that the new ComplexityAssessor correctly classifies queries
        and that the orchestrator properly routes them based on complexity level.
        <Class TestComplexityAssessmentIntegration>
          Test complexity assessment integration with orchestrator.
          <Function test_simple_query_classification>
            Verify SIMPLE queries are correctly classified.
          <Function test_medium_query_classification>
            Verify MEDIUM queries are correctly classified.
          <Function test_complex_query_classification>
            Verify COMPLEX queries are correctly classified.
          <Function test_critical_query_classification>
            Verify CRITICAL queries are correctly classified.
          <Function test_orchestrator_receives_correct_format>
            Verify orchestrator receives correct format from assess_complexity().
          <Function test_routing_decision_simple_query>
            Verify SIMPLE queries trigger early exit in orchestrator.
          <Function test_routing_decision_complex_query>
            Verify COMPLEX queries go through full SOAR pipeline.
          <Function test_routing_decision_critical_query>
            Verify CRITICAL queries are treated same as COMPLEX for routing.
          <Function test_performance_latency>
            Verify complexity assessment adds minimal latency.
          <Function test_no_breaking_changes_return_format>
            Verify return format is backward compatible.
        <Class TestComplexityLevelCoverage>
          Test that all complexity levels are covered.
          <Function test_all_levels_accessible[show README-SIMPLE]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[list functions-SIMPLE]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[explain caching-MEDIUM]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[analyze performance-MEDIUM]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[implement authentication-COMPLEX]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[refactor entire system-COMPLEX]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[fix security vulnerability-CRITICAL]>
            Verify all 4 complexity levels can be reached.
          <Function test_all_levels_accessible[production outage-CRITICAL]>
            Verify all 4 complexity levels can be reached.
      <Module test_config_integration.py>
        Integration tests for configuration system.
        
        Tests end-to-end configuration loading scenarios including:
        - Integration with other components (Store, Context, Agent Registry)
        - Real file system operations
        - Configuration lifecycle
        - Multi-environment scenarios
        <Class TestConfigurationIntegration>
          Test configuration integration with full system.
          <Function test_full_config_load_workflow>
            Test complete configuration loading workflow.
          <Function test_multi_file_configuration>
            Test loading configuration from multiple files.
          <Function test_environment_override_integration>
            Test environment variables override file configuration.
          <Function test_cli_override_has_highest_priority>
            Test CLI overrides have highest priority over all other sources.
          <Function test_config_with_real_paths>
            Test configuration with real filesystem paths.
          <Function test_invalid_config_fails_gracefully>
            Test invalid configuration provides clear error messages.
          <Function test_minimal_config_with_api_key>
            Test minimal configuration with API key from environment.
          <Function test_config_reloading>
            Test configuration can be reloaded to pick up changes.
          <Function test_config_validation_comprehensive>
            Test comprehensive configuration validation.
        <Class TestConfigWithComponents>
          Test configuration integration with other system components.
          <Function test_config_provides_storage_settings>
            Test configuration provides settings for storage component.
          <Function test_config_provides_llm_settings>
            Test configuration provides settings for LLM component.
          <Function test_config_provides_context_settings>
            Test configuration provides settings for context providers.
      <Module test_context_retrieval.py>
        Integration tests for end-to-end context retrieval flow.
        
        Tests the complete flow: Parse → Store → Retrieve
        <Class TestContextRetrievalFlow>
          Test end-to-end context retrieval scenarios.
          <Function test_retrieve_json_related_chunks>
            Test retrieving chunks related to JSON parsing.
          <Function test_retrieve_with_limit>
            Test that limit parameter works correctly.
          <Function test_retrieve_specific_functionality>
            Test retrieving chunks for specific functionality.
          <Function test_retrieve_by_file_type>
            Test retrieving chunks by file/module name.
          <Function test_retrieve_no_matches>
            Test query with no matching chunks.
          <Function test_retrieve_updates_activation>
            Test that retrieving and using chunks updates activation.
          <Function test_empty_store_returns_empty>
            Test that querying an empty store returns no results.
        <Class TestContextRetrievalEdgeCases>
          Test edge cases and error conditions.
          <Function test_query_with_only_stopwords>
            Test query containing only stopwords.
          <Function test_very_long_query>
            Test handling of very long queries.
          <Function test_special_characters_in_query>
            Test query with special characters.
      <Module test_cost_budget.py>
        Integration test for cost tracking and budget enforcement.
        <Class TestCostBudgetIntegration>
          Integration tests for cost tracking and budget enforcement.
          <Function test_cost_tracking_simple_query>
            Test cost tracking for a simple query.
          <Function test_budget_soft_limit_warning>
            Test soft limit warning at 80% budget.
          <Function test_budget_hard_limit_rejection>
            Test hard limit rejection at 100% budget.
          <Function test_cost_aggregation_multiple_phases>
            Test cost aggregation across multiple LLM calls.
          <Function test_cost_metadata_in_response>
            Test that cost metadata is included in response.
          <Function test_persistence_across_sessions>
            Test that costs persist across orchestrator sessions.
          <Function test_different_model_costs>
            Test that different models have different costs.
        <Class TestBudgetEnforcementScenarios>
          Test realistic budget enforcement scenarios.
          <Function test_gradual_consumption_then_rejection>
            Test gradual budget consumption leading to rejection.
          <Function test_single_expensive_query_vs_many_cheap>
            Test that one expensive query can exceed budget.
      <Module test_e2e_search_quality.py>
        End-to-end search quality test with MRR validation.
        
        Tests BM25 tri-hybrid search quality by:
        1. Indexing a subset of Aurora codebase
        2. Running 20 queries with known ground truth
        3. Validating Mean Reciprocal Rank (MRR) >= 0.85
        
        This validates that BM25 + Semantic + Activation hybrid retrieval
        produces high-quality search results with exact matches ranking first.
        <Class TestEndToEndSearchQuality>
          Test end-to-end search quality with MRR validation.
          <Function test_index_aurora_subset>
            Test indexing Aurora codebase subset.
          <Function test_search_quality_mrr>
            Test search quality with MRR >= 0.85.
          <Function test_exact_match_top_rank>
            Test that exact identifier matches rank first.
          <Function test_camelcase_splitting_works>
            Test that CamelCase queries find snake_case functions.
          <Function test_semantic_concept_search>
            Test semantic search finds conceptually related functions.
          <Function test_staged_retrieval_coverage>
            Test that staged retrieval (BM25 → tri-hybrid) provides good coverage.
      <Module test_error_recovery.py>
        Integration tests for error recovery.
        
        Tests the full resilience system with retry logic, rate limiting,
        metrics collection, and alerting working together.
        <Class TestTransientErrorRecovery>
          Test recovery from transient errors.
          <Function test_retry_transient_llm_failure>
            Test that transient LLM failures are retried successfully.
          <Function test_retry_database_lock>
            Test recovery from database lock (StorageError).
          <Function test_retry_connection_error>
            Test recovery from connection errors.
        <Class TestNonRecoverableErrors>
          Test that non-recoverable errors fail fast.
          <Function test_configuration_error_no_retry>
            Test that configuration errors fail immediately.
          <Function test_budget_exceeded_no_retry>
            Test that budget exceeded errors fail immediately.
          <Function test_validation_error_no_retry>
            Test that validation errors fail immediately.
        <Class TestRateLimitingIntegration>
          Test rate limiting with retry and metrics.
          <Function test_rate_limit_blocks_then_succeeds>
            Test that rate limiting blocks requests then allows after refill.
          <Function test_rate_limit_timeout_error>
            Test that excessive wait times raise TimeoutError.
        <Class TestMetricsAndAlertingIntegration>
          Test metrics collection triggering alerts.
          <Function test_high_error_rate_triggers_alert>
            Test that high error rate triggers alert.
          <Function test_high_p95_latency_triggers_alert>
            Test that high p95 latency triggers alert.
          <Function test_low_cache_hit_rate_triggers_alert>
            Test that low cache hit rate triggers alert.
        <Class TestFullResilienceWorkflow>
          Test complete resilience workflow with all components.
          <Function test_complete_resilient_query>
            Test a complete query with retry, rate limit, metrics, and alerts.
          <Function test_partial_failure_recovery>
            Test recovery from partial failures with graceful degradation.
        <Class TestRecoveryRateVerification>
          Test that recovery rate meets ≥95% target for transient errors.
          <Function test_95_percent_recovery_rate>
            Test ≥95% recovery rate for transient errors.
          <Function test_recovery_with_mixed_error_types>
            Test recovery rate with mix of recoverable and non-recoverable errors.
      <Module test_error_recovery_workflows.py>
        Integration tests for error recovery workflows.
        
        This module tests error handling and recovery through the full CLI pipeline:
        - Error propagation: CLI → executor → store
        - Graceful degradation: missing API key → helpful error
        - Retry mechanisms: transient failures with exponential backoff
        - Partial success: some files fail indexing, others succeed
        
        Test Strategy:
        - Use real components (Store, MemoryManager, QueryExecutor)
        - Mock only external APIs (LLM calls)
        - Test real error paths and recovery mechanisms
        - Verify error messages are actionable
        <Class TestErrorPropagationWorkflows>
          Test error propagation through CLI → executor → store.
          <Function test_error_propagates_from_store_to_cli>
            Test error handling from indexing operations.
          <Function test_api_error_propagates_from_executor_to_cli>
            Test APIError propagates from LLM client through QueryExecutor to CLI.
          <Function test_configuration_error_stops_execution_early>
            Test ConfigurationError validation catches invalid values.
          <Function test_error_context_preserved_through_stack>
            Test error context (operation, path) is preserved through error propagation.
        <Class TestGracefulDegradation>
          Test graceful degradation with helpful error messages.
          <Function test_missing_api_key_shows_actionable_error>
            Test missing API key produces helpful error message.
          <Function test_empty_query_shows_actionable_error>
            Test empty query produces helpful error message.
          <Function test_corrupted_database_handled_gracefully>
            Test corrupted database triggers helpful error message.
          <Function test_error_handler_formats_api_authentication_error>
            Test ErrorHandler formats 401 authentication errors with solutions.
          <Function test_error_handler_formats_rate_limit_error>
            Test ErrorHandler formats 429 rate limit errors with solutions.
          <Function test_error_handler_formats_network_error>
            Test ErrorHandler formats network connection errors with solutions.
        <Class TestRetryMechanisms>
          Test retry mechanisms for transient failures.
          <Function test_executor_retries_on_transient_api_error>
            Test QueryExecutor retries failed API calls with exponential backoff.
          <Function test_executor_gives_up_after_max_retries>
            Test QueryExecutor gives up after maximum retry attempts.
          <Function test_retry_delay_increases_exponentially>
            Test retry delays increase exponentially (0.1s base, 0.2s, 0.4s with jitter).
        <Class TestPartialSuccessScenarios>
          Test partial success scenarios (some operations fail, others succeed).
          <Function test_indexing_continues_after_parse_error>
            Test indexing continues with other files (graceful handling).
          <Function test_search_returns_empty_on_no_results>
            Test search returns empty list (not error) when no results found.
          <Function test_memory_context_graceful_with_no_chunks>
            Test QueryExecutor handles missing memory context gracefully.
          <Function test_stats_reflect_successful_indexing>
            Test stats accurately reflect successful indexing.
        <Class TestErrorRecoveryInstructions>
          Test error messages include actionable recovery instructions.
          <Function test_memory_store_error_includes_recovery_steps>
            Test MemoryStoreError includes actionable recovery instructions.
          <Function test_config_error_includes_setup_instructions>
            Test ConfigurationError includes setup instructions.
          <Function test_path_error_includes_diagnostic_commands>
            Test path errors include diagnostic commands.
          <Function test_api_error_includes_status_check_link>
            Test server errors include Anthropic status page link.
      <Module test_escalation_integration.py>
        Integration tests for auto-escalation handler.
        
        This module tests the auto-escalation functionality integrated with real components:
        - Real complexity assessment (aurora_soar.phases.assess)
        - Real EscalationConfig and AutoEscalationHandler
        - Real routing decisions through full pipeline
        - Mocked LLM API calls only
        
        Test Scenarios:
        1. Escalation decision → complexity assessment → routing
        2. Threshold-based routing (simple → LLM, complex → SOAR)
        3. Metrics collection through full pipeline
        4. Force modes and edge cases
        <Class TestEscalationDecisionIntegration>
          Test escalation decision logic with real complexity assessment.
          <Function test_simple_query_routes_to_direct_llm>
            Test simple informational query routes to direct LLM.
          <Function test_complex_query_routes_to_aurora>
            Test complex multi-step query routes to AURORA.
          <Function test_security_query_detected_as_critical>
            Test security-critical query is detected (complexity level).
          <Function test_borderline_query_respects_threshold>
            Test borderline query respects configured threshold.
          <Function test_threshold_boundary_inclusive>
            Test that threshold boundary is inclusive (score == threshold routes to AURORA).
        <Class TestEscalationConfigIntegration>
          Test escalation configuration with real components.
          <Function test_keyword_only_mode>
            Test keyword-only mode doesn't use LLM client.
          <Function test_llm_verification_mode>
            Test LLM verification mode for borderline cases.
          <Function test_force_aurora_mode>
            Test force_aurora config bypasses assessment.
          <Function test_force_direct_mode>
            Test force_direct config bypasses assessment.
          <Function test_custom_threshold_changes_routing>
            Test custom threshold affects routing decisions.
        <Class TestEscalationResultHandling>
          Test handling of escalation results.
          <Function test_result_contains_all_fields>
            Test EscalationResult contains all required fields.
          <Function test_convenience_methods_consistent>
            Test convenience methods return consistent results.
          <Function test_result_reasoning_contains_context>
            Test result reasoning provides useful context.
        <Class TestEscalationMetrics>
          Test metrics collection through escalation pipeline.
          <Function test_multiple_queries_tracked_independently>
            Test that multiple queries produce independent results.
          <Function test_confidence_reflects_assessment_quality>
            Test confidence score reflects assessment quality.
        <Class TestEscalationRealWorldScenarios>
          Test real-world usage scenarios.
          <Function test_new_user_simple_question>
            Test new user asking simple informational question.
          <Function test_experienced_developer_complex_task>
            Test experienced developer with complex refactoring task.
          <Function test_security_critical_operations>
            Test security-critical operations are assessed.
          <Function test_mixed_session_queries>
            Test mixed session with simple and complex queries.
        <Class TestEscalationEdgeCases>
          Test edge cases and error handling.
          <Function test_empty_query>
            Test handling of empty query.
          <Function test_very_long_query>
            Test handling of very long query.
          <Function test_query_with_special_characters>
            Test handling of query with special characters.
          <Function test_query_with_code_snippets>
            Test handling of query with embedded code.
        <Class TestEscalationPipelineIntegration>
          Test escalation integrated with execution pipeline.
          <Function test_direct_llm_path>
            Test direct LLM execution path when escalation chooses direct.
          <Function test_aurora_path>
            Test AURORA execution path when escalation chooses AURORA.
          <Function test_escalation_preserves_query_context>
            Test that escalation preserves original query context.
      <Module test_index_rebuild.py>
        Integration tests for index rebuild and cache invalidation.
        
        Tests the memory system's ability to:
        1. Rebuild index from scratch (full rebuild)
        2. Handle incremental updates (file modified)
        3. Invalidate and recalculate BM25 IDF scores
        
        This validates that the memory system correctly handles:
        - Index clearing and rebuilding
        - File modification detection
        - BM25 corpus statistics recalculation
        <Class TestIndexRebuild>
          Test full index rebuild workflow.
          <Function test_full_index_rebuild>
            Test full index rebuild clears old data and reindexes.
          <Function test_incremental_update_detects_changes>
            Test that reindexing detects file modifications.
          <Function test_search_after_rebuild>
            Test that search works correctly after index rebuild.
        <Class TestBM25IdfRecalculation>
          Test BM25 IDF recalculation when corpus changes.
          <Function test_idf_changes_with_corpus_size>
            Test that IDF scores change when corpus size changes.
          <Function test_corpus_stats_update_on_rebuild>
            Test that corpus statistics are recalculated on rebuild.
          <Function test_document_frequency_tracking>
            Test that document frequency is tracked correctly for BM25.
      <Module test_integration_activation_tracking.py>
        Integration Test: Activation Tracking
        
        Tests Issue #4: Identical Search Results (All Activation Scores 0.0)
        - Verifies store.record_access() is called during search
        - Tests that activation scores update correctly after access
        - Validates ACT-R activation calculation (base_level, recency, frequency)
        
        This test will FAIL initially because search doesn't call record_access().
        
        Test Strategy:
        - Index chunks and verify initial activation state
        - Perform searches and spy on record_access() calls
        - Query activations table to verify updates
        - Perform second search to verify scores changed
        
        Expected Failure:
        - record_access() never called during search operations
        - access_count remains 0 for all chunks
        - base_level never updates (stays 0.0)
        - last_access_time remains NULL
        - All search results have identical scores
        
        Related Files:
        - packages/cli/src/aurora_cli/memory_manager.py (search method)
        - packages/core/src/aurora_core/store/sqlite.py (record_access method)
        - packages/core/src/aurora_core/activation/engine.py (ActivationEngine)
        
        Phase: 1 (Core Restoration)
        Priority: P0 (Critical)
        <Class TestActivationTracking>
          Test that chunk accesses are properly tracked and activation scores update.
          <Function test_record_access_called_during_search>
            Test that store.record_access() is called for each retrieved chunk.
            
            This test will FAIL because search() doesn't call record_access().
          <Function test_access_count_increments_after_search>
            Test that access_count in activations table increments after search.
            
            This test will FAIL because record_access() is not called.
          <Function test_base_level_updates_after_access>
            Test that base_level activation updates according to ACT-R formula.
            
            This test will FAIL because activation is never updated.
          <Function test_last_access_time_updates>
            Test that last_access_time is updated in activations table.
            
            This test will FAIL because record_access() is not called.
          <Function test_second_search_changes_activation_scores>
            Test that performing a second search changes activation scores (due to recency).
            
            This test will FAIL because activation scores never update.
          <Function test_activation_context_stored>
            Test that search context is stored with activation records.
            
            This test will FAIL if context parameter is not passed to record_access().
        <Class TestActivationCalculationIntegrity>
          Test that activation calculations follow ACT-R formula correctly.
          <Function test_activation_varies_by_access_frequency>
            Test that chunks with more accesses have higher activation scores.
            
            This test will FAIL if activation doesn't vary by frequency.
      <Module test_integration_auto_escalation.py>
        Integration Test: Auto-Escalation
        
        Tests Issue #9: Auto-Escalation Not Implemented
        - Verifies low confidence triggers escalation to SOAR
        - Tests interactive mode prompts user for escalation
        - Tests non-interactive mode auto-escalates
        - Validates user choice is respected
        
        This test will FAIL initially because auto-escalation logic doesn't exist.
        
        Test Strategy:
        - Mock complexity assessment to return low confidence
        - Execute query in non-interactive mode
        - Verify SOAR pipeline invoked automatically
        - Execute query in interactive mode with mocked user input
        - Verify user prompted and choice respected
        
        Expected Failure:
        - Low confidence doesn't trigger escalation
        - Non-interactive mode doesn't auto-continue
        - Interactive mode doesn't prompt user
        - Always uses simple/direct LLM regardless of confidence
        
        Related Files:
        - packages/cli/src/aurora_cli/execution.py (QueryExecutor.execute_with_auto_escalation)
        - packages/soar/src/aurora_soar/phases/assess.py (assess_complexity)
        - packages/cli/src/aurora_cli/commands/query.py (query command)
        
        Phase: 1 (Core Restoration)
        Priority: P1 (High)
        <Class TestAutoEscalation>
          Test that low confidence triggers automatic escalation to SOAR.
          <Function test_low_confidence_triggers_escalation_non_interactive>
            Test that low confidence automatically escalates to SOAR in non-interactive mode.
            
            This test will FAIL because auto-escalation not implemented.
          <Function test_high_confidence_no_escalation>
            Test that high confidence doesn't trigger escalation.
            
            This test verifies we only escalate when needed.
          <Function test_interactive_mode_prompts_user>
            Test that interactive mode prompts user when confidence is low.
            
            This test will FAIL because prompt logic not implemented.
          <Function test_interactive_mode_user_declines_escalation>
            Test that user can decline escalation and use direct LLM.
            
            This test verifies user choice is respected.
          <Function test_confidence_threshold_boundary>
            Test behavior at confidence threshold (0.6).
            
            This test documents boundary behavior.
        <Class TestEscalationLogging>
          Test that escalation decisions are logged for transparency.
          <Function test_escalation_logged_when_triggered>
            Test that escalation is logged with reason.
            
            This test verifies transparency in decision-making.
          <Function test_confidence_score_logged>
            Test that confidence score is logged for debugging.
            
            This test documents expected logging behavior.
        <Class TestEscalationWithMemoryStore>
          Test escalation behavior when memory store is available.
          <Function test_escalation_passes_memory_store_to_soar>
            Test that SOAR pipeline receives memory store when escalating.
            
            This test verifies context is preserved during escalation.
      <Module test_integration_budget_enforcement.py>
        Integration Test: Budget Enforcement
        
        Tests Issue #10: Budget Commands Missing
        - Verifies budget checking before expensive LLM calls
        - Tests budget tracking and history recording
        - Validates budget limits prevent overspending
        
        This test will FAIL initially because budget enforcement isn't implemented.
        
        Test Strategy:
        - Create QueryExecutor with low budget limit
        - Attempt expensive query
        - Verify query blocked before LLM call
        - Verify budget history shows blocked query
        - Increase budget and verify query succeeds
        
        Expected Failure:
        - Budget not checked before LLM calls
        - Queries execute even when budget exceeded
        - No budget history tracking
        - No budget command group exists
        
        Related Files:
        - packages/cli/src/aurora_cli/execution.py (QueryExecutor.execute_direct_llm)
        - packages/core/src/aurora_core/cost/tracker.py (CostTracker)
        - packages/cli/src/aurora_cli/commands/budget.py (budget commands - to be created)
        
        Phase: 1 (Core Restoration)
        Priority: P1 (High)
        <Class TestBudgetEnforcement>
          Test that budget limits are enforced before LLM calls.
          <Function test_budget_checked_before_llm_call>
            Test that budget is checked BEFORE calling expensive LLM.
            
            This test will FAIL because execute_direct_llm() doesn't check budget.
          <Function test_actual_cost_recorded_after_successful_query>
            Test that actual LLM cost is recorded after successful query.
            
            This test will FAIL if cost recording not implemented.
          <Function test_budget_history_shows_blocked_queries>
            Test that blocked queries appear in budget history.
            
            This test will FAIL if history tracking not implemented.
          <Function test_increase_budget_allows_query>
            Test that increasing budget allows previously blocked query.
            
            This test verifies budget modification works.
        <Class TestBudgetCommands>
          Test budget command group functionality (Issue #10).
          <Function test_budget_show_command_displays_spending>
            Test that 'aur budget' shows current spending and remaining budget.
            
            This test will FAIL because budget command doesn't exist yet.
          <Function test_budget_set_command_updates_limit>
            Test that 'aur budget set <amount>' updates budget limit.
            
            This test documents expected behavior for task 7.1.
          <Function test_budget_reset_command_clears_spending>
            Test that 'aur budget reset' clears spending history.
            
            This test documents expected behavior for task 7.1.
          <Function test_budget_history_command_shows_queries>
            Test that 'aur budget history' displays query history with costs.
            
            This test documents expected behavior for task 7.1.
        <Class TestBudgetEstimation>
          Test cost estimation before LLM calls.
          <Function test_estimate_cost_from_prompt_length>
            Test that cost can be estimated from prompt length.
            
            This test documents expected estimation logic.
          <Function test_budget_includes_response_tokens>
            Test that budget estimation accounts for response tokens.
            
            This test documents that both input and output tokens should be estimated.
      <Module test_integration_db_path_consistency.py>
        Integration Test: Database Path Consistency
        
        Tests Issue #2: Database Path Confusion
        - Verifies all commands use config-specified database path
        - Tests config.get_db_path() is respected by MemoryManager
        - Validates data persistence across operations using same DB
        
        This test will FAIL initially because MemoryManager doesn't respect config db_path.
        
        Test Strategy:
        - Create custom config with specific db_path
        - Initialize MemoryManager with config
        - Index files and verify DB created at correct path
        - Run stats, search, query operations
        - Verify all operations use the SAME database
        
        Expected Failure:
        - MemoryManager creates DB at hardcoded path instead of config path
        - Different commands may use different database paths
        - Data doesn't persist across operations
        
        Related Files:
        - packages/cli/src/aurora_cli/config.py (Config class, get_db_path method)
        - packages/cli/src/aurora_cli/memory_manager.py (MemoryManager initialization)
        - packages/core/src/aurora_core/store/sqlite.py (SQLiteStore)
        
        Phase: 1 (Core Restoration)
        Priority: P0 (Critical)
        <Class TestDatabasePathConsistency>
          Test that all operations use the config-specified database path.
          <Function test_memory_manager_respects_config_db_path>
            Test that MemoryManager creates database at config-specified path.
            
            This test will FAIL because MemoryManager doesn't use config.get_db_path().
            Currently, it creates DB at hardcoded path (e.g., ~/.aurora/memory.db).
          <Function test_all_operations_use_same_database>
            Test that stats, search, and retrieval all use the same database.
            
            This test will FAIL if different operations use different databases.
          <Function test_search_uses_config_database>
            Test that search operation uses config-specified database.
            
            This test will FAIL if search reads from different database.
          <Function test_multiple_configs_with_different_paths>
            Test that different configs can use different database paths without interference.
            
            This test will FAIL if there's a global singleton DB or hardcoded path.
          <Function test_config_get_db_path_expands_tilde>
            Test that Config.get_db_path() properly expands ~ in paths.
            
            This test will FAIL if get_db_path() method doesn't exist or doesn't expand ~.
          <Function test_config_validation_for_db_path>
            Test that Config validates db_path during initialization.
            
            This test will FAIL if validation doesn't exist or is insufficient.
        <Class TestDatabaseMigration>
          Test database migration from old to new paths (Issue #2 fix verification).
          <Function test_detect_old_database>
            Test that init command detects old aurora.db files.
            
            This test is SKIPPED until migration logic is implemented in task 3.5.
          <Function test_migrate_data_to_new_location>
            Test that data is properly migrated from old to new database.
            
            This test is SKIPPED until migration logic is implemented in task 3.5.
      <Module test_integration_git_signal_extraction.py>
        Integration Test: Git Signal Extraction (Function-Level)
        
        Tests Issue #16: Git-Based BLA Initialization Not Implemented
        - Verifies GitSignalExtractor extracts commit history per function
        - Tests function-level tracking using git blame -L <start>,<end>
        - Validates BLA calculation from function-specific commit times
        - Ensures functions in same file have DIFFERENT activation scores
        
        This test will FAIL initially because GitSignalExtractor doesn't exist.
        
        Test Strategy:
        - Create git repo with controlled commit history
        - Create file with 3 functions: frequently-edited, moderately-edited, rarely-edited
        - Use git blame -L to extract per-function commits
        - Calculate BLA for each function
        - Verify BLA varies based on edit frequency
        
        Expected Failure:
        - GitSignalExtractor class doesn't exist
        - No function-level git tracking
        - All functions get same BLA (file-level tracking or no tracking)
        - Functions in same file have identical activation scores
        
        Related Files:
        - packages/context-code/src/aurora_context_code/git.py (GitSignalExtractor - to be created)
        - packages/cli/src/aurora_cli/memory_manager.py (integration point)
        - packages/core/src/aurora_core/activation/base_level.py (BLA calculation)
        
        Phase: 1 (Core Restoration)
        Priority: P0 (Critical)
        <Class TestGitSignalExtraction>
          Test Git-based signal extraction at FUNCTION level (not file level).
          <Function test_get_function_commit_times_extracts_per_function>
            Test that get_function_commit_times() returns function-specific commit times.
            
            This test will FAIL because GitSignalExtractor doesn't exist yet.
          <Function test_calculate_bla_from_commits>
            Test that calculate_bla() produces higher values for frequently-edited functions.
            
            This test will FAIL because calculate_bla() doesn't exist yet.
          <Function test_non_git_directory_graceful_fallback>
            Test that non-Git directories don't crash (graceful fallback).
            
            This test verifies robustness.
          <Function test_git_blame_line_porcelain_parsing>
            Test that git blame --line-porcelain output is correctly parsed.
            
            This test verifies commit SHA extraction.
        <Class TestGitMetadataStorage>
          Test that Git metadata is stored in chunk metadata.
          <Function test_chunk_metadata_includes_git_hash>
            Test that chunk metadata includes git_hash from most recent commit.
            
            This test verifies metadata storage (task 4.3).
          <Function test_chunk_metadata_includes_commit_count>
            Test that chunk metadata includes commit_count.
            
            This test documents expected behavior for task 4.3.
        <Class TestBLACalculationFormula>
          Test ACT-R BLA formula implementation.
          <Function test_bla_formula_with_known_values>
            Test BLA calculation with known timestamp values.
            
            ACT-R Formula: B = ln(Σ t_j^(-d))
            where:
            - t_j = time since j-th access (in seconds)
            - d = decay parameter (default 0.5)
      <Module test_integration_retrieval_before_llm.py>
        Integration Test: Retrieval Before LLM Call
        
        Tests Issue #15: Query Doesn't Use Indexed Data
        - Verifies that execute_direct_llm() retrieves context from memory store
        - Tests that LLM prompts include relevant chunks from indexed data
        - Validates context formatting (file paths, line ranges, code content)
        
        This test will FAIL initially because execute_direct_llm() doesn't query memory store.
        
        Test Strategy:
        - Create QueryExecutor with memory store containing indexed data
        - Mock LLM client to capture prompts
        - Execute query and verify context retrieval
        - Assert LLM prompt includes chunks with proper formatting
        
        Expected Failure:
        - execute_direct_llm() calls LLM without retrieving from memory store
        - LLM prompt doesn't include "Context:" section
        - Response is generic (not based on indexed code)
        - User queries don't leverage indexed codebase knowledge
        
        Related Files:
        - packages/cli/src/aurora_cli/execution.py (QueryExecutor.execute_direct_llm)
        - packages/cli/src/aurora_cli/memory_manager.py (MemoryManager.search)
        - packages/reasoning/src/aurora_reasoning/llm_client.py (LLMClient)
        
        Phase: 1 (Core Restoration)
        Priority: P0 (Critical)
        <Class TestRetrievalBeforeLLM>
          Test that query execution retrieves context before calling LLM.
          <Function test_direct_llm_retrieves_from_memory_store>
            Test that execute_direct_llm() queries memory store before calling LLM.
            
            This test will FAIL because execute_direct_llm() doesn't retrieve context.
          <Function test_llm_prompt_includes_file_paths>
            Test that context includes file paths and line ranges from chunks.
            
            This test will FAIL if context formatting doesn't include metadata.
          <Function test_llm_prompt_includes_code_content>
            Test that context includes actual code content from chunks.
            
            This test will FAIL if chunks aren't retrieved or formatted.
          <Function test_retrieval_with_empty_memory_store>
            Test behavior when memory store is empty (no indexed data).
            
            This test verifies graceful handling (no errors).
          <Function test_retrieval_with_populated_store>
            Test behavior when memory store has relevant indexed data.
            
            This test verifies context IS included when data exists.
          <Function test_context_limit_respected>
            Test that retrieval respects context limits (top-k chunks).
            
            This test verifies we don't overwhelm LLM with too much context.
        <Class TestContextFormatting>
          Test that retrieved context is properly formatted for LLM.
          <Function test_context_includes_chunk_metadata>
            Test that formatted context includes chunk names, file paths, and line ranges.
            
            This test verifies proper context structure.
          <Function test_multiple_files_in_context>
            Test that context can include chunks from multiple files.
            
            This test documents expected behavior for cross-file context.
      <Module test_medium_query_e2e.py>
        End-to-End Integration Tests for Medium Query Flow.
        
        This module tests the complete SOAR pipeline for MEDIUM complexity queries,
        which use decomposition with self-verification (Option A).
        
        Key aspects tested:
        - Phase 1: Assess complexity (should classify as MEDIUM)
        - Phase 2: Retrieve context (with MEDIUM budget limit: 10 chunks)
        - Phase 3: Decompose query into subgoals
        - Phase 4: Verify decomposition (Option A: self-verification)
        - Phase 5: Route subgoals to agents
        - Phase 6: Execute agents (parallel/sequential)
        - Phase 7: Synthesize results
        - Phase 8: Record reasoning pattern
        - Phase 9: Format response
        
        Performance requirements:
        - Medium query latency: <5s (between simple <2s and complex <10s)
        <Class TestMediumQueryE2E>
          End-to-end tests for medium query processing.
          <Function test_medium_query_full_pipeline>
            Test that MEDIUM queries execute all 9 phases.
          <Function test_medium_query_self_verification>
            Test that MEDIUM queries use self-verification (Option A).
          <Function test_medium_query_performance>
            Test that MEDIUM queries complete in reasonable time (<5s).
          <Function test_medium_query_budget_allocation>
            Test that MEDIUM queries use appropriate budget allocation.
          <Function test_medium_query_parallel_execution>
            Test that independent subgoals execute in parallel for medium queries.
          <Function test_medium_query_cost_tracking>
            Test that cost tracking works for medium queries.
          <Function test_medium_query_metadata_completeness>
            Test that medium query responses include complete metadata.
          <Function test_medium_query_with_context>
            Test that medium queries retrieve appropriate context.
          <Function test_medium_query_verbosity_levels>
            Test that all verbosity levels work for medium queries.
        <Class TestMediumQueryEdgeCases>
          Test edge cases for medium query processing.
          <Function test_borderline_medium_assessment>
            Test query on borderline between SIMPLE and MEDIUM complexity.
          <Function test_medium_query_with_no_context>
            Test medium query when no relevant context is found.
          <Function test_medium_query_sequential_execution>
            Test that dependent subgoals execute sequentially for medium queries.
      <Module test_memory_e2e.py>
        End-to-end memory integration tests.
        
        Tests complete workflows:
        1. Index → Search → Retrieve: Full indexing and retrieval flow
        2. Index → Delete → Verify: Deletion and data cleanup
        3. Index → Export → Import → Verify: Data portability (future)
        
        This validates end-to-end functionality of:
        - MemoryManager indexing
        - HybridRetriever search
        - SQLiteStore persistence
        - EmbeddingProvider integration
        - Real file parsing and embedding generation
        <Class TestIndexSearchRetrieveFlow>
          Test complete Index → Search → Retrieve workflow.
          <Function test_index_search_retrieve_complete_flow>
            Test complete flow: index files → verify storage.
          <Function test_index_single_file>
            Test indexing a single file (not directory).
          <Function test_index_reports_progress>
            Test that indexing reports progress via callback.
        <Class TestIndexVerifyFlow>
          Test Index → Verify workflow.
          <Function test_index_verify_chunks>
            Test verifying chunks after indexing.
          <Function test_get_nonexistent_chunk>
            Test getting non-existent chunk returns None.
          <Function test_chunk_persistence>
            Test that chunks persist across store instances.
        <Class TestExportImportFlow>
          Test Index → Export → Import → Verify workflow (future feature).
          <Function test_manual_export_import_flow>
            Test manual export/import via JSON (manual implementation).
        <Class TestMemoryStoreStats>
          Test memory store statistics retrieval.
          <Function test_get_stats_after_indexing>
            Test retrieving stats after indexing.
          <Function test_stats_empty_database>
            Test stats on empty database.
        <Class TestErrorHandling>
          Test error handling in memory integration flows.
          <Function test_index_nonexistent_path>
            Test indexing non-existent path raises error.
          <Function test_index_empty_directory>
            Test indexing empty directory returns zero stats.
          <Function test_index_directory_with_non_python_files>
            Test indexing directory with no Python files.
          <Function test_index_file_with_syntax_error>
            Test indexing Python file with syntax errors.
      <Module test_memory_manager_integration.py>
        Integration tests for MemoryManager with real components.
        
        These tests verify MemoryManager works correctly with real:
        - PythonParser (parsing real Python files)
        - SQLiteStore (real database operations)
        - File system (temp directories)
        - EmbeddingProvider (real embedding generation)
        
        Tests focus on integration between components, not subprocess calls.
        <Function test_index_single_file_workflow>
          Test full indexing workflow for single file.
          
          Verifies: file discovery → parsing → chunking → storage
        <Function test_index_directory_workflow>
          Test full indexing workflow for directory.
          
          Verifies: recursive file discovery → parsing → chunking → storage
        <Function test_index_with_progress_callback>
          Test progress callback is invoked during indexing.
        <Function test_index_handles_parse_errors>
          Test indexing continues after parse errors.
        <Function test_search_workflow>
          Test full search workflow: query → embedding → retrieval → ranking.
          
          Verifies search finds indexed content correctly.
        <Function test_search_ranking>
          Test search results are ranked by hybrid score.
        <Function test_search_respects_limit>
          Test search respects limit parameter.
        <Function test_get_stats>
          Test stats aggregation from real database.
        <Function test_file_discovery_skips_directories>
          Test file discovery respects SKIP_DIRS.
        <Function test_index_nonexistent_path_raises_error>
          Test indexing nonexistent path raises ValueError.
        <Function test_search_empty_database>
          Test search on empty database returns empty list.
        <Function test_integration_index_and_search_specific_function>
          Test end-to-end: index files then search for specific function.
        <Function test_embeddings_persisted>
          Test embeddings are generated and persisted during indexing.
        <Function test_concurrent_file_indexing>
          Test indexing multiple files in sequence (simulates concurrent behavior).
        <Function test_large_file_chunking>
          Test indexing large file with many functions (chunking strategy).
      <Module test_parse_and_store.py>
        Integration test for parse → store → retrieve flow.
        
        Tests the complete workflow:
        1. Parse Python files to extract code chunks
        2. Store chunks in storage backend
        3. Retrieve and verify chunk data
        
        This validates end-to-end functionality of:
        - PythonParser
        - SQLiteStore and MemoryStore
        - CodeChunk serialization
        - Round-trip data integrity
        <Class TestParseAndStoreFlow>
          Test complete parse → store → retrieve workflow.
          <Function test_parse_store_retrieve_memory>
            Test complete flow with memory store.
          <Function test_parse_store_retrieve_sqlite>
            Test complete flow with SQLite store.
          <Function test_parse_preserves_metadata>
            Test that parsing preserves all metadata through storage.
          <Function test_multiple_files_parse_and_store>
            Test parsing and storing multiple files.
          <Function test_chunk_update_flow>
            Test updating stored chunks.
        <Class TestComplexParseStoreScenarios>
          Test complex integration scenarios.
          <Function test_large_file_parse_and_store>
            Test parsing and storing a large file.
          <Function test_file_with_imports_parse_and_store>
            Test parsing file with imports (dependencies).
        <Class TestErrorHandling>
          Test error handling in parse-store-retrieve flow.
          <Function test_parse_broken_file>
            Test handling of broken Python files.
          <Function test_retrieve_nonexistent_chunk>
            Test retrieving chunk that doesn't exist.
          <Function test_store_chunk_twice>
            Test storing same chunk twice (update behavior).
        <Class TestPersistence>
          Test data persistence across store instances.
          <Function test_sqlite_persistence>
            Test that SQLite data persists across instances.
      <Module test_performance_benchmarks.py>
        Performance benchmark integration tests.
        
        Tests BM25 tri-hybrid search performance:
        1. Query latency <2s for simple queries
        2. Query latency <10s for complex queries
        3. Memory usage <100MB for 10K chunks
        
        This validates that the BM25 implementation meets performance targets
        specified in the PRD.
        <Class TestQueryLatency>
          Test query latency performance benchmarks.
          <Function test_simple_query_latency>
            Test simple query completes in <2 seconds.
          <Function test_complex_query_latency>
            Test complex query completes in <10 seconds.
          <Function test_average_query_latency>
            Test average latency across diverse queries.
          <Function test_batch_query_performance>
            Test performance of sequential queries (no interference).
        <Class TestMemoryUsage>
          Test memory usage benchmarks.
          <Function test_memory_usage_with_10k_chunks>
            Test memory usage remains <100MB for ~10K chunks.
          <Function test_chunk_storage_efficiency>
            Test that chunk storage is efficient (database size).
        <Class TestIndexingPerformance>
          Test indexing performance benchmarks.
          <Function test_indexing_throughput>
            Test indexing throughput (files per second).
          <Function test_aurora_subset_indexing_time>
            Test Aurora subset indexes in reasonable time.
      <Module test_query_executor_integration.py>
        Integration tests for QueryExecutor with real components.
        
        This module tests QueryExecutor with real Store, real retrieval, and real
        orchestrator phases. Only external LLM API calls are mocked.
        
        Key differences from unit tests:
        - Uses real SQLiteStore with temporary database
        - Uses real memory context retrieval
        - Uses real SOAROrchestrator with real phase execution
        - Mocks only LLM API responses (external dependency)
        <Class TestQueryExecutorWithRealStore>
          Test QueryExecutor with real Store integration.
          <Function test_execute_direct_llm_with_real_store>
            Test direct LLM execution with real store (graceful degradation).
            
            Note: SQLiteStore doesn't have search_keyword method, so context
            retrieval will gracefully fail and return empty string. This tests
            the real integration behavior where Store doesn't support the method.
          <Function test_execute_direct_llm_no_matching_context>
            Test direct LLM execution without store search capability.
          <Function test_memory_context_with_mock_search_method>
            Test memory context retrieval when store has search capability.
            
            This test mocks search_keyword to simulate a store that supports it.
          <Function test_execute_direct_llm_with_empty_store>
            Test direct LLM execution with empty store (no context).
        <Class TestQueryExecutorErrorPropagation>
          Test error propagation through real components.
          <Function test_api_error_propagates_from_llm>
            Test APIError propagates through execution stack.
          <Function test_invalid_store_raises_error>
            Test execution with invalid store raises appropriate error.
          <Function test_store_search_failure_graceful_degradation>
            Test graceful degradation when store search fails.
        <Class TestQueryExecutorAuroraIntegration>
          Test QueryExecutor with real SOAR orchestrator integration.
          
          These tests are skipped by default because they require a complete
          orchestrator setup with LLM API. They serve as documentation for
          integration patterns and are run in E2E test suite.
          <Function test_execute_aurora_with_real_orchestrator>
            Test AURORA execution with real orchestrator phases.
          <Function test_execute_aurora_verbose_returns_trace>
            Test AURORA execution with verbose=True returns phase trace.
        <Class TestQueryExecutorRetryLogic>
          Test retry logic with real exponential backoff.
          <Function test_retry_on_rate_limit>
            Test retry logic on rate limit error (429).
          <Function test_retry_on_server_error>
            Test retry logic on server error (500).
          <Function test_no_retry_on_auth_error>
            Test no retry on authentication error (401).
          <Function test_exhausted_retries_raises_error>
            Test all retries exhausted raises APIError.
        <Class TestQueryExecutorCostEstimation>
          Test cost estimation with real token counts.
          <Function test_cost_estimation_with_real_tokens>
            Test _estimate_cost() with realistic token counts.
      <Module test_reasoning_chunk_store.py>
        Integration test for ReasoningChunk storage and retrieval.
        
        Tests the complete workflow:
        1. Create ReasoningChunk instances
        2. Store chunks in storage backend (SQLite and Memory)
        3. Retrieve and verify chunk data integrity
        4. Test activation updates
        
        This validates end-to-end functionality of:
        - ReasoningChunk serialization (to_json)
        - ReasoningChunk deserialization (from_json)
        - Store.save_chunk with ReasoningChunk
        - Store.get_chunk retrieval
        - Store.update_activation
        - Round-trip data integrity
        <Class TestReasoningChunkStoreIntegration>
          Test ReasoningChunk storage integration with Store backends.
          <Function test_memory_store_save_and_retrieve_simple_chunk>
            Test saving and retrieving simple ReasoningChunk from MemoryStore.
          <Function test_memory_store_save_and_retrieve_complex_chunk>
            Test saving and retrieving complex ReasoningChunk from MemoryStore.
          <Function test_memory_store_round_trip_preserves_nested_data>
            Test that nested data structures are preserved through round-trip.
          <Function test_memory_store_update_activation>
            Test updating activation for ReasoningChunk in MemoryStore.
          <Function test_memory_store_multiple_chunks>
            Test storing and retrieving multiple ReasoningChunks.
          <Function test_sqlite_store_save_and_retrieve_simple_chunk>
            Test saving and retrieving simple ReasoningChunk from SQLiteStore.
          <Function test_sqlite_store_save_and_retrieve_complex_chunk>
            Test saving and retrieving complex ReasoningChunk from SQLiteStore.
          <Function test_sqlite_store_round_trip_preserves_nested_data>
            Test that nested data structures are preserved through SQLite round-trip.
          <Function test_sqlite_store_update_activation>
            Test updating activation for ReasoningChunk in SQLiteStore.
          <Function test_sqlite_store_multiple_chunks>
            Test storing and retrieving multiple ReasoningChunks in SQLite.
          <Function test_sqlite_store_persistence_across_connections>
            Test that ReasoningChunks persist across SQLite connection closes/opens.
          <Function test_unicode_in_pattern_preserved>
            Test that unicode characters in pattern are preserved.
          <Function test_empty_lists_preserved>
            Test that empty lists are preserved through storage.
          <Function test_float_precision_preserved>
            Test that float precision in success_score is preserved.
          <Function test_large_metadata_preserved>
            Test that large metadata dictionaries are preserved.
          <Function test_activation_multiple_updates>
            Test multiple activation updates work correctly.
          <Function test_negative_activation_from_failures>
            Test that failed patterns receive negative activation updates.
      <Module test_retrieval_quality_integration.py>
        Integration tests for retrieval quality handling.
        
        Tests the SOAR phases working together to assess and handle retrieval quality:
        1. No matches (0 chunks)
        2. Weak matches (low groundedness or < 3 high-quality chunks)
        3. Good matches (high groundedness and >= 3 high-quality chunks)
        <Class TestRetrievalQualityIntegration>
          Integration tests for retrieval quality assessment across SOAR phases.
          <Function test_no_match_scenario_quality_assessment>
            Test NONE quality when retrieval returns 0 chunks.
          <Function test_weak_match_low_groundedness>
            Test WEAK quality when groundedness < 0.7 even with enough chunks.
          <Function test_weak_match_insufficient_high_quality_chunks>
            Test WEAK quality when < 3 high-quality chunks even with good groundedness.
          <Function test_weak_match_many_low_quality_chunks>
            Test WEAK quality when many chunks but all have low activation.
          <Function test_good_match_sufficient_quality>
            Test GOOD quality when groundedness >= 0.7 AND >= 3 high-quality chunks.
          <Function test_activation_threshold_boundary>
            Test that activation exactly at 0.3 counts as high-quality.
          <Function test_retrieval_quality_with_mixed_activations>
            Test retrieval with mix of high and low activation chunks.
      <Module test_semantic_retrieval.py>
        Integration tests for semantic retrieval with hybrid scoring.
        
        This test verifies that hybrid retrieval (activation + semantic) works end-to-end
        and improves retrieval precision compared to activation-only retrieval.
        
        Test Strategy:
        1. Create a realistic code chunk dataset with embeddings
        2. Define test queries with known "ground truth" relevant chunks
        3. Measure precision@K for activation-only retrieval (baseline)
        4. Measure precision@K for hybrid retrieval (activation + semantic)
        5. Verify hybrid retrieval achieves ≥85% precision target
        6. Test fallback behavior when embeddings unavailable
        
        Precision Metrics:
        - Precision@K = (relevant chunks in top-K) / K
        - Target: Hybrid retrieval should achieve ≥85% precision @5
        - Improvement: Should be better than activation-only baseline
        <Class TestSemanticRetrievalIntegration>
          Integration tests for semantic retrieval.
          <Function test_hybrid_retrieval_end_to_end>
            Test complete hybrid retrieval pipeline.
          <Function test_hybrid_vs_activation_only_comparison>
            Test that hybrid retrieval improves over activation-only.
          <Function test_semantic_similarity_improves_ranking>
            Test that semantic similarity helps rank semantically similar chunks higher.
          <Function test_fallback_to_activation_when_embedding_fails>
            Test fallback behavior when embeddings are unavailable.
          <Function test_hybrid_retrieval_precision_target>
            Test that hybrid retrieval achieves ≥85% precision target.
          <Function test_empty_store_returns_empty_results>
            Test behavior with empty store.
          <Function test_retrieval_with_various_top_k_values>
            Test retrieval with different top_k values.
          <Function test_configurable_weights_affect_ranking>
            Test that changing weights affects result ranking.
        <Class TestSemanticRetrievalEdgeCases>
          Test edge cases and error conditions.
          <Function test_invalid_query_raises_error>
            Test that invalid queries raise appropriate errors.
          <Function test_invalid_top_k_raises_error>
            Test that invalid top_k raises appropriate errors.
          <Function test_chunks_without_embeddings_with_fallback_disabled>
            Test behavior when embeddings missing and fallback disabled.
      <Module test_simple_query_e2e.py>
        End-to-End Integration Tests for Simple Query Flow.
        
        This module tests the complete SOAR pipeline for SIMPLE complexity queries,
        which bypass decomposition and use a direct solving approach.
        
        Key aspects tested:
        - Phase 1: Assess complexity (keyword-based, should classify as SIMPLE)
        - Phase 2: Retrieve context (with SIMPLE budget limit)
        - Simple path execution (bypass decomposition phases 3-4)
        - Direct solving LLM call
        - Phase 9: Response formatting
        
        Performance requirements:
        - Simple query latency: <2s
        <Class TestSimpleQueryE2E>
          End-to-end tests for simple query processing.
          <Function test_simple_query_bypasses_decomposition>
            Test that SIMPLE queries bypass decomposition phases.
          <Function test_simple_query_performance>
            Test that SIMPLE queries complete in <2s.
          <Function test_simple_query_budget_allocation>
            Test that SIMPLE queries use minimal budget allocation.
          <Function test_simple_query_cost_tracking>
            Test that cost tracking works for simple queries.
          <Function test_simple_query_verbosity_levels>
            Test that all verbosity levels work for simple queries.
          <Function test_simple_query_keyword_detection>
            Test that keyword-based assessment correctly identifies SIMPLE queries.
          <Function test_simple_query_with_context_retrieval>
            Test that simple queries retrieve appropriate context.
          <Function test_simple_query_error_handling>
            Test error handling in simple query path.
          <Function test_simple_query_metadata_completeness>
            Test that simple query responses include complete metadata.
          <Function test_simple_query_confidence_scoring>
            Test that simple queries return appropriate confidence scores.
        <Class TestSimpleQueryEdgeCases>
          Test edge cases for simple query processing.
          <Function test_borderline_simple_assessment>
            Test query on borderline between SIMPLE and MEDIUM complexity.
          <Function test_very_short_simple_query>
            Test very short simple queries.
          <Function test_simple_query_with_no_context>
            Test simple query when no relevant context is found.
      <Module test_verification_retry.py>
        Integration tests for verification retry loop.
        
        Tests that CRITICAL queries with low verification scores trigger
        the retry loop and that feedback is properly generated and incorporated.
        <Class TestVerificationRetry>
          Test verification retry loop functionality.
          <Function test_retry_loop_fail_then_pass>
            Test retry loop when first attempt fails but second passes.
          <Function test_retry_loop_max_retries_exhausted>
            Test retry loop when max retries are exhausted.
          <Function test_no_retry_when_first_attempt_passes>
            Test that no retry occurs when first attempt passes.
          <Function test_retry_feedback_quality>
            Test that retry feedback is specific and actionable.
    <Package performance>
      <Module test_activation_benchmarks.py>
        Performance benchmarks for ACT-R activation calculations.
        
        This test suite benchmarks:
        1. BLA calculation for varying candidate sizes (100, 1000)
        2. Full activation calculation (BLA + spreading + context + decay)
        3. Batch processing performance
        4. Memory efficiency
        
        Performance Targets (from PRD Section 7):
        - 100 candidates: <100ms for activation calculation
        - 1000 candidates: <200ms for activation calculation
        
        Test Strategy:
        - Use pytest-benchmark for accurate timing measurements
        - Test realistic access patterns (frequent, recent, old, none)
        - Measure both individual component performance and full activation
        - Verify performance targets are met consistently (not just best-case)
        <Class TestBLAPerformance>
          Benchmark Base-Level Activation calculation.
          <Function test_bla_100_candidates>
            Benchmark BLA calculation for 100 candidates.
          <Function test_bla_1000_candidates>
            Benchmark BLA calculation for 1000 candidates.
        <Class TestContextBoostPerformance>
          Benchmark Context Boost calculation.
          <Function test_context_boost_100_candidates>
            Benchmark context boost for 100 candidates.
          <Function test_context_boost_1000_candidates>
            Benchmark context boost for 1000 candidates.
        <Class TestDecayPerformance>
          Benchmark Decay penalty calculation.
          <Function test_decay_100_candidates>
            Benchmark decay calculation for 100 candidates.
          <Function test_decay_1000_candidates>
            Benchmark decay calculation for 1000 candidates.
        <Class TestFullActivationPerformance>
          Benchmark full activation calculation (all components).
          
          This is the main performance target from PRD Section 7.
          <Function test_full_activation_100_candidates>
            Benchmark full activation for 100 candidates.
            
            Target: <100ms (PRD Section 7.6)
          <Function test_full_activation_1000_candidates>
            Benchmark full activation for 1000 candidates.
            
            Target: <200ms (PRD Section 7.7)
        <Class TestBatchActivationPerformance>
          Benchmark batch activation calculation efficiency.
          <Function test_batch_vs_sequential>
            Compare batch vs sequential activation calculation.
            
            Batch processing should show minimal overhead compared to sequential.
        <Class TestMemoryEfficiency>
          Verify memory-efficient activation calculation.
          <Function test_no_memory_leak>
            Verify activation calculation doesn't leak memory.
            
            Run multiple iterations and check that memory usage is stable.
      <Module test_init_performance.py>
        Performance tests for unified init command.
        
        Tests init performance with various file counts to ensure
        initialization completes within acceptable time limits.
        <Function test_init_performance_100_files>
          Test init performance with 100 files (target: <7s).
        <Function test_init_performance_1000_files>
          Test init performance with 1000 files (target: <30s).
        <Function test_step_1_performance>
          Test Step 1 (Planning Setup) performance (target: <1s).
        <Function test_step_2_performance_100_files>
          Test Step 2 (Memory Indexing) performance with 100 files.
        <Function test_step_3_performance>
          Test Step 3 (Tool Configuration) performance (target: <2s).
        <Function test_memory_usage_during_init>
          Test memory usage during init (target: <100MB for 10K chunks).
        <Function test_progress_bar_updates_smoothly>
          Test progress bar updates smoothly during indexing.
    <Package unit>
      <Package cli>
        <Package configurators>
          <Package mcp>
            <Module test_base.py>
              Unit tests for MCP configurator base class.
              <Class TestMerge_mcp_config>
                Tests for merge_mcp_config function.
                <Function test_merge_empty_existing>
                  Merge into empty config creates mcpServers with aurora.
                <Function test_merge_preserves_existing_servers>
                  Merge preserves other servers in mcpServers.
                <Function test_merge_updates_existing_aurora>
                  Merge updates existing aurora config.
                <Function test_merge_handles_wrapped_format>
                  Merge handles aurora config wrapped in mcpServers.
                <Function test_merge_preserves_other_top_level_keys>
                  Merge preserves non-mcpServers keys in existing config.
              <Class TestConfigResult>
                Tests for ConfigResult dataclass.
                <Function test_config_result_defaults>
                  ConfigResult has empty warnings by default.
                <Function test_config_result_with_warnings>
                  ConfigResult can have warnings.
              <Class TestMCPConfiguratorBase>
                Tests for MCPConfigurator base class.
                <Function test_name_default_from_tool_id>
                  Default name is derived from tool_id.
                <Function test_name_handles_dashes>
                  Name converts dashes to spaces and title cases.
                <Function test_get_server_config_default>
                  Default server config has aurora entry with project db path.
                <Function test_is_configured_returns_false_when_no_file>
                  is_configured returns False when config file doesn't exist.
                <Function test_is_configured_returns_false_when_no_aurora>
                  is_configured returns False when aurora not in config.
                <Function test_is_configured_returns_true_when_aurora_present>
                  is_configured returns True when aurora is in mcpServers.
                <Function test_configure_creates_new_file>
                  configure creates new config file when none exists.
                <Function test_configure_updates_existing_file>
                  configure updates existing config, preserving other servers.
                <Function test_configure_handles_invalid_json>
                  configure handles existing file with invalid JSON.
                <Function test_configure_permissions_returns_none_by_default>
                  configure_permissions returns None by default (no permissions needed).
            <Module test_claude.py>
              Unit tests for Claude MCP configurator.
              <Class TestClaudeMCPConfigurator>
                Tests for ClaudeMCPConfigurator.
                <Function test_tool_id>
                  tool_id is 'claude'.
                <Function test_name>
                  name is 'Claude Code'.
                <Function test_is_global>
                  Claude config is global.
                <Function test_get_config_path>
                  Config path is ~/.claude/plugins/aurora/.mcp.json.
                <Function test_get_permissions_path>
                  Permissions path is ~/.claude/settings.local.json.
                <Function test_get_server_config>
                  Server config has aurora entry with project db path.
              <Class TestClaudeMCPConfiguratorPermissions>
                Tests for Claude permissions configuration.
                <Function test_configure_permissions_creates_new_file>
                  configure_permissions creates new settings.local.json.
                <Function test_configure_permissions_preserves_existing>
                  configure_permissions preserves existing permissions.
                <Function test_configure_permissions_skips_existing_aurora_perms>
                  configure_permissions doesn't duplicate existing Aurora permissions.
              <Class TestClaudeMCPConfiguratorConfigure>
                Tests for full Claude MCP configuration.
                <Function test_configure_creates_mcp_and_permissions>
                  configure() creates both MCP config and permissions.
              <Class TestClaudeMCPConfiguratorIsConfigured>
                Tests for is_configured check.
                <Function test_is_configured_false_when_no_files>
                  is_configured returns False when no files exist.
                <Function test_is_configured_false_when_mcp_only>
                  is_configured returns False when only MCP config exists.
                <Function test_is_configured_true_when_both_exist>
                  is_configured returns True when MCP and permissions exist.
            <Module test_registry.py>
              Unit tests for MCP config registry.
              <Class TestMCPConfigRegistry>
                Tests for MCPConfigRegistry.
                <Function test_register_and_get>
                  Can register and retrieve a configurator.
                <Function test_get_returns_none_for_unknown>
                  get() returns None for unregistered tool.
                <Function test_get_normalizes_tool_id>
                  get() normalizes tool IDs (lowercase, spaces to dashes).
                <Function test_get_all_returns_list>
                  get_all() returns list of all configurators.
                <Function test_get_mcp_capable_tools_returns_tool_ids>
                  get_mcp_capable_tools() returns list of tool IDs.
                <Function test_supports_mcp_returns_true_for_registered>
                  supports_mcp() returns True for registered tools.
                <Function test_supports_mcp_returns_false_for_unregistered>
                  supports_mcp() returns False for unregistered tools.
                <Function test_clear_removes_all_configurators>
                  clear() removes all registered configurators.
              <Class TestMCPConfigRegistryRealConfigurators>
                Tests that verify real configurators are registered.
                <Function test_claude_configurator_registered>
                  Claude configurator is registered.
                <Function test_cursor_configurator_registered>
                  Cursor configurator is registered.
                <Function test_cline_configurator_registered>
                  Cline configurator is registered.
                <Function test_continue_configurator_registered>
                  Continue configurator is registered.
                <Function test_four_mcp_tools_registered>
                  Exactly 4 MCP-capable tools are registered.
          <Package slash>
            <Module test_claude.py>
              Tests for ClaudeSlashCommandConfigurator.
              
              Tests the Claude Code slash command configurator that creates commands
              in .claude/commands/aur/ directory.
              <Class TestClaudeSlashCommandConfiguratorProperties>
                Tests for basic properties of ClaudeSlashCommandConfigurator.
                <Function test_tool_id_returns_claude>
                  Test that tool_id property returns 'claude'.
                <Function test_is_available_returns_true>
                  Test that is_available property returns True.
                  
                  Claude Code is always available (doesn't require detection).
                <Function test_inherits_from_slash_command_configurator>
                  Test that ClaudeSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_can_instantiate>
                  Test that ClaudeSlashCommandConfigurator can be instantiated.
              <Class TestClaudeSlashCommandConfiguratorPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_plan>
                  Test get_relative_path returns correct path for 'plan' command.
                <Function test_get_relative_path_checkpoint>
                  Test get_relative_path returns correct path for 'checkpoint' command.
                <Function test_get_relative_path_archive>
                  Test get_relative_path returns correct path for 'archive' command.
                <Function test_get_relative_path_all_commands>
                  Test get_relative_path works for all standard commands.
                <Function test_resolve_absolute_path>
                  Test resolve_absolute_path returns absolute path.
              <Class TestClaudeSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter generation.
                <Function test_get_frontmatter_plan_returns_yaml>
                  Test get_frontmatter returns YAML frontmatter for 'plan' command.
                <Function test_get_frontmatter_plan_has_name>
                  Test frontmatter contains 'name' field.
                <Function test_get_frontmatter_plan_has_description>
                  Test frontmatter contains 'description' field.
                <Function test_get_frontmatter_plan_has_category>
                  Test frontmatter contains 'category' field.
                <Function test_get_frontmatter_plan_has_tags>
                  Test frontmatter contains 'tags' field.
                <Function test_get_frontmatter_all_commands>
                  Test get_frontmatter works for all standard commands.
                <Function test_get_frontmatter_checkpoint_has_session_tags>
                  Test checkpoint command frontmatter includes session-related tags.
              <Class TestClaudeSlashCommandConfiguratorBody>
                Tests for body content generation.
                <Function test_get_body_plan_returns_template>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_checkpoint_returns_template>
                  Test get_body returns content for checkpoint command.
                <Function test_get_body_all_commands>
                  Test get_body works for all standard commands.
                <Function test_get_body_contains_guardrails>
                  Test body content contains guardrails section.
              <Class TestClaudeSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method.
                <Function test_generate_all_creates_3_files>
                  Test generate_all creates 3 command files (one for each command).
                <Function test_generate_all_creates_files_in_claude_directory>
                  Test generate_all creates files in .claude/commands/aur/ directory.
                <Function test_generate_all_creates_plan_file>
                  Test generate_all creates plan.md file.
                <Function test_generate_all_file_has_frontmatter>
                  Test generated file starts with YAML frontmatter.
                <Function test_generate_all_file_has_aurora_markers>
                  Test generated file contains Aurora markers.
                <Function test_generate_all_file_has_body_between_markers>
                  Test generated file has body content between Aurora markers.
                <Function test_generate_all_returns_relative_paths>
                  Test generate_all returns relative paths.
                <Function test_generate_all_creates_all_3_command_files>
                  Test generate_all creates all 3 command files.
              <Class TestClaudeSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_preserves_custom_content_outside_markers>
                  Test update_existing preserves custom content outside Aurora markers.
                <Function test_update_existing_updates_body_between_markers>
                  Test update_existing updates the body content between markers.
                <Function test_update_existing_preserves_frontmatter>
                  Test update_existing preserves custom frontmatter modifications.
                <Function test_update_existing_returns_list_of_updated_files>
                  Test update_existing returns list of files that were updated.
                <Function test_update_existing_only_updates_existing_files>
                  Test update_existing does not create new files.
              <Class TestClaudeSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_3_targets>
                  Test get_targets returns 3 targets (one per command).
                <Function test_get_targets_returns_slash_command_targets>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_has_all_command_ids>
                  Test get_targets includes all command IDs.
                <Function test_get_targets_paths_match_get_relative_path>
                  Test that target paths match get_relative_path output.
            <Module test_codex.py>
              Tests for CodexSlashCommandConfigurator.
              
              Tests the Codex slash command configurator that creates commands
              in a GLOBAL directory (~/.codex/prompts/ or $CODEX_HOME/prompts/)
              rather than project-relative paths like other tools.
              <Class TestCodexSlashCommandConfiguratorProperties>
                Tests for basic properties of CodexSlashCommandConfigurator.
                <Function test_tool_id_returns_codex>
                  Test that tool_id property returns 'codex'.
                <Function test_is_available_returns_true>
                  Test that is_available property returns True.
                  
                  Codex is always available (doesn't require detection).
                <Function test_inherits_from_slash_command_configurator>
                  Test that CodexSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_can_instantiate>
                  Test that CodexSlashCommandConfigurator can be instantiated.
              <Class TestCodexSlashCommandConfiguratorGlobalPromptsDir>
                Tests for _get_global_prompts_dir method.
                <Function test_get_global_prompts_dir_default>
                  Test _get_global_prompts_dir returns ~/.codex/prompts/ by default.
                <Function test_get_global_prompts_dir_respects_codex_home>
                  Test _get_global_prompts_dir respects CODEX_HOME environment variable.
                <Function test_get_global_prompts_dir_strips_whitespace_from_codex_home>
                  Test _get_global_prompts_dir strips whitespace from CODEX_HOME.
                <Function test_get_global_prompts_dir_ignores_empty_codex_home>
                  Test _get_global_prompts_dir ignores empty CODEX_HOME.
              <Class TestCodexSlashCommandConfiguratorPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_plan>
                  Test get_relative_path returns correct relative path for 'plan' command.
                <Function test_get_relative_path_all_commands>
                  Test get_relative_path works for all standard commands.
              <Class TestCodexSlashCommandConfiguratorResolveAbsolutePath>
                Tests for resolve_absolute_path method (global path handling).
                <Function test_resolve_absolute_path_returns_global_path>
                  Test resolve_absolute_path returns global path instead of project path.
                <Function test_resolve_absolute_path_ignores_project_path>
                  Test resolve_absolute_path ignores the project_path parameter.
                <Function test_resolve_absolute_path_returns_absolute>
                  Test resolve_absolute_path returns an absolute path.
              <Class TestCodexSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter generation.
                <Function test_get_frontmatter_plan_returns_yaml_with_arguments>
                  Test get_frontmatter returns YAML with $ARGUMENTS placeholder.
                <Function test_get_frontmatter_plan_has_description>
                  Test frontmatter contains 'description' field.
                <Function test_get_frontmatter_plan_has_argument_hint>
                  Test frontmatter contains 'argument-hint' field.
                <Function test_get_frontmatter_all_commands>
                  Test get_frontmatter works for all standard commands.
              <Class TestCodexSlashCommandConfiguratorBody>
                Tests for body content generation.
                <Function test_get_body_plan_returns_template>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_all_commands>
                  Test get_body works for all standard commands.
              <Class TestCodexSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method (writes to global directory).
                <Function test_generate_all_creates_3_files>
                  Test generate_all creates 3 command files.
                <Function test_generate_all_writes_to_global_directory>
                  Test generate_all writes to global directory, not project directory.
                <Function test_generate_all_creates_prompts_directory>
                  Test generate_all creates the prompts directory if it doesn't exist.
                <Function test_generate_all_file_has_frontmatter_with_arguments>
                  Test generated file has frontmatter with $ARGUMENTS placeholder.
                <Function test_generate_all_file_has_aurora_markers>
                  Test generated file contains Aurora markers.
                <Function test_generate_all_creates_all_command_files>
                  Test generate_all creates all 7 command files.
              <Class TestCodexSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_only_updates_existing_files>
                  Test update_existing only updates files that exist in global dir.
                <Function test_update_existing_updates_body_in_global_file>
                  Test update_existing updates the body in the global file.
              <Class TestCodexSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_3_targets>
                  Test get_targets returns 3 targets (one per command).
                <Function test_get_targets_returns_slash_command_targets>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_has_all_command_ids>
                  Test get_targets includes all command IDs.
            <Module test_cursor.py>
              Tests for CursorSlashCommandConfigurator.
              
              Tests the Cursor slash command configurator that creates commands
              in .cursor/commands/ directory with aurora-{command}.md naming.
              <Class TestCursorSlashCommandConfiguratorProperties>
                Tests for basic properties of CursorSlashCommandConfigurator.
                <Function test_tool_id_returns_cursor>
                  Test that tool_id property returns 'cursor'.
                <Function test_is_available_returns_true>
                  Test that is_available property returns True.
                  
                  Cursor is always available (doesn't require detection).
                <Function test_inherits_from_slash_command_configurator>
                  Test that CursorSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_can_instantiate>
                  Test that CursorSlashCommandConfigurator can be instantiated.
              <Class TestCursorSlashCommandConfiguratorPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_plan>
                  Test get_relative_path returns correct path for 'plan' command.
                <Function test_get_relative_path_all_commands>
                  Test get_relative_path works for all standard commands.
                <Function test_resolve_absolute_path>
                  Test resolve_absolute_path returns absolute path.
              <Class TestCursorSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter generation.
                <Function test_get_frontmatter_plan_returns_yaml>
                  Test get_frontmatter returns YAML frontmatter for 'plan' command.
                <Function test_get_frontmatter_plan_has_name>
                  Test frontmatter contains 'name' field with /aurora-{command} pattern.
                <Function test_get_frontmatter_plan_has_id>
                  Test frontmatter contains 'id' field.
                <Function test_get_frontmatter_plan_has_category>
                  Test frontmatter contains 'category' field.
                <Function test_get_frontmatter_plan_has_description>
                  Test frontmatter contains 'description' field.
                <Function test_get_frontmatter_all_commands>
                  Test get_frontmatter works for all standard commands.
                <Function test_frontmatter_includes_aurora_naming_pattern>
                  Test frontmatter uses /aurora-{command} naming pattern.
              <Class TestCursorSlashCommandConfiguratorBody>
                Tests for body content generation.
                <Function test_get_body_plan_returns_template>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_all_commands>
                  Test get_body works for all standard commands.
              <Class TestCursorSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method.
                <Function test_generate_all_creates_3_files>
                  Test generate_all creates 3 command files (one for each command).
                <Function test_generate_all_creates_files_in_cursor_directory>
                  Test generate_all creates files in .cursor/commands/ directory.
                <Function test_generate_all_creates_plan_file>
                  Test generate_all creates aurora-plan.md file.
                <Function test_generate_all_file_has_frontmatter>
                  Test generated file starts with YAML frontmatter.
                <Function test_generate_all_file_has_aurora_markers>
                  Test generated file contains Aurora markers.
                <Function test_generate_all_creates_all_command_files>
                  Test generate_all creates all 7 command files with correct names.
                <Function test_generate_all_returns_relative_paths>
                  Test generate_all returns relative paths.
              <Class TestCursorSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_preserves_custom_content>
                  Test update_existing preserves custom content outside Aurora markers.
                <Function test_update_existing_only_updates_existing_files>
                  Test update_existing does not create new files.
              <Class TestCursorSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_3_targets>
                  Test get_targets returns 3 targets (one per command).
                <Function test_get_targets_returns_slash_command_targets>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_has_all_command_ids>
                  Test get_targets includes all command IDs.
                <Function test_get_targets_paths_match_get_relative_path>
                  Test that target paths match get_relative_path output.
            <Module test_gemini.py>
              Tests for GeminiSlashCommandConfigurator.
              
              Tests the Gemini CLI slash command configurator that creates TOML-format
              commands in .gemini/commands/aurora/ directory.
              <Class TestGeminiSlashCommandConfiguratorProperties>
                Tests for basic properties of GeminiSlashCommandConfigurator.
                <Function test_tool_id_returns_gemini>
                  Test that tool_id property returns 'gemini'.
                <Function test_is_available_returns_true>
                  Test that is_available property returns True.
                  
                  Gemini is always available (doesn't require detection).
                <Function test_inherits_from_toml_slash_command_configurator>
                  Test that GeminiSlashCommandConfigurator extends TomlSlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator>
                  Test that GeminiSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_can_instantiate>
                  Test that GeminiSlashCommandConfigurator can be instantiated.
              <Class TestGeminiSlashCommandConfiguratorPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_plan>
                  Test get_relative_path returns correct path for 'plan' command.
                <Function test_get_relative_path_all_commands>
                  Test get_relative_path works for all standard commands.
                <Function test_resolve_absolute_path>
                  Test resolve_absolute_path returns absolute path.
              <Class TestGeminiSlashCommandConfiguratorDescription>
                Tests for get_description method.
                <Function test_get_description_plan_returns_string>
                  Test get_description returns a non-empty string for 'plan' command.
                <Function test_get_description_all_commands>
                  Test get_description works for all standard commands.
              <Class TestGeminiSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter behavior (TOML has no frontmatter).
                <Function test_get_frontmatter_returns_none>
                  Test get_frontmatter returns None for TOML format.
                  
                  TOML format embeds all metadata in the TOML structure itself.
                <Function test_get_frontmatter_returns_none_for_all_commands>
                  Test get_frontmatter returns None for all commands.
              <Class TestGeminiSlashCommandConfiguratorBody>
                Tests for body content generation.
                <Function test_get_body_plan_returns_template>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_all_commands>
                  Test get_body works for all standard commands.
              <Class TestGeminiSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method with TOML output.
                <Function test_generate_all_creates_3_files>
                  Test generate_all creates 3 command files (one for each command).
                <Function test_generate_all_creates_toml_files>
                  Test generate_all creates .toml files.
                <Function test_generate_all_creates_valid_toml_syntax>
                  Test generated files have valid TOML syntax.
                <Function test_generate_all_has_description_field>
                  Test TOML output has description = '...' field.
                <Function test_generate_all_has_prompt_field_with_triple_quotes>
                  Test TOML output has prompt = '''...''' field.
                <Function test_generate_all_has_markers_inside_prompt>
                  Test Aurora markers are inside the prompt triple-quoted string.
                <Function test_generate_all_returns_relative_paths>
                  Test generate_all returns relative paths.
                <Function test_generate_all_creates_directory_structure>
                  Test generate_all creates the directory structure.
              <Class TestGeminiSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_preserves_custom_description>
                  Test update_existing preserves custom description outside markers.
                <Function test_update_existing_updates_body_between_markers>
                  Test update_existing updates the body content between markers.
                <Function test_update_existing_only_updates_existing_files>
                  Test update_existing does not create new files.
              <Class TestGeminiSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_3_targets>
                  Test get_targets returns 3 targets (one per command).
                <Function test_get_targets_returns_slash_command_targets>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_paths_end_with_toml>
                  Test all target paths end with .toml extension.
                <Function test_get_targets_has_all_command_ids>
                  Test get_targets includes all command IDs.
            <Module test_markdown_tools.py>
              Parametrized tests for simple markdown-based slash command configurators.
              
              Tests all 8 simple markdown tools that follow the standard pattern:
              - Antigravity, Auggie, CodeBuddy, CoStrict, Crush, iFlow, Qoder, Qwen
              
              These tools all use markdown files with YAML frontmatter (or toml for Qwen)
              and follow the standard SlashCommandConfigurator interface.
              <Class TestMarkdownToolProperties>
                Tests for basic properties of markdown-based configurators.
                <Function test_tool_id_property[antigravity]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[auggie]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[codebuddy]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[costrict]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[crush]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[iflow]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[qoder]>
                  Test that tool_id property returns correct value.
                <Function test_is_available_property[antigravity]>
                  Test that is_available property returns True.
                <Function test_is_available_property[auggie]>
                  Test that is_available property returns True.
                <Function test_is_available_property[codebuddy]>
                  Test that is_available property returns True.
                <Function test_is_available_property[costrict]>
                  Test that is_available property returns True.
                <Function test_is_available_property[crush]>
                  Test that is_available property returns True.
                <Function test_is_available_property[iflow]>
                  Test that is_available property returns True.
                <Function test_is_available_property[qoder]>
                  Test that is_available property returns True.
                <Function test_inherits_from_slash_command_configurator[antigravity]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[auggie]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[codebuddy]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[costrict]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[crush]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[iflow]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[qoder]>
                  Test that configurator inherits from SlashCommandConfigurator.
              <Class TestMarkdownToolPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_returns_correct_directory[antigravity]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[auggie]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[codebuddy]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[costrict]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[crush]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[iflow]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[qoder]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_has_md_extension[antigravity]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[auggie]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[codebuddy]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[costrict]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[crush]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[iflow]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[qoder]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_resolve_absolute_path[antigravity]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[auggie]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[codebuddy]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[costrict]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[crush]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[iflow]>
                  Test resolve_absolute_path returns absolute path.
                <Function test_resolve_absolute_path[qoder]>
                  Test resolve_absolute_path returns absolute path.
              <Class TestMarkdownToolFrontmatter>
                Tests for frontmatter generation.
                <Function test_get_frontmatter_returns_value[antigravity]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[auggie]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[codebuddy]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[costrict]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[crush]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[iflow]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_returns_value[qoder]>
                  Test get_frontmatter returns a non-None value for all commands.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[antigravity]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[auggie]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[codebuddy]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[costrict]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[crush]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[iflow]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_yaml_delimiters_if_not_none[qoder]>
                  Test frontmatter has YAML delimiters if it's not None.
                <Function test_get_frontmatter_has_expected_fields[antigravity]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[auggie]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[codebuddy]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[costrict]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[crush]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[iflow]>
                  Test frontmatter contains expected fields for the tool.
                <Function test_get_frontmatter_has_expected_fields[qoder]>
                  Test frontmatter contains expected fields for the tool.
              <Class TestMarkdownToolBody>
                Tests for body content generation.
                <Function test_get_body_returns_template[antigravity]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[auggie]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[codebuddy]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[costrict]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[crush]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[iflow]>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_returns_template[qoder]>
                  Test get_body returns content from slash_commands templates.
              <Class TestMarkdownToolGenerateAll>
                Tests for generate_all method.
                <Function test_generate_all_creates_all_command_files[antigravity]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[auggie]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[codebuddy]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[costrict]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[crush]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[iflow]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[qoder]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_files_have_aurora_markers[antigravity]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[auggie]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[codebuddy]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[costrict]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[crush]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[iflow]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[qoder]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_body_between_markers[antigravity]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[auggie]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[codebuddy]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[costrict]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[crush]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[iflow]>
                  Test generated files have body content between markers.
                <Function test_generate_all_files_have_body_between_markers[qoder]>
                  Test generated files have body content between markers.
                <Function test_generate_all_returns_relative_paths[antigravity]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[auggie]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[codebuddy]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[costrict]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[crush]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[iflow]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_returns_relative_paths[qoder]>
                  Test generate_all returns relative paths.
                <Function test_generate_all_creates_directory_structure[antigravity]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[auggie]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[codebuddy]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[costrict]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[crush]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[iflow]>
                  Test generate_all creates the directory structure.
                <Function test_generate_all_creates_directory_structure[qoder]>
                  Test generate_all creates the directory structure.
              <Class TestMarkdownToolUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_only_updates_existing_files[antigravity]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[auggie]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[codebuddy]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[costrict]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[crush]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[iflow]>
                  Test update_existing does not create new files.
                <Function test_update_existing_only_updates_existing_files[qoder]>
                  Test update_existing does not create new files.
                <Function test_update_existing_replaces_body_between_markers[antigravity]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[auggie]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[codebuddy]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[costrict]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[crush]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[iflow]>
                  Test update_existing replaces body content between markers.
                <Function test_update_existing_replaces_body_between_markers[qoder]>
                  Test update_existing replaces body content between markers.
              <Class TestMarkdownToolTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_all_commands[antigravity]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[auggie]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[codebuddy]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[costrict]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[crush]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[iflow]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_all_commands[qoder]>
                  Test get_targets returns targets for all commands.
                <Function test_get_targets_returns_slash_command_targets[antigravity]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[auggie]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[codebuddy]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[costrict]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[crush]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[iflow]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_returns_slash_command_targets[qoder]>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_paths_match_get_relative_path[antigravity]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[auggie]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[codebuddy]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[costrict]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[crush]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[iflow]>
                  Test that target paths match get_relative_path output.
                <Function test_get_targets_paths_match_get_relative_path[qoder]>
                  Test that target paths match get_relative_path output.
              <Class TestSpecialFrontmatterToolProperties>
                Tests for properties of tools with special frontmatter patterns.
                <Function test_tool_id_property[amazon-q]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[cline]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[roocode]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[factory]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[github-copilot]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[kilocode]>
                  Test that tool_id property returns correct value.
                <Function test_tool_id_property[opencode]>
                  Test that tool_id property returns correct value.
                <Function test_is_available_property[amazon-q]>
                  Test that is_available property returns True.
                <Function test_is_available_property[cline]>
                  Test that is_available property returns True.
                <Function test_is_available_property[roocode]>
                  Test that is_available property returns True.
                <Function test_is_available_property[factory]>
                  Test that is_available property returns True.
                <Function test_is_available_property[github-copilot]>
                  Test that is_available property returns True.
                <Function test_is_available_property[kilocode]>
                  Test that is_available property returns True.
                <Function test_is_available_property[opencode]>
                  Test that is_available property returns True.
                <Function test_inherits_from_slash_command_configurator[amazon-q]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[cline]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[roocode]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[factory]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[github-copilot]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[kilocode]>
                  Test that configurator inherits from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator[opencode]>
                  Test that configurator inherits from SlashCommandConfigurator.
              <Class TestSpecialFrontmatterToolPaths>
                Tests for path-related methods of special frontmatter tools.
                <Function test_get_relative_path_returns_correct_directory[amazon-q]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[cline]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[roocode]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[factory]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[github-copilot]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[kilocode]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_returns_correct_directory[opencode]>
                  Test get_relative_path returns path in correct directory.
                <Function test_get_relative_path_has_md_extension[amazon-q]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[cline]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[roocode]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[factory]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[github-copilot]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[kilocode]>
                  Test get_relative_path returns paths with .md extension.
                <Function test_get_relative_path_has_md_extension[opencode]>
                  Test get_relative_path returns paths with .md extension.
              <Class TestAmazonQSpecialFrontmatter>
                Tests specific to Amazon Q's $ARGUMENTS and <UserRequest> patterns.
                <Function test_frontmatter_contains_arguments_placeholder>
                  Test Amazon Q frontmatter contains $ARGUMENTS placeholder.
                <Function test_frontmatter_contains_user_request_tags>
                  Test Amazon Q frontmatter contains <UserRequest> tags.
              <Class TestClineSpecialFrontmatter>
                Tests specific to Cline's markdown heading frontmatter.
                <Function test_frontmatter_is_markdown_heading>
                  Test Cline frontmatter is a markdown heading format.
                <Function test_frontmatter_contains_command_name>
                  Test Cline frontmatter contains the command name.
                <Function test_frontmatter_has_description_after_heading>
                  Test Cline frontmatter has description after the heading.
              <Class TestRooCodeSpecialFrontmatter>
                Tests specific to RooCode's markdown heading frontmatter.
                <Function test_frontmatter_is_markdown_heading>
                  Test RooCode frontmatter is a markdown heading format.
                <Function test_frontmatter_contains_command_name>
                  Test RooCode frontmatter contains the command name.
              <Class TestKiloCodeSpecialFrontmatter>
                Tests specific to Kilo Code's no-frontmatter pattern.
                <Function test_frontmatter_is_none>
                  Test Kilo Code returns None for frontmatter.
              <Class TestGitHubCopilotSpecialFrontmatter>
                Tests specific to GitHub Copilot's frontmatter patterns.
                <Function test_frontmatter_contains_arguments_placeholder>
                  Test GitHub Copilot frontmatter contains $ARGUMENTS placeholder.
                <Function test_has_prompt_md_extension>
                  Test GitHub Copilot files have .prompt.md extension.
              <Class TestOpenCodeSpecialFrontmatter>
                Tests specific to OpenCode's frontmatter patterns.
                <Function test_frontmatter_contains_arguments_placeholder>
                  Test OpenCode frontmatter contains $ARGUMENTS placeholder.
                <Function test_frontmatter_contains_user_request_tags>
                  Test OpenCode frontmatter contains <UserRequest> tags.
              <Class TestFactorySpecialFrontmatter>
                Tests specific to Factory's frontmatter patterns.
                <Function test_frontmatter_has_argument_hint>
                  Test Factory frontmatter has argument-hint field.
                <Function test_body_contains_arguments_placeholder>
                  Test Factory body contains $ARGUMENTS placeholder.
              <Class TestSpecialFrontmatterToolGenerateAll>
                Tests for generate_all method on special frontmatter tools.
                <Function test_generate_all_creates_all_command_files[amazon-q]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[cline]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[roocode]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[factory]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[github-copilot]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[kilocode]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_creates_all_command_files[opencode]>
                  Test generate_all creates files for all commands.
                <Function test_generate_all_files_have_aurora_markers[amazon-q]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[cline]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[roocode]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[factory]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[github-copilot]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[kilocode]>
                  Test generated files contain Aurora markers.
                <Function test_generate_all_files_have_aurora_markers[opencode]>
                  Test generated files contain Aurora markers.
            <Module test_registry.py>
              Tests for SlashCommandRegistry with all 20 configurators.
              <Class TestSlashCommandRegistryCount>
                Tests for registry configurator count.
                <Function test_get_all_returns_20_configurators>
                  get_all() should return exactly 20 configurators.
                <Function test_get_available_returns_20_configurators>
                  get_available() should return 20 (all tools always available per PRD).
              <Class TestSlashCommandRegistryHighPriorityTools>
                Tests for high-priority tool retrieval.
                <Function test_get_claude_returns_claude_configurator>
                  get('claude') should return ClaudeSlashCommandConfigurator.
                <Function test_get_cursor_returns_cursor_configurator>
                  get('cursor') should return CursorSlashCommandConfigurator.
                <Function test_get_gemini_returns_gemini_configurator>
                  get('gemini') should return GeminiSlashCommandConfigurator.
                <Function test_get_codex_returns_codex_configurator>
                  get('codex') should return CodexSlashCommandConfigurator.
                <Function test_get_windsurf_returns_windsurf_configurator>
                  get('windsurf') should return WindsurfSlashCommandConfigurator.
              <Class TestSlashCommandRegistryRemainingTools>
                Tests for remaining 15 tool retrieval.
                <Function test_get_amazon_q_returns_amazon_q_configurator>
                  get('amazon-q') should return AmazonQSlashCommandConfigurator.
                <Function test_get_antigravity_returns_antigravity_configurator>
                  get('antigravity') should return AntigravitySlashCommandConfigurator.
                <Function test_get_auggie_returns_auggie_configurator>
                  get('auggie') should return AuggieSlashCommandConfigurator.
                <Function test_get_cline_returns_cline_configurator>
                  get('cline') should return ClineSlashCommandConfigurator.
                <Function test_get_codebuddy_returns_codebuddy_configurator>
                  get('codebuddy') should return CodeBuddySlashCommandConfigurator.
                <Function test_get_costrict_returns_costrict_configurator>
                  get('costrict') should return CostrictSlashCommandConfigurator.
                <Function test_get_crush_returns_crush_configurator>
                  get('crush') should return CrushSlashCommandConfigurator.
                <Function test_get_factory_returns_factory_configurator>
                  get('factory') should return FactorySlashCommandConfigurator.
                <Function test_get_github_copilot_returns_github_copilot_configurator>
                  get('github-copilot') should return GitHubCopilotSlashCommandConfigurator.
                <Function test_get_iflow_returns_iflow_configurator>
                  get('iflow') should return IflowSlashCommandConfigurator.
                <Function test_get_kilocode_returns_kilocode_configurator>
                  get('kilocode') should return KiloCodeSlashCommandConfigurator.
                <Function test_get_opencode_returns_opencode_configurator>
                  get('opencode') should return OpenCodeSlashCommandConfigurator.
                <Function test_get_qoder_returns_qoder_configurator>
                  get('qoder') should return QoderSlashCommandConfigurator.
                <Function test_get_qwen_returns_qwen_configurator>
                  get('qwen') should return QwenSlashCommandConfigurator.
                <Function test_get_roocode_returns_roocode_configurator>
                  get('roocode') should return RooCodeSlashCommandConfigurator.
              <Class TestSlashCommandRegistryAllToolIds>
                Tests for all tool IDs being retrievable.
                <Function test_all_tool_ids_retrievable[amazon-q]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[antigravity]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[auggie]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[claude]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[cline]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[codex]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[codebuddy]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[costrict]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[crush]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[cursor]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[factory]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[gemini]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[github-copilot]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[iflow]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[kilocode]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[opencode]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[qoder]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[qwen]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[roocode]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_retrievable[windsurf]>
                  All 20 tool IDs should be retrievable.
                <Function test_all_tool_ids_present_in_get_all>
                  All 20 tool IDs should appear in get_all().
              <Class TestSlashCommandRegistryNormalization>
                Tests for tool ID normalization.
                <Function test_get_with_uppercase>
                  get() should normalize uppercase to lowercase.
                <Function test_get_with_mixed_case>
                  get() should normalize mixed case.
                <Function test_get_with_spaces_instead_of_dashes>
                  get() should normalize spaces to dashes.
              <Class TestSlashCommandRegistryAvailability>
                Tests for configurator availability.
                <Function test_all_configurators_are_available>
                  All 20 configurators should have is_available=True.
              <Class TestSlashCommandRegistryClear>
                Tests for registry clear functionality.
                <Function test_clear_removes_all_configurators>
                  clear() should remove all registered configurators.
                <Function test_registry_reinitializes_after_clear>
                  Registry should reinitialize after clear.
              <Class TestSlashCommandRegistryLazyLoading>
                Tests for lazy loading behavior.
                <Function test_registry_initializes_on_first_get>
                  Registry should initialize lazily on first get() call.
                <Function test_registry_initializes_on_first_get_all>
                  Registry should initialize lazily on first get_all() call.
                <Function test_registry_initializes_on_first_get_available>
                  Registry should initialize lazily on first get_available() call.
            <Module test_toml_base.py>
              Tests for TomlSlashCommandConfigurator base class.
              
              Tests the TOML-format base class used by tools like Gemini CLI that require
              TOML configuration files instead of markdown.
              <Class TestTomlSlashCommandConfiguratorAbstract>
                Tests for abstract method requirements.
                <Function test_cannot_instantiate_abstract_class>
                  Test that TomlSlashCommandConfigurator cannot be instantiated directly.
                <Function test_get_description_is_abstract>
                  Test that get_description must be implemented by subclasses.
              <Class TestTomlSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter behavior in TOML configurators.
                <Function test_get_frontmatter_returns_none>
                  Test that get_frontmatter returns None for TOML format.
                  
                  TOML format embeds all metadata in the TOML structure itself,
                  so there's no separate frontmatter section.
                <Function test_get_frontmatter_returns_none_for_all_commands>
                  Test that get_frontmatter returns None for all commands.
              <Class TestTomlSlashCommandConfiguratorDescription>
                Tests for the get_description abstract method.
                <Function test_get_description_returns_string>
                  Test that get_description returns a non-empty string.
                <Function test_get_description_for_all_commands>
                  Test that get_description works for all standard commands.
              <Class TestTomlSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method with TOML output.
                <Function test_generate_all_creates_toml_files>
                  Test that generate_all creates .toml files.
                <Function test_generate_all_creates_valid_toml_syntax>
                  Test that generated files have valid TOML syntax.
                <Function test_generate_all_has_description_field>
                  Test that TOML output has description = '...' field.
                <Function test_generate_all_has_prompt_field_with_triple_quotes>
                  Test that TOML output has prompt = '''...''' field.
                <Function test_generate_all_has_markers_inside_prompt>
                  Test that Aurora markers are inside the prompt triple-quoted string.
                <Function test_generate_all_has_body_between_markers>
                  Test that command body is between the Aurora markers.
                <Function test_generate_all_returns_relative_paths>
                  Test that generate_all returns relative paths, not absolute.
                <Function test_generate_all_creates_parent_directories>
                  Test that generate_all creates parent directories if needed.
              <Class TestTomlSlashCommandConfiguratorUpdateBody>
                Tests for _update_body method with TOML format.
                <Function test_update_body_replaces_content_between_markers>
                  Test that _update_body correctly replaces content between markers in TOML.
                <Function test_update_body_preserves_toml_structure>
                  Test that _update_body preserves TOML structure outside markers.
                <Function test_update_body_preserves_description>
                  Test that _update_body preserves the description field.
                <Function test_update_body_raises_error_if_markers_missing>
                  Test that _update_body raises ValueError if markers are missing.
                <Function test_update_body_raises_error_if_only_start_marker>
                  Test that _update_body raises error if only start marker present.
                <Function test_update_body_raises_error_if_only_end_marker>
                  Test that _update_body raises error if only end marker present.
              <Class TestTomlSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_only_updates_existing_files>
                  Test that update_existing only updates files that already exist.
                <Function test_update_existing_preserves_custom_description>
                  Test that update_existing preserves custom description outside markers.
                <Function test_update_existing_returns_empty_if_no_files>
                  Test that update_existing returns empty list if no files exist.
              <Class TestTomlSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_all_commands>
                  Test that get_targets returns targets for all commands.
                <Function test_get_targets_returns_slash_command_targets>
                  Test that get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_paths_end_with_toml>
                  Test that all target paths end with .toml extension.
              <Class TestTomlSlashCommandConfiguratorInheritance>
                Tests for proper inheritance from SlashCommandConfigurator.
                <Function test_inherits_from_slash_command_configurator>
                  Test that TomlSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_concrete_implementation_inherits_from_toml_base>
                  Test that concrete implementation inherits from TomlSlashCommandConfigurator.
                <Function test_resolve_absolute_path_works>
                  Test that inherited resolve_absolute_path method works correctly.
            <Module test_windsurf.py>
              Tests for WindsurfSlashCommandConfigurator.
              
              Tests the Windsurf slash command configurator that creates commands
              in .windsurf/workflows/ directory with aurora-{command}.md naming
              and special auto_execution_mode: 3 frontmatter.
              <Class TestWindsurfSlashCommandConfiguratorProperties>
                Tests for basic properties of WindsurfSlashCommandConfigurator.
                <Function test_tool_id_returns_windsurf>
                  Test that tool_id property returns 'windsurf'.
                <Function test_is_available_returns_true>
                  Test that is_available property returns True.
                  
                  Windsurf is always available (doesn't require detection).
                <Function test_inherits_from_slash_command_configurator>
                  Test that WindsurfSlashCommandConfigurator inherits from SlashCommandConfigurator.
                <Function test_can_instantiate>
                  Test that WindsurfSlashCommandConfigurator can be instantiated.
              <Class TestWindsurfSlashCommandConfiguratorPaths>
                Tests for path-related methods.
                <Function test_get_relative_path_plan>
                  Test get_relative_path returns correct path for 'plan' command.
                <Function test_get_relative_path_all_commands>
                  Test get_relative_path works for all standard commands.
                <Function test_resolve_absolute_path>
                  Test resolve_absolute_path returns absolute path.
              <Class TestWindsurfSlashCommandConfiguratorFrontmatter>
                Tests for frontmatter generation with auto_execution_mode.
                <Function test_get_frontmatter_plan_returns_yaml>
                  Test get_frontmatter returns YAML frontmatter for 'plan' command.
                <Function test_get_frontmatter_plan_has_description>
                  Test frontmatter contains 'description' field.
                <Function test_get_frontmatter_plan_has_auto_execution_mode>
                  Test frontmatter contains 'auto_execution_mode: 3' field.
                  
                  Windsurf uses auto_execution_mode: 3 for workflows.
                <Function test_get_frontmatter_all_commands_have_auto_execution_mode>
                  Test all commands have auto_execution_mode: 3 in frontmatter.
                <Function test_get_frontmatter_all_commands>
                  Test get_frontmatter works for all standard commands.
              <Class TestWindsurfSlashCommandConfiguratorBody>
                Tests for body content generation.
                <Function test_get_body_plan_returns_template>
                  Test get_body returns content from slash_commands templates.
                <Function test_get_body_all_commands>
                  Test get_body works for all standard commands.
              <Class TestWindsurfSlashCommandConfiguratorGenerateAll>
                Tests for generate_all method.
                <Function test_generate_all_creates_3_files>
                  Test generate_all creates 3 command files (one for each command).
                <Function test_generate_all_creates_files_in_windsurf_directory>
                  Test generate_all creates files in .windsurf/workflows/ directory.
                <Function test_generate_all_creates_plan_file>
                  Test generate_all creates aurora-plan.md file.
                <Function test_generate_all_file_has_frontmatter>
                  Test generated file starts with YAML frontmatter.
                <Function test_generate_all_file_has_auto_execution_mode>
                  Test generated file has auto_execution_mode: 3 in frontmatter.
                <Function test_generate_all_file_has_aurora_markers>
                  Test generated file contains Aurora markers.
                <Function test_generate_all_creates_all_command_files>
                  Test generate_all creates all 7 command files with correct names.
                <Function test_generate_all_returns_relative_paths>
                  Test generate_all returns relative paths.
              <Class TestWindsurfSlashCommandConfiguratorUpdateExisting>
                Tests for update_existing method.
                <Function test_update_existing_preserves_custom_content>
                  Test update_existing preserves custom content outside Aurora markers.
                <Function test_update_existing_only_updates_existing_files>
                  Test update_existing does not create new files.
              <Class TestWindsurfSlashCommandConfiguratorTargets>
                Tests for get_targets method.
                <Function test_get_targets_returns_3_targets>
                  Test get_targets returns 3 targets (one per command).
                <Function test_get_targets_returns_slash_command_targets>
                  Test get_targets returns SlashCommandTarget objects.
                <Function test_get_targets_has_all_command_ids>
                  Test get_targets includes all command IDs.
                <Function test_get_targets_paths_match_get_relative_path>
                  Test that target paths match get_relative_path output.
        <Package planning>
          <Package commands>
            <Module test_archive_command.py>
              Unit tests for ArchiveCommand.
              
              Tests basic import structure and Aurora path conventions.
              <Class TestArchiveCommandImport>
                Tests for ArchiveCommand module structure.
                <Function test_archive_command_importable>
                  Verify ArchiveCommand can be imported.
                <Function test_archive_command_has_execute_method>
                  Verify ArchiveCommand has execute method.
                <Function test_spec_update_dataclass_exists>
                  Verify SpecUpdate dataclass is available.
                <Function test_operation_counts_dataclass_exists>
                  Verify OperationCounts dataclass is available.
              <Class TestArchiveCommandAuroraPaths>
                Tests verifying Aurora path conventions are used.
                <Function test_aurora_paths_used_in_execute>
                  Verify execute method uses Aurora directory structure.
                <Function test_build_spec_skeleton_uses_aurora_terminology>
                  Verify spec skeleton uses Aurora terminology.
              <Class TestArchiveCommandTaskValidation>
                Tests for FR-1.1: Task completion validation.
                <Function test_get_task_progress_parses_checkboxes>
                  Verify _get_task_progress correctly parses tasks.md checkboxes.
                <Function test_get_task_progress_handles_no_tasks_file>
                  Verify _get_task_progress handles missing tasks.md gracefully.
                <Function test_format_task_status_returns_correct_format>
                  Verify _format_task_status returns 'X/Y (Z%)' format.
                <Function test_incomplete_tasks_warning_displayed>
                  Verify warning is displayed when tasks are incomplete.
              <Class TestArchiveCommandSpecDeltaProcessing>
                Tests for FR-1.2: Spec delta processing.
                <Function test_find_spec_updates_scans_specs_directory>
                  Verify _find_spec_updates scans plan-dir/specs/ for delta files.
                <Function test_find_spec_updates_returns_empty_for_no_specs>
                  Verify _find_spec_updates returns empty list when no specs directory.
                <Function test_build_updated_spec_handles_added_requirements>
                  Verify _build_updated_spec processes ADDED requirements correctly.
                <Function test_build_updated_spec_detects_duplicates_in_added>
                  Verify duplicate detection within ADDED section.
                <Function test_build_updated_spec_detects_cross_section_conflicts>
                  Verify cross-section conflict detection (req in both ADDED and REMOVED).
                <Function test_build_updated_spec_operations_applied_in_order>
                  Verify operations applied in correct order: RENAMED → REMOVED → MODIFIED → ADDED.
              <Class TestArchiveCommandManifestIntegration>
                Tests for Task 1.12: Manifest integration.
                <Function test_manifest_updated_after_archive>
                  Verify manifest is updated when plan is archived.
                <Function test_archive_continues_if_manifest_update_fails>
                  Verify archive operation continues even if manifest update fails.
          <Module test_agent_recommender.py>
            Unit tests for AgentRecommender class.
            
            Tests agent capability matching for planning subgoals.
            <Class TestAgentRecommender>
              Test suite for AgentRecommender.
              <Function test_recommender_initialization>
                Test AgentRecommender can be instantiated.
              <Function test_recommender_initialization_with_manifest>
                Test AgentRecommender can be instantiated with manifest.
              <Function test_keyword_extraction>
                Test keyword extraction from subgoal text.
              <Function test_recommend_agent_high_score>
                Test agent recommendation with high capability match.
              <Function test_recommend_agent_no_match_fallback>
                Test fallback agent when no good match found.
              <Function test_detect_gaps>
                Test gap detection when agent score is low.
              <Function test_agent_existence_check>
                Test agent existence verification.
              <Function test_keyword_extraction_removes_stop_words>
                Test that common stop words are removed from keywords.
              <Function test_get_fallback_agent>
                Test get_fallback_agent returns default.
              <Function test_recommend_for_subgoal_manifest_unavailable>
                Test graceful handling when manifest unavailable.
              <Function test_detect_gaps_empty_recommendations>
                Test detect_gaps with empty recommendations.
          <Module test_checkpoint.py>
            Tests for checkpoint flow in Aurora Planning System.
            
            This module tests the checkpoint flow that displays a decomposition
            summary and prompts the user for confirmation before generating plan files.
            
            Test Coverage:
            - DecompositionSummary model validation
            - Summary display formatting with Rich
            - Confirmation prompt handling (Y/n/invalid/Ctrl+C)
            - Non-interactive mode (--yes flag)
            <Class TestDecompositionSummaryModel>
              Test DecompositionSummary model validation.
              <Function test_valid_summary>
                Test valid decomposition summary creation.
              <Function test_empty_subgoals_invalid>
                Test that empty subgoals list is invalid.
              <Function test_invalid_confidence_score>
                Test that confidence score must be between 0.0 and 1.0.
              <Function test_invalid_decomposition_source>
                Test that decomposition_source must be 'soar' or 'heuristic'.
              <Function test_warnings_defaults_to_empty_list>
                Test that warnings defaults to empty list.
            <Class TestSummaryDisplay>
              Test summary display formatting.
              <Function test_display_method_exists>
                Test that display method exists on DecompositionSummary.
            <Class TestConfirmationPrompt>
              Test confirmation prompt functionality.
              <Function test_prompt_yes_returns_true>
                Test that 'Y' input returns True.
              <Function test_prompt_y_lowercase_returns_true>
                Test that 'y' input returns True.
              <Function test_prompt_enter_returns_true>
                Test that pressing Enter (empty input) returns True.
              <Function test_prompt_no_returns_false>
                Test that 'n' input returns False.
              <Function test_prompt_N_uppercase_returns_false>
                Test that 'N' input returns False.
              <Function test_prompt_invalid_then_valid>
                Test that invalid input prompts retry.
              <Function test_prompt_keyboard_interrupt_returns_false>
                Test that Ctrl+C (KeyboardInterrupt) returns False gracefully.
            <Class TestNonInteractiveMode>
              Test non-interactive mode functionality.
              <Function test_yes_flag_skips_prompt>
                Test that yes=True skips confirmation prompt.
              <Function test_non_interactive_flag_alias>
                Test that non_interactive=True works as alias for yes=True.
              <Function test_interactive_mode_prompts>
                Test that yes=False (default) prompts user.
          <Module test_decompose.py>
            Unit tests for PlanDecomposer class.
            
            Tests the integration of SOAR decomposition into the planning workflow,
            including context building, agent loading, and graceful fallback.
            <Class TestPlanDecomposer>
              Tests for PlanDecomposer class.
              <Function test_decomposer_initialization>
                Test that PlanDecomposer can be instantiated with config.
              <Function test_decomposer_initialization_with_config>
                Test PlanDecomposer initialization with explicit config.
              <Function test_decomposer_has_required_methods>
                Verify all required methods exist on PlanDecomposer.
            <Class TestPlanDecomposerSOARIntegration>
              Tests for SOAR decompose_query integration.
              <Function test_decompose_with_soar_success>
                Test successful SOAR decomposition.
              <Function test_decompose_soar_unavailable_fallback>
                Test fallback to heuristics when SOAR raises ImportError.
              <Function test_decompose_soar_timeout>
                Test timeout handling for SOAR calls.
              <Function test_decompose_caching>
                Test that decomposition results are cached.
            <Class TestContextSummaryBuilding>
              Tests for context summary building (FR-2.2).
              <Function test_build_context_summary_with_code_chunks>
                Test context summary format with code chunks.
              <Function test_build_context_summary_with_reasoning_chunks>
                Test context summary format with reasoning chunks.
              <Function test_build_context_summary_with_both_chunk_types>
                Test context summary with both code and reasoning chunks.
              <Function test_build_context_summary_empty>
                Test context summary with no chunks returns special message.
              <Function test_build_context_summary_missing_keys>
                Test context summary handles missing keys gracefully.
            <Class TestAvailableAgentsList>
              Tests for available agents list loading (FR-2.3).
              <Function test_load_available_agents>
                Test loading available agents from manifest.
              <Function test_load_available_agents_manifest_unavailable>
                Test graceful handling when manifest unavailable.
              <Function test_load_available_agents_empty_manifest>
                Test handling of empty manifest.
            <Class TestComplexityMapping>
              Tests for complexity assessment and mapping (FR-2.4).
              <Function test_complexity_passed_to_soar>
                Test that complexity is correctly passed to SOAR.
              <Function test_complexity_fallback_heuristic>
                Test that heuristic decomposition uses complexity correctly.
              <Function test_complexity_enum_value_mapping>
                Test that Complexity enum values map correctly to SOAR strings.
            <Class TestFileResolutionIntegration>
              Tests for file path resolution integration (Task 3.6).
              <Function test_file_resolution_called_for_subgoals>
                Test that file resolution is called for each subgoal.
              <Function test_file_resolution_graceful_degradation>
                Test graceful degradation when memory not indexed.
            <Class TestAgentRecommendationIntegration>
              Tests for agent recommendation integration (Task 4.7).
              <Function test_agent_recommendation_called_for_subgoals>
                Test that agent recommendation is called for each subgoal.
              <Function test_agent_gaps_detected>
                Test that agent gaps are detected for low-scoring matches.
          <Module test_enhanced_generation.py>
            Tests for enhanced plan file generation with code-aware content.
            
            This module tests the enhanced template rendering that includes:
            - File paths with confidence scores in tasks.md
            - Agent gaps and file resolutions in agents.json
            - ASCII dependency graphs in plan.md
            <Class TestEnhancedTasksGeneration>
              Test enhanced tasks.md generation with file paths.
              <Function test_tasks_md_includes_file_paths_high_confidence>
                Test tasks.md includes file paths for high confidence resolutions.
              <Function test_tasks_md_includes_medium_confidence_marker>
                Test tasks.md marks medium confidence files with (suggested).
              <Function test_tasks_md_includes_low_confidence_marker>
                Test tasks.md marks low confidence files with (low confidence).
              <Function test_tasks_md_handles_missing_file_resolutions>
                Test tasks.md shows TBD message when no files resolved.
              <Function test_tasks_md_groups_by_subgoal>
                Test tasks.md groups tasks by subgoal.
            <Class TestEnhancedAgentsJsonGeneration>
              Test enhanced agents.json generation with gaps and file resolutions.
              <Function test_agents_json_includes_decomposition_source>
                Test agents.json includes decomposition_source field.
              <Function test_agents_json_includes_context_summary>
                Test agents.json includes context_summary field.
              <Function test_agents_json_includes_agent_gaps>
                Test agents.json includes agent_gaps array.
              <Function test_agents_json_includes_file_resolutions>
                Test agents.json includes file_resolutions map.
            <Class TestEnhancedPlanMdGeneration>
              Test enhanced plan.md generation with dependency graph.
              <Function test_plan_md_includes_dependency_graph_section>
                Test plan.md includes ASCII dependency graph section.
              <Function test_plan_md_shows_linear_dependencies>
                Test plan.md shows linear dependency chain.
              <Function test_plan_md_shows_parallel_dependencies>
                Test plan.md shows parallel dependencies.
            <Class TestBuildContextEnhanced>
              Test build_context() includes all new fields.
              <Function test_build_context_includes_decomposition_source>
                Test build_context includes decomposition_source.
              <Function test_build_context_includes_context_summary>
                Test build_context includes context_summary.
              <Function test_build_context_includes_all_new_fields>
                Test build_context includes all new Plan fields.
          <Module test_file_path_resolver.py>
            Unit tests for FilePathResolver class.
            
            Tests memory-based file path resolution for subgoals.
            <Class TestFilePathResolver>
              Test suite for FilePathResolver.
              <Function test_resolver_initialization>
                Test FilePathResolver can be instantiated with config.
              <Function test_resolver_initialization_defaults>
                Test FilePathResolver can be instantiated with defaults.
              <Function test_resolve_paths_with_indexed_memory>
                Test file path resolution when memory is indexed.
              <Function test_line_range_extraction>
                Test line numbers are extracted correctly from chunks.
              <Function test_resolve_paths_memory_not_indexed>
                Test graceful degradation when memory not indexed.
              <Function test_confidence_score_formatting>
                Test confidence score formatting for display.
              <Function test_graceful_degradation>
                Test plan still generates when memory not indexed.
              <Function test_has_indexed_memory>
                Test has_indexed_memory delegates to retriever.
              <Function test_format_path_with_confidence_no_line_numbers>
                Test formatting when line numbers not available.
          <Package validation>
            <Module test_constants.py>
              Unit tests for validation constants module.
              
              Tests that validation thresholds and messages are defined correctly
              and accessible for use in validation logic.
              <Class TestValidationThresholds>
                Tests for validation threshold constants.
                <Function test_min_thresholds_are_positive>
                  Verify all minimum thresholds are positive integers.
                <Function test_max_thresholds_are_positive>
                  Verify all maximum thresholds are positive integers.
                <Function test_min_max_relationship>
                  Verify minimum thresholds are less than maximum thresholds.
                <Function test_threshold_values>
                  Verify specific threshold values match expected.
              <Class TestValidationMessages>
                Tests for VALIDATION_MESSAGES class.
                <Function test_required_content_messages_exist>
                  Verify all required content validation messages are defined.
                <Function test_warning_messages_exist>
                  Verify all warning validation messages are defined.
                <Function test_guidance_messages_exist>
                  Verify all guidance messages are defined.
                <Function test_messages_are_non_empty_strings>
                  Verify all messages are non-empty strings.
                <Function test_aurora_terminology_used>
                  Verify messages use Aurora terminology, not OpenSpec terms.
                <Function test_messages_include_threshold_values>
                  Verify messages that reference thresholds include the actual values.
                <Function test_guidance_messages_provide_actionable_help>
                  Verify guidance messages provide actionable remediation steps.
                <Function test_no_openspec_specific_references>
                  Verify no OpenSpec-specific directory references remain.
            <Module test_types.py>
              Unit tests for validation types module.
              
              Tests ValidationLevel, ValidationIssue, ValidationSummary, and ValidationReport
              Pydantic models to ensure correct validation and serialization.
              <Class TestValidationLevel>
                Tests for ValidationLevel enum.
                <Function test_validation_level_values>
                  Verify ValidationLevel has correct enum values.
                <Function test_validation_level_string_comparison>
                  Verify ValidationLevel can be compared as strings.
              <Class TestValidationIssue>
                Tests for ValidationIssue model.
                <Function test_validation_issue_creation_minimal>
                  Test creating a ValidationIssue with minimal required fields.
                <Function test_validation_issue_creation_full>
                  Test creating a ValidationIssue with all fields.
                <Function test_validation_issue_missing_required_field>
                  Test ValidationIssue raises error when required field missing.
                <Function test_validation_issue_invalid_level>
                  Test ValidationIssue raises error with invalid level.
                <Function test_validation_issue_serialization>
                  Test ValidationIssue can be serialized to dict.
                <Function test_validation_issue_json_serialization>
                  Test ValidationIssue can be serialized to JSON.
              <Class TestValidationSummary>
                Tests for ValidationSummary model.
                <Function test_validation_summary_default_values>
                  Test ValidationSummary initializes with zero counts.
                <Function test_validation_summary_with_values>
                  Test ValidationSummary with explicit counts.
                <Function test_validation_summary_serialization>
                  Test ValidationSummary serialization.
              <Class TestValidationReport>
                Tests for ValidationReport model.
                <Function test_validation_report_empty>
                  Test ValidationReport with no issues.
                <Function test_validation_report_with_errors>
                  Test ValidationReport with error issues.
                <Function test_validation_report_with_mixed_issues>
                  Test ValidationReport with mixed issue levels.
                <Function test_validation_report_summary_auto_computed>
                  Test that ValidationReport.summary is auto-computed from issues.
                <Function test_validation_report_serialization>
                  Test ValidationReport serialization includes summary.
                <Function test_validation_report_json_serialization>
                  Test ValidationReport JSON serialization.
                <Function test_validation_report_deserialization>
                  Test ValidationReport can be deserialized from dict.
        <Module test_agent_manifest.py>
          Unit tests for ManifestManager module.
          
          Tests manifest generation, caching, de-duplication, and auto-refresh
          functionality for agent discovery.
          <Class TestManifestManagerGenerate>
            Tests for generate method.
            <Function test_generate_from_sources>
              Generates manifest from agent files in sources.
            <Function test_generate_handles_malformed_files>
              Counts malformed files and continues with valid ones.
            <Function test_generate_deduplicates_by_id>
              Warns and skips duplicate agent IDs.
            <Function test_generate_empty_sources>
              Handles empty source directories.
            <Function test_generate_includes_sources_in_manifest>
              Records source paths in manifest.
            <Function test_generate_sets_generated_at>
              Sets generated_at timestamp.
          <Class TestManifestManagerSaveLoad>
            Tests for save and load methods.
            <Function test_save_and_load_roundtrip>
              Manifest survives save/load roundtrip.
            <Function test_save_creates_directory>
              Creates parent directories if they don't exist.
            <Function test_save_atomic_write>
              Uses atomic write (temp file + rename).
            <Function test_load_returns_none_for_missing_file>
              Returns None for nonexistent file.
            <Function test_load_returns_none_for_invalid_json>
              Returns None and warns for invalid JSON.
            <Function test_load_returns_none_for_invalid_manifest>
              Returns None and warns for valid JSON but invalid manifest.
          <Class TestManifestManagerShouldRefresh>
            Tests for should_refresh method.
            <Function test_refresh_needed_if_missing>
              Refresh needed if manifest doesn't exist.
            <Function test_refresh_needed_if_old>
              Refresh needed if manifest is older than interval.
            <Function test_no_refresh_needed_if_fresh>
              No refresh needed if manifest is recent.
          <Class TestManifestManagerGetOrRefresh>
            Tests for get_or_refresh method.
            <Function test_loads_existing_manifest_if_fresh>
              Loads existing manifest without regeneration if fresh.
            <Function test_regenerates_if_missing>
              Regenerates manifest if file missing.
            <Function test_skips_refresh_check_when_disabled>
              Skips staleness check when auto_refresh=False.
          <Class TestShouldRefreshManifestFunction>
            Tests for should_refresh_manifest helper function.
            <Function test_uses_config_auto_refresh>
              Uses config auto_refresh setting.
            <Function test_uses_config_interval>
              Uses config refresh_interval_hours setting.
          <Class TestManifestIndexes>
            Tests for manifest index functionality.
            <Function test_get_agent_by_id>
              Gets agent by ID from manifest index.
            <Function test_get_agent_case_insensitive>
              ID lookup is case-insensitive.
            <Function test_get_agents_by_category>
              Gets all agents in a category.
        <Module test_agent_parser.py>
          Unit tests for AgentParser module.
          
          Tests frontmatter extraction, Pydantic validation, and graceful
          degradation for malformed agent files.
          <Class TestAgentParserParseFile>
            Tests for parse_file method.
            <Function test_parse_valid_agent>
              Parses valid agent file with all fields.
            <Function test_parse_minimal_agent>
              Parses agent with only required fields.
            <Function test_returns_none_for_missing_file>
              Returns None and warns for missing file.
            <Function test_returns_none_for_directory>
              Returns None and warns when path is directory.
            <Function test_returns_none_for_no_frontmatter>
              Returns None and warns when no frontmatter present.
            <Function test_returns_none_for_missing_required_fields>
              Returns None and warns when required fields missing.
              
              Note: 'role' is auto-derived from 'id' if missing, so only 'goal'
              will be reported as missing when id is provided.
            <Function test_returns_none_for_invalid_id>
              Returns None and warns for invalid kebab-case ID.
            <Function test_returns_none_for_invalid_yaml>
              Returns None and warns for invalid YAML syntax.
            <Function test_handles_extra_fields>
              Ignores extra fields not in schema.
            <Function test_normalizes_category>
              Normalizes various category values.
          <Class TestAgentParserParseContent>
            Tests for parse_content method.
            <Function test_parse_valid_content>
              Parses valid content string.
            <Function test_parse_content_with_source_file>
              Includes source_file when provided.
            <Function test_returns_none_for_missing_frontmatter>
              Returns None for content without frontmatter.
          <Class TestAgentParserExtractFrontmatter>
            Tests for extract_frontmatter method.
            <Function test_extract_raw_frontmatter>
              Extracts raw frontmatter dict without validation.
            <Function test_returns_none_for_missing_file>
              Returns None for missing file.
            <Function test_returns_none_for_no_frontmatter>
              Returns None when no frontmatter present.
          <Class TestAgentParserEdgeCases>
            Tests for edge cases and special scenarios.
            <Function test_handles_unicode_content>
              Handles Unicode characters in agent content.
            <Function test_handles_multiline_goal>
              Handles multiline goal field.
            <Function test_handles_empty_skills_list>
              Handles explicitly empty skills list.
            <Function test_normalizes_single_skill_string>
              Converts single skill string to list.
            <Function test_normalizes_id_to_lowercase>
              Normalizes ID to lowercase.
        <Module test_agent_scanner.py>
          Unit tests for AgentScanner module.
          
          Tests multi-source agent file discovery with graceful handling
          of missing directories and various file patterns.
          <Class TestAgentScannerInit>
            Tests for AgentScanner initialization.
            <Function test_default_paths>
              Scanner uses default paths when none provided.
            <Function test_custom_paths>
              Scanner accepts custom discovery paths.
            <Function test_empty_paths>
              Scanner handles empty path list.
          <Class TestAgentScannerDiscoverSources>
            Tests for discover_sources method.
            <Function test_discover_existing_directory>
              Discovers existing directories.
            <Function test_skip_missing_directories>
              Skips directories that don't exist.
            <Function test_skip_files_not_directories>
              Skips paths that are files, not directories.
            <Function test_expand_tilde>
              Expands tilde to home directory.
            <Function test_logs_missing_directories>
              Logs debug message for missing directories.
          <Class TestAgentScannerScanDirectory>
            Tests for scan_directory method.
            <Function test_find_md_files>
              Finds .md files in directory.
            <Function test_find_markdown_extension>
              Finds .markdown files too.
            <Function test_case_insensitive_extension>
              Handles case variations in extensions.
            <Function test_sorted_output>
              Returns files sorted alphabetically.
            <Function test_skip_subdirectories>
              Does not recurse into subdirectories.
            <Function test_empty_directory>
              Handles empty directory gracefully.
            <Function test_nonexistent_directory>
              Warns and yields nothing for nonexistent directory.
          <Class TestAgentScannerScanAllSources>
            Tests for scan_all_sources method.
            <Function test_scan_multiple_sources>
              Scans all source directories.
            <Function test_no_sources_logs_info>
              Logs info when no sources found.
          <Class TestAgentScannerStats>
            Tests for get_source_stats method.
            <Function test_stats_per_source>
              Returns count per source directory.
            <Function test_empty_stats>
              Returns empty stats when no sources exist.
          <Class TestDefaultDiscoveryPaths>
            Tests for default path configuration.
            <Function test_default_paths_list>
              Default paths include all expected directories.
            <Function test_supported_extensions>
              Supported extensions include .md and .markdown.
        <Module test_agents_commands.py>
          Unit tests for agent discovery CLI commands.
          
          Tests the aur agents command group including list, search, show, and refresh.
          <Class TestAgentsListCommand>
            Tests for aur agents list command.
            <Function test_list_all_agents>
              Lists all agents grouped by category.
            <Function test_list_filter_by_category>
              Lists only agents in specified category.
            <Function test_list_empty_manifest>
              Shows message when no agents found.
            <Function test_list_simple_format>
              Lists agents with simple (non-Rich) format.
          <Class TestAgentsSearchCommand>
            Tests for aur agents search command.
            <Function test_search_by_keyword>
              Searches and finds agents matching keyword.
            <Function test_search_no_results>
              Shows message when no agents match.
            <Function test_search_with_limit>
              Respects result limit.
          <Class TestAgentsShowCommand>
            Tests for aur agents show command.
            <Function test_show_existing_agent>
              Shows full details for existing agent.
            <Function test_show_nonexistent_agent>
              Shows error and suggestions for nonexistent agent.
            <Function test_show_case_insensitive>
              Agent lookup is case-insensitive.
          <Class TestAgentsRefreshCommand>
            Tests for aur agents refresh command.
            <Function test_refresh_regenerates_manifest>
              Refresh regenerates the manifest.
          <Class TestSearchAgentsFunction>
            Tests for _search_agents helper function.
            <Function test_exact_id_match_highest_priority>
              Exact ID matches rank highest.
            <Function test_partial_id_match>
              Partial ID matches rank high.
            <Function test_role_match>
              Role matches are found.
            <Function test_skill_match>
              Skill matches are found.
            <Function test_respects_limit>
              Respects maximum result limit.
          <Class TestFindSimilarAgentsFunction>
            Tests for _find_similar_agents helper function.
            <Function test_finds_similar_ids>
              Finds agents with similar IDs.
            <Function test_returns_top_5>
              Returns at most 5 suggestions.
          <Class TestTruncateFunction>
            Tests for _truncate helper function.
            <Function test_truncate_long_text>
              Truncates text longer than max.
            <Function test_no_truncate_short_text>
              Does not truncate short text.
          <Class TestGetManifest>
            Tests for get_manifest function.
            <Function test_loads_manifest>
              Loads manifest from cache.
            <Function test_force_refresh>
              Force refresh regenerates manifest.
          <Class TestAgentsCommandHelp>
            Tests for command help text.
            <Function test_agents_group_help>
              Shows help for agents command group.
            <Function test_list_command_help>
              Shows help for list command.
            <Function test_search_command_help>
              Shows help for search command.
            <Function test_show_command_help>
              Shows help for show command.
        <Module test_config.py>
          Tests for AI_TOOLS configuration constant.
          
          This test module verifies that the AI_TOOLS configuration constant is properly
          defined with all 20 AI coding tools and required metadata.
          
          Test-Driven Development (TDD):
          - These tests are written FIRST (RED phase)
          - Implementation in config.py comes SECOND (GREEN phase)
          <Class TestAIToolsConstant>
            Test AI_TOOLS configuration constant structure and content.
            <Function test_ai_tools_is_list_of_20_dicts>
              AI_TOOLS should be a list of exactly 20 dictionaries.
            <Function test_each_tool_has_required_keys>
              Each tool dict should have name, value, and available keys.
            <Function test_tool_value_matches_registry_tool_ids>
              Tool 'value' field should match SlashCommandRegistry tool IDs.
            <Function test_all_tools_have_available_true>
              All tools should have available: True (all are always available per PRD).
            <Function test_tool_name_is_non_empty_string>
              Tool 'name' field should be a non-empty string.
            <Function test_tool_value_is_non_empty_string>
              Tool 'value' field should be a non-empty string (the tool_id).
            <Function test_all_20_expected_tools_present>
              AI_TOOLS should include all 20 expected AI coding tools.
            <Function test_tool_names_are_human_readable>
              Tool names should be human-readable display names (not just IDs).
            <Function test_ai_tools_can_be_imported_from_config>
              AI_TOOLS should be importable from aurora_cli.config.
            <Function test_no_duplicate_tool_ids>
              AI_TOOLS should not have duplicate tool IDs (values).
            <Function test_no_duplicate_tool_names>
              AI_TOOLS should not have duplicate tool names.
        <Module test_config_paths.py>
          Tests for config.py path changes (project-specific vs global).
          
          This test module verifies that Aurora configuration uses project-specific paths
          for all files except budget_tracker.json.
          
          Test-Driven Development (TDD):
          - These tests are written FIRST (RED phase)
          - Implementation in config.py comes SECOND (GREEN phase)
          <Class TestConfigDefaultPaths>
            Test that default Config dataclass paths are project-specific.
            <Function test_logging_file_is_project_specific>
              Logging file should be in ./.aurora/logs/aurora.log (project-specific).
            <Function test_mcp_log_file_is_project_specific>
              MCP log file should be in ./.aurora/logs/mcp.log (project-specific).
            <Function test_db_path_is_project_specific>
              Database path should be ./.aurora/memory.db (project-specific).
            <Function test_agents_manifest_path_is_project_specific>
              Agent manifest should be in ./.aurora/cache/agent_manifest.json (project-specific).
            <Function test_planning_base_dir_is_project_specific>
              Planning base directory should be ./.aurora/plans (project-specific).
            <Function test_budget_tracker_path_is_global>
              Budget tracker should remain global at ~/.aurora/budget_tracker.json.
          <Class TestConfigSchemaDefaultPaths>
            Test that CONFIG_SCHEMA nested structure uses project-specific paths.
            <Function test_schema_logging_file_is_project_specific>
              CONFIG_SCHEMA logging.file should be project-specific.
            <Function test_schema_mcp_log_file_is_project_specific>
              CONFIG_SCHEMA mcp.log_file should be project-specific.
            <Function test_schema_database_path_is_project_specific>
              CONFIG_SCHEMA database.path should be project-specific.
            <Function test_schema_agents_manifest_path_is_project_specific>
              CONFIG_SCHEMA agents.manifest_path should be project-specific.
            <Function test_schema_planning_base_dir_is_project_specific>
              CONFIG_SCHEMA planning.base_dir should be project-specific.
            <Function test_schema_budget_tracker_path_is_global>
              CONFIG_SCHEMA budget.tracker_path should remain global.
          <Class TestConfigPathExpansion>
            Test that path expansion works correctly for project-specific paths.
            <Function test_get_db_path_expands_relative_to_absolute>
              get_db_path() should expand ./.aurora/memory.db to absolute path.
            <Function test_get_manifest_path_expands_relative_to_absolute>
              get_manifest_path() should expand project-specific path to absolute.
            <Function test_get_plans_path_expands_relative_to_absolute>
              get_plans_path() should expand project-specific path to absolute.
            <Function test_path_expansion_uses_current_directory>
              Project-specific paths should resolve relative to current directory.
          <Class TestLoadConfigWithProjectPaths>
            Test that load_config() handles project-specific paths correctly.
            <Function test_load_config_defaults_to_project_paths>
              load_config() with no file should use project-specific defaults.
            <Function test_load_config_with_env_override_aurora_plans_dir>
              AURORA_PLANS_DIR environment variable should override planning_base_dir.
            <Function test_load_config_from_file_respects_project_paths>
              Config file with project-specific paths should be loaded correctly.
          <Class TestConfigValidationWithProjectPaths>
            Test that validation works with project-specific paths.
            <Function test_validate_allows_project_specific_db_path>
              Validation should accept project-specific database path.
            <Function test_validate_allows_project_specific_planning_base_dir>
              Validation should accept project-specific planning directory.
            <Function test_validate_rejects_empty_db_path>
              Validation should reject empty database path.
            <Function test_validate_rejects_empty_planning_base_dir>
              Validation should reject empty planning base directory.
          <Class TestBackwardsCompatibility>
            Test backwards compatibility with old global paths.
            <Function test_config_accepts_old_global_paths>
              Config should still accept old global paths (for migration).
            <Function test_load_config_handles_global_paths_in_file>
              load_config() should handle config files with old global paths.
        <Module test_configurators.py>
          Tests for tool configurators.
          <Class TestToolRegistry>
            Tests for ToolRegistry.
            <Function test_get_all_returns_all_configurators>
              Test that get_all returns all registered configurators.
            <Function test_get_available_returns_only_available>
              Test that get_available returns only available configurators.
            <Function test_get_by_id_claude>
              Test getting Claude configurator by ID.
            <Function test_get_by_id_opencode>
              Test getting OpenCode configurator by ID.
            <Function test_get_by_id_ampcode>
              Test getting AmpCode configurator by ID.
            <Function test_get_by_id_droid>
              Test getting Droid configurator by ID.
            <Function test_get_by_id_invalid_returns_none>
              Test that invalid tool ID returns None.
            <Function test_register_new_configurator>
              Test registering a custom configurator.
          <Class TestClaudeConfigurator>
            Tests for ClaudeConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Coroutine test_get_template_content>
              Test template content generation.
            <Coroutine test_configure_creates_file>
              Test that configure creates CLAUDE.md file.
            <Coroutine test_configure_creates_slash_commands>
              Test that configure creates slash command files.
            <Coroutine test_configure_updates_existing_file>
              Test that configure updates existing file with markers.
          <Class TestOpenCodeConfigurator>
            Tests for OpenCodeConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Coroutine test_get_template_content>
              Test template content generation.
          <Class TestAmpCodeConfigurator>
            Tests for AmpCodeConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Coroutine test_get_template_content>
              Test template content generation.
          <Class TestDroidConfigurator>
            Tests for DroidConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Coroutine test_get_template_content>
              Test template content generation.
          <Class TestAgentsStandardConfigurator>
            Tests for AgentsStandardConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Coroutine test_get_template_content>
              Test template content generation.
            <Coroutine test_configure_creates_root_agents_md>
              Test that configure creates root AGENTS.md file.
          <Class TestClaudeCommandsConfigurator>
            Tests for ClaudeCommandsConfigurator.
            <Function test_properties>
              Test configurator properties.
            <Function test_get_command_list>
              Test getting list of available commands.
            <Coroutine test_configure_creates_command_files>
              Test that configure creates all command files.
            <Coroutine test_configure_updates_existing_command>
              Test that configure updates existing command file.
        <Module test_doctor.py>
          Unit tests for doctor CLI command.
          
          Tests the `aur doctor` command that performs health checks and auto-repair.
          <Class TestDoctorCommandBasics>
            Test basic doctor command functionality.
            <Function test_help_text>
              Test help text displays correctly.
            <Function test_doctor_command_exists>
              Test doctor command is registered.
          <Class TestHealthCheckCategories>
            Test health check category execution.
            <Function test_all_categories_run>
              Test all four health check categories are executed.
          <Class TestHealthCheckOutput>
            Test health check output formatting.
            <Function test_output_shows_status_indicators>
              Test output displays status indicators (checkmark, warning, X).
            <Function test_output_shows_summary_line>
              Test output displays summary line with counts.
          <Class TestHealthCheckExitCodes>
            Test health check exit codes.
            <Function test_exit_code_0_all_pass>
              Test exit code 0 when all checks pass.
            <Function test_exit_code_1_with_warnings>
              Test exit code 1 when there are warnings but no failures.
            <Function test_exit_code_2_with_failures>
              Test exit code 2 when there are failures.
          <Class TestCoreSystemChecks>
            Test CoreSystemChecks class.
            <Function test_core_system_checks_class_exists>
              Test CoreSystemChecks class can be imported.
            <Function test_cli_version_check>
              Test CLI version check.
            <Function test_database_existence_check>
              Test database existence check.
          <Class TestCodeAnalysisChecks>
            Test CodeAnalysisChecks class.
            <Function test_code_analysis_checks_class_exists>
              Test CodeAnalysisChecks class can be imported.
            <Function test_tree_sitter_check>
              Test tree-sitter availability check.
          <Class TestSearchRetrievalChecks>
            Test SearchRetrievalChecks class.
            <Function test_search_retrieval_checks_class_exists>
              Test SearchRetrievalChecks class can be imported.
            <Function test_vector_store_check>
              Test vector store check.
          <Class TestConfigurationChecks>
            Test ConfigurationChecks class.
            <Function test_configuration_checks_class_exists>
              Test ConfigurationChecks class can be imported.
            <Function test_config_file_check>
              Test config file check.
          <Class TestDoctorFixFlag>
            Test doctor --fix auto-repair functionality.
            <Function test_fix_flag_exists>
              Test --fix flag is recognized.
            <Function test_fix_prompts_before_changes>
              Test --fix prompts user before making changes.
            <Function test_fix_accepts_user_input>
              Test --fix accepts user confirmation.
            <Function test_fix_skips_when_declined>
              Test --fix skips fixes when user declines.
            <Function test_fix_shows_manual_instructions>
              Test --fix shows manual instructions for non-fixable issues.
        <Module test_error_handler.py>
          Unit tests for AURORA CLI error handling.
          
          Tests the ErrorHandler class and @handle_errors decorator to ensure
          proper formatting and display of various error types.
          <Class TestErrorHandler>
            Test the ErrorHandler class static methods.
            <Function test_handle_api_error_401>
              Test API error handling for 401 Unauthorized.
            <Function test_handle_api_error_429>
              Test API error handling for 429 Rate Limit.
            <Function test_handle_api_error_500>
              Test API error handling for 500 Server Error.
            <Function test_handle_api_error_network>
              Test API error handling for network errors.
            <Function test_handle_config_error_permission>
              Test config error handling for PermissionError.
            <Function test_handle_config_error_json_decode>
              Test config error handling for JSONDecodeError.
            <Function test_handle_config_error_missing_file>
              Test config error handling for missing config file.
            <Function test_handle_config_error_invalid_value>
              Test config error handling for invalid config values.
            <Function test_handle_config_error_missing_api_key>
              Test config error handling for missing API key.
            <Function test_handle_memory_error_locked>
              Test memory error handling for database locked.
            <Function test_handle_memory_error_corrupted>
              Test memory error handling for corrupted database.
            <Function test_handle_memory_error_permission>
              Test memory error handling for permission errors.
            <Function test_handle_memory_error_disk_full>
              Test memory error handling for disk full errors.
            <Function test_handle_schema_error>
              Test schema error handling.
            <Function test_handle_schema_error_without_version_attrs>
              Test schema error handling when error doesn't have version attrs.
            <Function test_handle_budget_error>
              Test budget error handling.
            <Function test_handle_path_error_not_found>
              Test path error handling for FileNotFoundError.
            <Function test_handle_path_error_permission>
              Test path error handling for PermissionError.
            <Function test_handle_path_error_is_directory>
              Test path error handling for IsADirectoryError.
            <Function test_redact_api_key>
              Test API key redaction.
            <Function test_redact_api_key_short>
              Test API key redaction for short keys.
            <Function test_redact_api_key_empty>
              Test API key redaction for empty string.
          <Class TestHandleErrorsDecorator>
            Test the @handle_errors decorator.
            <Function test_decorator_catches_exception>
              Test that decorator catches and handles exceptions.
            <Function test_decorator_debug_mode_shows_traceback>
              Test that decorator shows traceback in debug mode.
            <Function test_decorator_respects_aurora_debug_env>
              Test that decorator respects AURORA_DEBUG environment variable.
            <Function test_decorator_system_error_exit_code>
              Test that decorator uses EXIT_SYSTEM_ERROR for system errors.
            <Function test_decorator_user_error_exit_code>
              Test that decorator uses EXIT_USER_ERROR for user errors.
            <Function test_decorator_handles_permission_error>
              Test that decorator handles PermissionError with system exit code.
            <Function test_decorator_handles_file_not_found>
              Test that decorator handles FileNotFoundError with user exit code.
            <Function test_decorator_handles_schema_mismatch_error>
              Test that decorator handles SchemaMismatchError with system exit code.
            <Function test_decorator_reraises_click_abort>
              Test that decorator re-raises click.Abort.
              
              Note: Click's context manager converts Abort to SystemExit(1),
              so we test that the Abort is properly re-raised by the decorator
              and then caught by Click.
          <Class TestExitCodes>
            Test exit code constants are properly defined.
            <Function test_exit_codes_defined>
              Test that exit code constants are defined.
        <Module test_escalation.py>
          Unit tests for auto-escalation handler.
          
          This module tests the auto-escalation functionality including:
          - Complexity assessment using Phase 2 keyword classifier
          - Escalation threshold configuration
          - Routing decisions (direct LLM vs AURORA)
          - Transparent escalation
          <Class TestEscalationConfig>
            Tests for EscalationConfig class.
            <Function test_config_defaults>
              Test default configuration values.
            <Function test_config_custom_threshold>
              Test custom threshold configuration.
            <Function test_config_invalid_threshold_low>
              Test validation for threshold below 0.0.
            <Function test_config_invalid_threshold_high>
              Test validation for threshold above 1.0.
            <Function test_config_force_both_modes>
              Test validation for forcing both modes simultaneously.
            <Function test_config_keyword_only_mode>
              Test keyword-only mode configuration.
            <Function test_config_llm_verification_mode>
              Test LLM verification mode configuration.
          <Class TestEscalationResult>
            Tests for EscalationResult dataclass.
            <Function test_result_creation>
              Test creation of EscalationResult.
          <Class TestAutoEscalationHandler>
            Tests for AutoEscalationHandler class.
            <Function test_handler_initialization_defaults>
              Test handler initialization with defaults.
            <Function test_handler_initialization_custom_config>
              Test handler initialization with custom config.
            <Function test_handler_initialization_with_llm>
              Test handler initialization with LLM client.
            <Function test_assess_query_simple>
              Test assessment of simple query routes to direct LLM.
            <Function test_assess_query_medium>
              Test assessment of medium query (borderline).
            <Function test_assess_query_complex>
              Test assessment of complex query routes to AURORA.
            <Function test_assess_query_critical>
              Test assessment of critical query routes to AURORA.
            <Function test_assess_query_custom_threshold>
              Test assessment with custom threshold.
            <Function test_assess_query_force_aurora>
              Test forced AURORA mode.
            <Function test_assess_query_force_direct>
              Test forced direct LLM mode.
            <Function test_assess_query_at_threshold>
              Test assessment exactly at threshold.
            <Function test_assess_query_keyword_only>
              Test assessment with keyword-only mode.
            <Function test_assess_query_with_llm_verification>
              Test assessment with LLM verification enabled.
            <Function test_complexity_to_score_mapping>
              Test complexity level to score mapping.
            <Function test_should_use_aurora_simple>
              Test should_use_aurora convenience method for simple query.
            <Function test_should_use_aurora_complex>
              Test should_use_aurora convenience method for complex query.
            <Function test_get_execution_mode_direct>
              Test get_execution_mode for direct LLM.
            <Function test_get_execution_mode_aurora>
              Test get_execution_mode for AURORA.
            <Function test_transparent_escalation_simple_to_direct>
              Test transparent escalation from simple query to direct LLM.
            <Function test_transparent_escalation_complex_to_aurora>
              Test transparent escalation from complex query to AURORA.
          <Class TestEscalationIntegration>
            Integration tests for escalation with real keyword classifier.
            <Function test_real_simple_query>
              Test real simple query without mocks.
            <Function test_real_complex_query>
              Test real complex query without mocks.
            <Function test_real_security_query>
              Test real security-related query without mocks.
            <Function test_real_borderline_query>
              Test real borderline complexity query without mocks.
        <Module test_first_run_welcome.py>
          Unit tests for first-run welcome message.
          
          Tests the welcome message displayed when user runs aur for the first time.
          <Class TestFirstRunWelcome>
            Test first-run welcome message functionality.
            <Function test_shows_welcome_when_no_config>
              Test welcome message displays when config doesn't exist.
            <Function test_no_welcome_when_config_exists>
              Test welcome message doesn't show when config exists.
            <Function test_no_welcome_with_subcommand>
              Test welcome message doesn't show when running a subcommand.
            <Function test_shows_welcome_when_directory_exists_but_no_config>
              Test welcome shows when .aurora exists but config doesn't.
          <Class TestHelpTextUpdates>
            Test that help text includes new commands.
            <Function test_help_mentions_doctor>
              Test help text mentions aur doctor command.
            <Function test_help_mentions_version>
              Test help text mentions aur version command.
            <Function test_help_shows_doctor_example>
              Test help text shows doctor command examples.
            <Function test_help_shows_version_in_common_commands>
              Test version appears in common commands section.
        <Module test_headless_simple.py>
          Tests for simplified headless command (pipe-to-CLI approach).
          <Class TestHeadlessValidation>
            Test validation (prompt exists, tool exists, git safety).
            <Function test_missing_prompt_fails>
              Test that missing prompt file causes failure.
            <Function test_missing_tool_fails>
              Test that missing tool causes failure.
            <Function test_blocks_main_branch_by_default>
              Test that main branch is blocked by default.
            <Function test_allows_main_with_flag>
              Test that --allow-main overrides branch check.
          <Class TestHeadlessExecution>
            Test execution loop and piping.
            <Function test_single_iteration_success>
              Test successful single iteration.
            <Function test_multiple_iterations>
              Test multiple iterations loop correctly.
            <Function test_tool_failure_aborts>
              Test that tool failure aborts execution.
          <Class TestHeadlessDefaults>
            Test default behaviors.
            <Function test_default_prompt_path>
              Test that default prompt path is .aurora/headless/prompt.md.
            <Function test_default_tool_is_claude>
              Test that default tool is 'claude'.
            <Function test_default_max_iter_is_10>
              Test that default max iterations is 10.
        <Module test_init_helpers.py>
          Tests for init_helpers.py - helper functions for unified init command.
          
          This test module verifies helper functions extracted from init_planning.py
          for use in the unified aur init command.
          
          Test-Driven Development (TDD):
          - These tests are written FIRST (RED phase)
          - Implementation in init_helpers.py comes SECOND (GREEN phase)
          <Class TestGitDetection>
            Test git repository detection functions.
            <Function test_detect_git_repository_returns_true_when_git_exists>
              detect_git_repository() should return True when .git directory exists.
            <Function test_detect_git_repository_returns_false_when_no_git>
              detect_git_repository() should return False when .git directory missing.
            <Function test_prompt_git_init_returns_bool>
              prompt_git_init() should return boolean based on user input.
          <Class TestExistingSetupDetection>
            Test detection of existing Aurora setup.
            <Function test_detect_existing_setup_returns_true_when_aurora_exists>
              detect_existing_setup() should return True when .aurora directory exists.
            <Function test_detect_existing_setup_returns_false_when_no_aurora>
              detect_existing_setup() should return False when .aurora missing.
          <Class TestConfiguredToolsDetection>
            Test detection of already-configured tools.
            <Function test_detect_configured_tools_returns_empty_dict_when_no_configs>
              detect_configured_tools() should return dict with False values when no configs.
            <Function test_detect_configured_tools_detects_configured_tool>
              detect_configured_tools() should detect tool with Aurora markers.
            <Function test_detect_configured_tools_ignores_file_without_markers>
              detect_configured_tools() should ignore files without Aurora markers.
            <Function test_count_configured_tools_returns_zero_when_none_configured>
              count_configured_tools() should return 0 when no tools configured.
            <Function test_count_configured_tools_counts_correctly>
              count_configured_tools() should count tools with Aurora markers.
          <Class TestDirectoryStructureCreation>
            Test creation of Aurora directory structure.
            <Function test_create_directory_structure_creates_plans_directories>
              create_directory_structure() should create plans/active and plans/archive.
            <Function test_create_directory_structure_creates_logs_directory>
              create_directory_structure() should create logs directory.
            <Function test_create_directory_structure_creates_cache_directory>
              create_directory_structure() should create cache directory.
            <Function test_create_directory_structure_does_not_create_config_tools>
              create_directory_structure() should NOT create config/tools (legacy).
            <Function test_create_directory_structure_is_idempotent>
              create_directory_structure() should be safe to run multiple times.
          <Class TestProjectMdCreation>
            Test project.md template creation.
            <Function test_create_project_md_creates_file>
              create_project_md() should create .aurora/project.md file.
            <Function test_create_project_md_contains_template_sections>
              create_project_md() should include standard template sections.
            <Function test_create_project_md_preserves_existing_file>
              create_project_md() should NOT overwrite existing project.md.
          <Class TestProjectMetadataDetection>
            Test auto-detection of project metadata.
            <Function test_detect_project_metadata_returns_dict_with_required_keys>
              detect_project_metadata() should return dict with name, date, tech_stack.
            <Function test_detect_project_metadata_uses_directory_name>
              detect_project_metadata() should use directory name as project name.
            <Function test_detect_project_metadata_detects_python_from_pyproject_toml>
              detect_project_metadata() should detect Python from pyproject.toml.
            <Function test_detect_project_metadata_detects_poetry>
              detect_project_metadata() should detect poetry package manager.
            <Function test_detect_project_metadata_detects_pytest>
              detect_project_metadata() should detect pytest testing framework.
            <Function test_detect_project_metadata_detects_javascript_from_package_json>
              detect_project_metadata() should detect JavaScript from package.json.
            <Function test_detect_project_metadata_handles_empty_project>
              detect_project_metadata() should handle project with no detectable tech.
          <Class TestPromptToolSelection>
            Test tool selection wizard for slash command configurators.
            
            These tests verify that prompt_tool_selection() uses the SlashCommandRegistry
            to display all 20 available tools and allows user selection.
            <Coroutine test_prompt_tool_selection_returns_list>
              prompt_tool_selection() should return a list of selected tool IDs.
            <Coroutine test_prompt_tool_selection_returns_selected_tool_ids>
              prompt_tool_selection() should return the IDs user selected.
            <Coroutine test_prompt_tool_selection_builds_choices_from_registry>
              prompt_tool_selection() should build choices from SlashCommandRegistry.
            <Coroutine test_prompt_tool_selection_pre_checks_configured_tools>
              prompt_tool_selection() should pre-check already configured tools.
            <Coroutine test_prompt_tool_selection_shows_already_configured_label>
              prompt_tool_selection() should show (already configured) label for configured tools.
            <Coroutine test_prompt_tool_selection_includes_all_20_tools>
              prompt_tool_selection() should include all 20 tools from SlashCommandRegistry.
            <Coroutine test_prompt_tool_selection_returns_empty_list_on_cancel>
              prompt_tool_selection() should return empty list if user cancels.
          <Class TestConfigureSlashCommands>
            Test configure_slash_commands() helper for configuring slash command tools.
            
            These tests verify the helper function that configures selected slash command
            tools using their respective configurators.
            <Coroutine test_configure_slash_commands_returns_tuple>
              configure_slash_commands() should return (created, updated) tuple.
            <Coroutine test_configure_slash_commands_creates_new_tool_files>
              configure_slash_commands() should create files for new tools.
            <Coroutine test_configure_slash_commands_accepts_list_of_tool_ids>
              configure_slash_commands() should accept list of tool IDs.
            <Coroutine test_configure_slash_commands_handles_empty_list>
              configure_slash_commands() should handle empty tool list gracefully.
            <Coroutine test_configure_slash_commands_handles_invalid_tool_id>
              configure_slash_commands() should handle invalid tool IDs gracefully.
            <Coroutine test_configure_slash_commands_tracks_updated_tools>
              configure_slash_commands() should track updated vs created tools.
            <Coroutine test_configure_slash_commands_calls_generate_all_for_each_tool>
              configure_slash_commands() should call generate_all() for each tool.
          <Class TestDetectConfiguredSlashTools>
            Test detect_configured_slash_tools() for extend mode detection.
            
            These tests verify detection of already-configured slash command tools
            by checking for Aurora markers in expected file paths.
            <Function test_detect_configured_slash_tools_returns_dict>
              detect_configured_slash_tools() should return dict[str, bool].
            <Function test_detect_configured_slash_tools_all_false_when_no_files>
              detect_configured_slash_tools() should return all False when no files exist.
            <Function test_detect_configured_slash_tools_detects_claude>
              detect_configured_slash_tools() should detect configured Claude tool.
            <Function test_detect_configured_slash_tools_detects_cursor>
              detect_configured_slash_tools() should detect configured Cursor tool.
            <Function test_detect_configured_slash_tools_detects_gemini_toml>
              detect_configured_slash_tools() should detect configured Gemini tool (TOML).
            <Function test_detect_configured_slash_tools_returns_false_without_markers>
              detect_configured_slash_tools() should return False for files without markers.
            <Function test_detect_configured_slash_tools_codex_uses_global_path>
              detect_configured_slash_tools() should check global path for Codex.
            <Function test_detect_configured_slash_tools_codex_false_when_no_global_files>
              detect_configured_slash_tools() should return False for Codex when no global files.
            <Function test_detect_configured_slash_tools_detects_windsurf>
              detect_configured_slash_tools() should detect configured Windsurf tool.
            <Function test_detect_configured_slash_tools_multiple_tools>
              detect_configured_slash_tools() should detect multiple configured tools.
            <Function test_detect_configured_slash_tools_returns_all_20_tool_ids>
              detect_configured_slash_tools() should return all 20 tool IDs.
        <Module test_init_tools_flag.py>
          Tests for --tools flag in init command.
          
          This test module verifies the --tools flag functionality for `aur init` command
          that allows non-interactive configuration of AI coding tools.
          
          Test-Driven Development (TDD):
          - Tests are written FIRST (RED phase)
          - Implementation comes SECOND (GREEN phase)
          
          Tests cover:
          - parse_tools_flag() function for parsing --tools=<value>
          - validate_tool_ids() function for validating tool IDs
          - Integration with init command
          <Class TestParseToolsFlag>
            Test parse_tools_flag() function for parsing --tools=<value>.
            <Function test_parse_tools_flag_all_returns_all_20_tool_ids>
              parse_tools_flag('all') should return list of all 20 tool IDs.
            <Function test_parse_tools_flag_none_returns_empty_list>
              parse_tools_flag('none') should return empty list.
            <Function test_parse_tools_flag_single_tool_returns_list_with_one_id>
              parse_tools_flag('claude') should return ['claude'].
            <Function test_parse_tools_flag_comma_separated_returns_list>
              parse_tools_flag('claude,cursor') should return ['claude', 'cursor'].
            <Function test_parse_tools_flag_multiple_tools>
              parse_tools_flag('claude,cursor,gemini') should return list of 3.
            <Function test_parse_tools_flag_handles_whitespace>
              parse_tools_flag('claude, cursor, gemini') should strip whitespace.
            <Function test_parse_tools_flag_normalizes_case>
              parse_tools_flag('CLAUDE,Cursor') should normalize to lowercase.
            <Function test_parse_tools_flag_handles_empty_string>
              parse_tools_flag('') should return empty list.
            <Function test_parse_tools_flag_removes_duplicates>
              parse_tools_flag('claude,claude,cursor') should remove duplicates.
          <Class TestValidateToolIds>
            Test validate_tool_ids() function for validating tool IDs.
            <Function test_validate_tool_ids_accepts_valid_ids>
              validate_tool_ids() should accept valid tool IDs without raising.
            <Function test_validate_tool_ids_raises_for_invalid_id>
              validate_tool_ids() should raise ValueError for invalid tool ID.
            <Function test_validate_tool_ids_error_lists_available_tools>
              validate_tool_ids() error message should list available tool IDs.
            <Function test_validate_tool_ids_shows_all_invalid_ids_in_error>
              validate_tool_ids() should show all invalid IDs when multiple are invalid.
            <Function test_validate_tool_ids_accepts_empty_list>
              validate_tool_ids([]) should accept empty list without raising.
            <Function test_validate_tool_ids_accepts_all_20_tools>
              validate_tool_ids() should accept all 20 valid tool IDs.
          <Class TestToolsFlagIntegration>
            Test --tools flag integration with init command.
            <Function test_init_command_accepts_tools_flag>
              init command should accept --tools option.
            <Function test_init_command_with_tools_all_configures_all_20_tools>
              init --tools=all should configure all 20 tools.
            <Function test_init_command_with_tools_none_skips_tool_config>
              init --tools=none should not configure any tools.
            <Function test_init_command_with_tools_flag_skips_interactive_prompt>
              init --tools=claude should skip interactive tool selection.
            <Function test_init_command_with_invalid_tool_shows_error>
              init --tools=invalid-tool should show helpful error message.
            <Function test_init_command_with_mixed_valid_invalid_tools_shows_error>
              init --tools=claude,invalid should show error for invalid tool.
            <Function test_init_command_tools_flag_passes_ids_to_step_3>
              init --tools=claude,cursor should pass those IDs to step 3.
          <Class TestToolsFlagWithConfigOption>
            Test --tools flag combined with --config option.
            <Function test_init_config_with_tools_flag>
              init --config --tools=claude should configure only specified tools.
            <Function test_init_config_with_tools_none_skips_all_tools>
              init --config --tools=none should not configure any tools.
          <Class TestGetAllToolIds>
            Test helper function for getting all valid tool IDs.
            <Function test_get_all_tool_ids_returns_20_ids>
              get_all_tool_ids() should return list of 20 tool IDs.
            <Function test_get_all_tool_ids_returns_strings>
              get_all_tool_ids() should return list of strings.
            <Function test_get_all_tool_ids_includes_expected_tools>
              get_all_tool_ids() should include all expected tool IDs.
        <Module test_init_unified.py>
          Tests for unified init command - test_init_unified.py
          
          This test module verifies the unified `aur init` command that combines
          initialization and planning setup into a single 3-step flow.
          
          Test-Driven Development (TDD):
          - Tests are written FIRST (RED phase)
          - Implementation comes SECOND (GREEN phase)
          - Refactor THIRD (REFACTOR phase)
          <Class TestStep1PlanningSetup>
            Test Step 1: Planning Setup (Git + Directories).
            <Function test_run_step_1_detects_existing_git_repository>
              run_step_1_planning_setup() should detect existing .git directory.
            <Function test_run_step_1_prompts_git_init_when_no_git>
              run_step_1_planning_setup() should prompt for git init when .git missing.
            <Function test_run_step_1_runs_git_init_when_user_accepts>
              run_step_1_planning_setup() should run git init when user accepts.
            <Function test_run_step_1_skips_git_init_when_user_declines>
              run_step_1_planning_setup() should skip git init when user declines.
            <Function test_run_step_1_creates_plans_active_directory>
              run_step_1_planning_setup() should create .aurora/plans/active directory.
            <Function test_run_step_1_creates_plans_archive_directory>
              run_step_1_planning_setup() should create .aurora/plans/archive directory.
            <Function test_run_step_1_creates_logs_directory>
              run_step_1_planning_setup() should create .aurora/logs directory.
            <Function test_run_step_1_creates_cache_directory>
              run_step_1_planning_setup() should create .aurora/cache directory.
            <Function test_run_step_1_creates_project_md_with_metadata>
              run_step_1_planning_setup() should create project.md with auto-detected metadata.
            <Function test_run_step_1_preserves_existing_project_md>
              run_step_1_planning_setup() should NOT overwrite existing project.md.
            <Function test_run_step_1_returns_true_when_git_initialized>
              run_step_1_planning_setup() should return True when git was initialized.
            <Function test_run_step_1_returns_false_when_git_declined>
              run_step_1_planning_setup() should return False when git init declined.
            <Function test_run_step_1_returns_true_when_git_already_exists>
              run_step_1_planning_setup() should return True when .git already exists.
            <Function test_run_step_1_handles_git_init_failure>
              run_step_1_planning_setup() should handle git init subprocess errors.
            <Function test_run_step_1_is_idempotent>
              run_step_1_planning_setup() should be safe to run multiple times.
            <Function test_run_step_1_shows_success_message>
              run_step_1_planning_setup() should display success message to user.
          <Class TestStep2MemoryIndexing>
            Test Step 2: Memory Indexing.
            <Function test_run_step_2_calculates_project_specific_db_path>
              run_step_2_memory_indexing() should use project-specific db_path.
            <Function test_run_step_2_prompts_reindex_when_db_exists>
              run_step_2_memory_indexing() should prompt to re-index when memory.db exists.
            <Function test_run_step_2_creates_backup_before_reindexing>
              run_step_2_memory_indexing() should backup memory.db before re-indexing.
            <Function test_run_step_2_handles_indexing_errors>
              run_step_2_memory_indexing() should handle indexing errors gracefully.
            <Function test_run_step_2_skip_continues_to_next_step>
              run_step_2_memory_indexing() skip option should return without error.
            <Function test_run_step_2_abort_exits_cleanly>
              run_step_2_memory_indexing() abort option should exit.
            <Function test_run_step_2_uses_progress_callback>
              run_step_2_memory_indexing() should use progress bar for indexing.
            <Function test_run_step_2_shows_success_stats>
              run_step_2_memory_indexing() should display indexing statistics.
            <Function test_run_step_2_skips_prompt_on_fresh_install>
              run_step_2_memory_indexing() should not prompt when memory.db doesn't exist.
          <Class TestStep3ToolConfiguration>
            Test Step 3: Tool Configuration.
            <Function test_run_step_3_detects_no_configured_tools>
              run_step_3_tool_configuration() should detect when no tools are configured.
            <Function test_run_step_3_detects_existing_tools>
              run_step_3_tool_configuration() should detect existing tool configurations.
            <Function test_run_step_3_calls_prompt_tool_selection>
              run_step_3_tool_configuration() should call prompt_tool_selection for interactive mode.
            <Function test_run_step_3_calls_configure_slash_commands_with_selected>
              run_step_3_tool_configuration() should call configure_slash_commands with selected tool IDs.
            <Function test_run_step_3_returns_created_and_updated_lists>
              run_step_3_tool_configuration() should return tuple of (created, updated) tool names.
            <Function test_run_step_3_tracks_created_vs_updated>
              run_step_3_tool_configuration() should distinguish between created and updated tools.
            <Function test_run_step_3_shows_success_message>
              run_step_3_tool_configuration() should display success message with counts.
            <Function test_run_step_3_handles_no_tools_selected>
              run_step_3_tool_configuration() should handle case when user selects no tools.
            <Function test_run_step_3_preserves_markers_on_update>
              run_step_3_tool_configuration() should preserve custom content in marker blocks on update.
            <Function test_run_step_3_shows_step_header>
              run_step_3_tool_configuration() should display 'Step 3/3' header.
          <Class TestInitCommandMain>
            Test main init_command() function orchestrating all 3 steps.
            <Function test_init_command_with_config_flag_fast_path>
              init_command() with --config flag should run Step 3 only.
            <Function test_init_command_config_flag_errors_without_aurora_dir>
              init_command() with --config flag should error if .aurora doesn't exist.
            <Function test_init_command_full_init_flow_calls_all_3_steps>
              init_command() should call all 3 steps in order for full initialization.
            <Function test_init_command_displays_success_summary>
              init_command() should display success summary after completion.
            <Function test_init_command_shows_step_numbering>
              init_command() should display step numbers (1/3, 2/3, 3/3).
            <Function test_init_command_detects_existing_setup>
              init_command() should detect when .aurora already exists and prompt for re-run.
            <Function test_init_command_displays_welcome_banner>
              init_command() should display welcome banner on first run.
            <Function test_init_command_handles_error_decorator>
              init_command() should have @handle_errors decorator for error handling.
          <Class TestShowStatusSummary>
            Test show_status_summary() function for re-run detection.
            <Function test_show_status_summary_with_all_steps_complete>
              show_status_summary() should show checkmarks when all steps complete.
            <Function test_show_status_summary_with_partial_completion>
              show_status_summary() should show partial status correctly.
            <Function test_show_status_summary_counts_chunks_from_memory_db>
              show_status_summary() should query memory.db and display chunk count.
            <Function test_show_status_summary_displays_tool_count>
              show_status_summary() should count and display configured tools.
            <Function test_show_status_summary_shows_formatting_and_checkmarks>
              show_status_summary() should use rich formatting with checkmarks.
            <Function test_show_status_summary_handles_missing_aurora_dir>
              show_status_summary() should handle missing .aurora gracefully.
          <Class TestPromptRerunOptions>
            Test prompt_rerun_options() function for re-run menu.
            <Function test_prompt_rerun_options_displays_menu>
              prompt_rerun_options() should display menu with 4 options.
            <Function test_prompt_rerun_options_returns_all>
              prompt_rerun_options() should return 'all' when option 1 selected.
            <Function test_prompt_rerun_options_returns_selective>
              prompt_rerun_options() should return 'selective' when option 2 selected.
            <Function test_prompt_rerun_options_returns_config>
              prompt_rerun_options() should return 'config' when option 3 selected.
            <Function test_prompt_rerun_options_returns_exit>
              prompt_rerun_options() should return 'exit' when option 4 selected.
            <Function test_prompt_rerun_options_handles_invalid_input_then_valid>
              prompt_rerun_options() should handle invalid input and retry.
          <Class TestSelectiveStepSelection>
            Test selective_step_selection() function for choosing specific steps.
            <Function test_selective_step_selection_displays_checkbox>
              selective_step_selection() should display checkbox with 3 steps.
            <Function test_selective_step_selection_returns_single_step>
              selective_step_selection() should return list with single step.
            <Function test_selective_step_selection_returns_multiple_steps>
              selective_step_selection() should return list with multiple steps.
            <Function test_selective_step_selection_returns_all_steps>
              selective_step_selection() should return all steps when all selected.
            <Function test_selective_step_selection_handles_empty_selection>
              selective_step_selection() should show warning on empty selection.
          <Class TestRerunSafety>
            Test re-run safety mechanisms for idempotent behavior.
            <Function test_project_md_preservation_on_rerun>
              run_step_1_planning_setup() should preserve existing project.md content.
            <Function test_marker_content_preservation_in_tools>
              Tool configurators should preserve content outside Aurora markers.
            <Function test_backup_creation_before_reindexing>
              run_step_2_memory_indexing() should create backup before re-indexing.
            <Function test_no_errors_on_consecutive_reruns>
              Running init steps multiple times should not cause errors.
        <Module test_init_validation.py>
          Tests for MCP configuration validation in init command.
          
          This test module verifies MCP validation logic added to the unified init command.
          
          Test-Driven Development (TDD):
          - These tests are written FIRST (RED phase)
          - Implementation in init_helpers.py comes SECOND (GREEN phase)
          - Tests verify soft failures: warnings instead of errors
          <Class TestMCPValidationHelpers>
            Test _validate_mcp_config() helper function.
            
            This function performs JSON syntax validation, server path checks,
            and required tools validation with soft failures (warnings not errors).
            <Function test_validate_mcp_config_returns_tuple_with_success_and_warnings>
              _validate_mcp_config() should return (success: bool, warnings: list[str]).
            <Function test_validate_mcp_config_detects_json_syntax_error>
              _validate_mcp_config() should detect malformed JSON and return warning.
            <Function test_validate_mcp_config_validates_aurora_mcp_server_exists>
              _validate_mcp_config() should verify Aurora MCP server is configured.
            <Function test_validate_mcp_config_checks_required_tools>
              _validate_mcp_config() should validate 3 required tools exist.
            <Function test_validate_mcp_config_accepts_python_module_command>
              _validate_mcp_config() should accept 'python3 -m aurora_mcp.server' format.
            <Function test_validate_mcp_config_warns_on_missing_file>
              _validate_mcp_config() should handle missing config file gracefully.
            <Function test_validate_mcp_config_handles_empty_file>
              _validate_mcp_config() should handle empty config file.
          <Class TestConfigureMCPServersValidation>
            Test configure_mcp_servers() integration with validation.
            
            Tests that configure_mcp_servers() calls validation and returns warnings
            in its return tuple without preventing configuration completion.
            <Coroutine test_configure_mcp_servers_returns_validation_warnings>
              configure_mcp_servers() should return validation warnings in tuple.
            <Coroutine test_configure_mcp_servers_validation_does_not_prevent_completion>
              configure_mcp_servers() should complete even with validation warnings (soft failure).
            <Coroutine test_configure_mcp_servers_includes_json_syntax_warnings>
              configure_mcp_servers() should include JSON syntax errors in validation warnings.
            <Coroutine test_configure_mcp_servers_validates_all_configured_tools>
              configure_mcp_servers() should validate each configured tool.
          <Class TestValidationWarningDisplay>
            Test that init command displays validation warnings to user.
            
            Verifies that warnings suggest running 'aur doctor' for details.
            <Function test_validation_warnings_suggest_aur_doctor>
              Validation warnings should suggest running 'aur doctor' command.
          <Class TestSoftFailureBehavior>
            Test that validation uses soft failures (warnings) not hard failures (errors).
            
            Critical requirement: validation issues should NOT prevent init from completing.
            <Coroutine test_validation_warnings_do_not_raise_exceptions>
              Validation warnings should not raise exceptions or prevent init completion.
            <Coroutine test_validation_allows_partial_success>
              Validation should allow init to succeed even if some tools have issues.
        <Module test_mcp_functional_checks.py>
          Unit tests for MCPFunctionalChecks class.
          
          Tests cover all 6 check methods with pass/warning/fail scenarios following TDD RED phase.
          <Class TestMCPFunctionalChecksInit>
            Test initialization of MCPFunctionalChecks.
            <Function test_init_with_config>
              Should accept Config parameter and initialize project path.
            <Function test_init_without_config>
              Should handle initialization without config parameter.
          <Class TestRunChecks>
            Test run_checks method execution.
            <Function test_run_checks_returns_list>
              Should return list of HealthCheckResult tuples.
          <Class TestCheckMCPConfigSyntax>
            Test MCP config syntax validation.
            <Function test_valid_json_syntax>
              Should pass when MCP config has valid JSON syntax.
            <Function test_invalid_json_syntax>
              Should fail when MCP config has invalid JSON syntax.
            <Function test_missing_config_file>
              Should warn when MCP config file does not exist.
          <Class TestCheckAuroraMCPToolsImportable>
            Test Aurora MCP tools import verification.
            <Function test_all_tools_importable>
              Should pass when all 3 required tools are importable.
            <Function test_missing_tools>
              Should fail when required tools are missing.
            <Function test_import_error>
              Should fail when aurora_mcp.tools cannot be imported.
          <Class TestCheckSoarPhasesImportable>
            Test SOAR phase modules import verification.
            <Function test_all_phases_importable>
              Should pass when all 9 phase modules are importable.
            <Function test_some_phases_missing>
              Should fail when some phase modules cannot be imported.
            <Function test_all_phases_fail_import>
              Should fail when no phase modules can be imported.
          <Class TestCheckMemoryDatabaseAccessible>
            Test memory database accessibility.
            <Function test_database_accessible>
              Should pass when memory database exists and is accessible.
            <Function test_database_not_found>
              Should warn when memory database does not exist.
            <Function test_database_connection_error>
              Should fail when database connection fails.
          <Class TestCheckSlashCommandMCPConsistency>
            Test slash command and MCP server consistency.
            <Function test_all_commands_consistent>
              Should pass when all slash commands reference valid MCP servers.
            <Function test_inconsistent_server_references>
              Should warn when slash commands reference invalid MCP servers.
          <Class TestCheckMCPServerToolsComplete>
            Test MCP server tools completeness.
            <Function test_all_three_tools_registered>
              Should pass when exactly 3 tools are registered.
            <Function test_missing_tools>
              Should fail when tools are missing.
            <Function test_extra_tools_registered>
              Should warn when more than 3 tools are registered.
          <Class TestGetFixableIssues>
            Test fixable issues detection.
            <Function test_returns_list_of_fixable_issues>
              Should return list of auto-fixable problems.
            <Function test_missing_aurora_directory>
              Should detect missing .aurora directory as fixable.
            <Function test_missing_memory_database>
              Should detect missing memory.db as fixable.
          <Class TestGetManualIssues>
            Test manual intervention issues detection.
            <Function test_returns_list_of_manual_issues>
              Should return list of manual intervention issues.
            <Function test_invalid_json_syntax>
              Should detect invalid JSON syntax as manual issue.
            <Function test_missing_soar_phases>
              Should detect missing SOAR phases as manual issue.
          <Class TestMCPFunctionalChecksIntegration>
            Integration tests for MCPFunctionalChecks class.
            <Function test_complete_check_flow>
              Should execute all checks and categorize issues.
        <Module test_memory_retrieval.py>
          Unit tests for MemoryRetriever module.
          
          Tests the shared memory retrieval API for AURORA CLI including:
          - Hybrid retrieval
          - Context file loading
          - Prompt formatting
          - Context strategy logic
          <Class TestMemoryRetrieverInit>
            Tests for MemoryRetriever initialization.
            <Function test_init_stores_config_and_store>
              Stores config and store references.
            <Function test_init_with_config_only>
              Can initialize with only config (for file-only usage).
            <Function test_init_with_no_args>
              Can initialize with no arguments.
          <Class TestMemoryRetrieverHasIndexedMemory>
            Tests for has_indexed_memory method.
            <Function test_returns_false_when_no_store>
              Returns False when no store is configured.
            <Function test_returns_true_when_chunks_exist>
              Returns True when store has chunks.
            <Function test_returns_false_when_no_chunks>
              Returns False when store is empty.
            <Function test_returns_false_on_error>
              Returns False on retrieval error.
          <Class TestMemoryRetrieverRetrieve>
            Tests for retrieve method.
            <Function test_retrieves_chunks>
              Retrieves chunks using hybrid retriever.
            <Function test_uses_config_threshold>
              Uses config semantic threshold by default.
            <Function test_overrides_threshold>
              Allows threshold override.
            <Function test_returns_empty_on_error>
              Returns empty list on retrieval error.
          <Class TestMemoryRetrieverLoadContextFiles>
            Tests for load_context_files method.
            <Function test_loads_existing_files>
              Loads content from existing files.
            <Function test_skips_missing_files>
              Skips and warns for missing files.
            <Function test_skips_directories>
              Skips and warns for directories.
            <Function test_loads_multiple_files>
              Loads multiple files.
          <Class TestMemoryRetrieverFormatForPrompt>
            Tests for format_for_prompt method.
            <Function test_formats_chunks>
              Formats chunks with headers and code blocks.
            <Function test_returns_empty_for_no_chunks>
              Returns empty string for empty chunk list.
          <Class TestMemoryRetrieverGetContext>
            Tests for get_context method.
            <Function test_uses_context_files_when_provided>
              Uses context files when provided (priority 1).
            <Function test_uses_indexed_memory_when_no_files>
              Uses indexed memory when no context files (priority 2).
            <Function test_returns_error_when_no_context>
              Returns error when no context available.
          <Class TestDetectLanguage>
            Tests for _detect_language helper function.
            <Function test_detects_python>
              Detects Python files.
            <Function test_detects_javascript>
              Detects JavaScript files.
            <Function test_detects_typescript>
              Detects TypeScript files.
            <Function test_detects_markdown>
              Detects Markdown files.
            <Function test_defaults_to_text>
              Defaults to text for unknown extensions.
            <Function test_case_insensitive>
              Handles case variations.
        <Module test_plan_commands.py>
          Unit tests for planning CLI commands.
          
          Tests aur plan init, list, show, and archive commands
          using Click's CliRunner for isolated testing.
          <Class TestInitPlanningDirectory>
            Tests for init_planning_directory core function.
            <Function test_creates_directory_structure>
              init creates active/, archive/, manifest.json.
            <Function test_manifest_is_valid_json>
              init creates valid manifest.json.
            <Function test_already_initialized_returns_warning>
              init returns warning when already initialized.
            <Function test_force_reinitializes>
              init --force reinitializes existing directory.
            <Function test_permission_denied_returns_error>
              init returns error when permission denied.
          <Class TestInitCommand>
            Tests for aur plan init CLI command.
            <Function test_init_cli_creates_structure>
              aur plan init creates directory structure.
            <Function test_init_cli_already_exists_warning>
              aur plan init shows warning when already initialized.
            <Function test_init_cli_custom_path>
              aur plan init uses --path option.
          <Class TestListPlans>
            Tests for list_plans core function.
            <Function test_list_active_plans>
              list_plans returns active plans by default.
            <Function test_list_archived_plans>
              list_plans --archived returns archived plans.
            <Function test_list_all_plans>
              list_plans --all returns both active and archived.
            <Function test_list_empty_returns_empty>
              list_plans returns empty list when no plans.
            <Function test_list_not_initialized_returns_warning>
              list_plans returns warning if not initialized.
            <Function test_list_sorted_by_date>
              list_plans returns newest first.
          <Class TestListCommand>
            Tests for aur plan list CLI command.
            <Function test_list_cli_active_plans>
              aur plan list shows active plans.
            <Function test_list_cli_json_output>
              aur plan list --format json outputs valid JSON.
          <Class TestShowPlan>
            Tests for show_plan core function.
            <Function test_show_existing_plan>
              show_plan returns full plan details.
            <Function test_show_archived_plan>
              show_plan --archived finds archived plan.
            <Function test_show_plan_not_found>
              show_plan returns error when plan not found.
            <Function test_show_wrong_location_hint>
              show_plan suggests correct flag when plan in other location.
            <Function test_show_file_status>
              show_plan includes file status for all 4 files.
          <Class TestShowCommand>
            Tests for aur plan show CLI command.
            <Function test_show_cli_existing_plan>
              aur plan show displays plan details.
            <Function test_show_cli_json_output>
              aur plan show --format json outputs valid JSON.
          <Class TestArchivePlan>
            Tests for archive_plan core function.
            <Function test_archive_plan_success>
              archive_plan moves plan to archive directory.
            <Function test_archive_plan_not_found>
              archive_plan returns error when plan not found.
            <Function test_archive_already_archived>
              archive_plan returns error when already archived.
            <Function test_archive_duration_calculation>
              archive_plan calculates duration_days correctly.
            <Function test_archive_updates_manifest>
              archive_plan updates manifest.json.
          <Class TestArchiveCommand>
            Tests for aur plan archive CLI command.
            <Function test_archive_cli_with_confirmation>
              aur plan archive with confirmation.
            <Function test_archive_cli_yes_flag>
              aur plan archive --yes skips confirmation.
          <Class TestCreatePlan>
            Tests for create_plan core function.
            <Function test_create_plan_success>
              create_plan creates plan with subgoals.
            <Function test_create_plan_auto_initializes>
              create_plan auto-initializes planning directory.
            <Function test_create_plan_auth_decomposition>
              create_plan uses auth decomposition for auth goals.
            <Function test_create_plan_api_decomposition>
              create_plan uses API decomposition for API goals.
            <Function test_create_plan_refactor_decomposition>
              create_plan uses refactor decomposition for refactor goals.
            <Function test_create_plan_no_decompose>
              create_plan --no-decompose creates single subgoal.
            <Function test_create_plan_goal_too_short>
              create_plan rejects goals under 10 chars.
            <Function test_create_plan_goal_too_long>
              create_plan rejects goals over 500 chars.
            <Function test_create_plan_generates_sequential_ids>
              create_plan generates sequential plan IDs.
            <Function test_create_plan_updates_manifest>
              create_plan adds plan to manifest.
          <Class TestCreateCommand>
            Tests for aur plan create CLI command.
            <Function test_create_cli_success>
              aur plan create creates plan and shows output.
            <Function test_create_cli_json_output>
              aur plan create --format json outputs valid JSON.
            <Function test_create_cli_goal_too_short>
              aur plan create rejects short goals.
        <Module test_planning_errors.py>
          Unit tests for planning error handling.
          
          Tests VALIDATION_MESSAGES dictionary and exception classes
          to ensure all error codes produce valid messages.
          <Class TestValidationMessages>
            Tests for VALIDATION_MESSAGES dictionary.
            <Function test_all_expected_codes_exist>
              All expected error codes are defined.
            <Function test_all_messages_are_non_empty_strings>
              All messages are non-empty strings.
            <Function test_messages_with_placeholders_format_correctly>
              Messages with placeholders can be formatted.
            <Function test_messages_without_placeholders_are_valid>
              Messages without placeholders are valid strings.
          <Class TestPlanningError>
            Tests for PlanningError base exception.
            <Function test_basic_initialization>
              PlanningError initializes with code and message.
            <Function test_message_formatting_with_kwargs>
              PlanningError formats message with kwargs.
            <Function test_str_returns_formatted_message>
              str(error) returns the formatted message.
            <Function test_unknown_code_uses_code_as_message>
              Unknown error code uses the code as message.
            <Function test_missing_kwargs_handled_gracefully>
              Missing format kwargs are handled gracefully.
          <Class TestPlanNotFoundError>
            Tests for PlanNotFoundError.
            <Function test_initialization_with_plan_id>
              PlanNotFoundError includes plan_id in message.
            <Function test_is_planning_error_subclass>
              PlanNotFoundError is a PlanningError subclass.
          <Class TestPlanValidationError>
            Tests for PlanValidationError.
            <Function test_with_goal_too_short>
              PlanValidationError works with GOAL_TOO_SHORT.
            <Function test_with_too_many_subgoals>
              PlanValidationError works with TOO_MANY_SUBGOALS.
            <Function test_is_planning_error_subclass>
              PlanValidationError is a PlanningError subclass.
          <Class TestPlanDirectoryError>
            Tests for PlanDirectoryError.
            <Function test_with_not_initialized>
              PlanDirectoryError works with PLANS_DIR_NOT_INITIALIZED.
            <Function test_with_no_write_permission>
              PlanDirectoryError works with PLANS_DIR_NO_WRITE_PERMISSION.
            <Function test_is_planning_error_subclass>
              PlanDirectoryError is a PlanningError subclass.
          <Class TestPlanArchiveError>
            Tests for PlanArchiveError.
            <Function test_with_archive_failed>
              PlanArchiveError works with ARCHIVE_FAILED.
            <Function test_with_archive_rollback>
              PlanArchiveError works with ARCHIVE_ROLLBACK.
            <Function test_is_planning_error_subclass>
              PlanArchiveError is a PlanningError subclass.
          <Class TestPlanFileError>
            Tests for PlanFileError.
            <Function test_with_corrupt_file>
              PlanFileError works with PLAN_FILE_CORRUPT.
            <Function test_with_missing_file>
              PlanFileError works with PLAN_FILE_MISSING.
            <Function test_is_planning_error_subclass>
              PlanFileError is a PlanningError subclass.
          <Class TestContextError>
            Tests for ContextError.
            <Function test_with_file_not_found>
              ContextError works with CONTEXT_FILE_NOT_FOUND.
            <Function test_with_no_indexed_memory>
              ContextError works with NO_INDEXED_MEMORY.
            <Function test_is_planning_error_subclass>
              ContextError is a PlanningError subclass.
          <Class TestExceptionHierarchy>
            Tests for exception class hierarchy.
            <Function test_all_exceptions_inherit_from_planning_error>
              All custom exceptions inherit from PlanningError.
            <Function test_all_exceptions_inherit_from_exception>
              All custom exceptions inherit from Exception.
            <Function test_exceptions_can_be_caught_by_planning_error>
              All specific exceptions can be caught by PlanningError.
          <Class TestAllCodesProduceValidMessages>
            Ensure every code in VALIDATION_MESSAGES produces a valid error.
            <Function test_every_code_can_be_used_in_planning_error>
              Every error code can be used with PlanningError.
        <Module test_planning_models.py>
          Unit tests for planning Pydantic models.
          
          Tests Plan, Subgoal, PlanManifest models with validation,
          serialization, and error message verification.
          <Class TestPlanStatusEnum>
            Tests for PlanStatus enum.
            <Function test_active_value>
              ACTIVE serializes to 'active'.
            <Function test_archived_value>
              ARCHIVED serializes to 'archived'.
            <Function test_failed_value>
              FAILED serializes to 'failed'.
            <Function test_json_serialization>
              Enum serializes to lowercase string in JSON.
          <Class TestComplexityEnum>
            Tests for Complexity enum.
            <Function test_simple_value>
              SIMPLE serializes to 'simple'.
            <Function test_moderate_value>
              MODERATE serializes to 'moderate'.
            <Function test_complex_value>
              COMPLEX serializes to 'complex'.
            <Function test_json_serialization>
              Enum serializes to lowercase string in JSON.
          <Class TestSubgoalModel>
            Tests for Subgoal model.
            <Function test_valid_subgoal_creation>
              Creates valid subgoal with all fields.
            <Function test_subgoal_with_dependencies>
              Creates subgoal with dependency list.
            <Function test_invalid_subgoal_id_format>
              Rejects invalid subgoal ID format.
            <Function test_invalid_subgoal_id_no_number>
              Rejects subgoal ID without number.
            <Function test_invalid_agent_format_no_at>
              Rejects agent without @ prefix.
            <Function test_invalid_agent_format_uppercase>
              Rejects agent with uppercase letters.
            <Function test_title_too_short>
              Rejects title shorter than 5 chars.
            <Function test_description_too_short>
              Rejects description shorter than 10 chars.
            <Function test_json_serialization_roundtrip>
              Subgoal survives JSON serialization roundtrip.
            <Function test_dependencies_normalized_from_string>
              Single string dependency is converted to list.
            <Function test_dependencies_none_becomes_empty_list>
              None dependencies becomes empty list.
          <Class TestPlanModel>
            Tests for Plan model.
            <Function test_valid_plan_creation>
              Creates valid plan with all fields.
            <Function test_plan_with_empty_plan_id>
              Plan can be created with empty plan_id (to be generated later).
            <Function test_invalid_plan_id_format>
              Rejects invalid plan ID format.
            <Function test_goal_too_short>
              Rejects goal shorter than 10 chars.
            <Function test_goal_too_long>
              Rejects goal longer than 500 chars.
            <Function test_too_few_subgoals>
              Rejects plan with no subgoals.
            <Function test_too_many_subgoals>
              Rejects plan with more than 10 subgoals.
            <Function test_invalid_dependency_reference>
              Rejects plan with invalid dependency reference.
            <Function test_circular_dependency_detection>
              Detects circular dependencies.
            <Function test_json_serialization_roundtrip>
              Plan survives JSON serialization roundtrip.
            <Function test_to_json_method>
              to_json returns valid JSON string.
            <Function test_from_json_class_method>
              from_json deserializes JSON string to Plan.
            <Function test_archived_plan_has_timestamps>
              Archived plan can have archived_at and duration_days.
          <Class TestPlanManifestModel>
            Tests for PlanManifest model.
            <Function test_default_manifest_creation>
              Creates manifest with defaults.
            <Function test_add_active_plan>
              Adds plan to active list.
            <Function test_add_active_plan_no_duplicates>
              Does not add duplicate plans.
            <Function test_archive_plan>
              Moves plan from active to archived.
            <Function test_archive_plan_default_id>
              Archive uses original ID if no archived_id provided.
            <Function test_json_serialization_roundtrip>
              Manifest survives JSON serialization roundtrip.
            <Function test_total_plans_property>
              total_plans returns sum of active and archived.
            <Function test_updated_at_changes_on_modification>
              updated_at changes when manifest is modified.
        <Module test_planning_results.py>
          Unit tests for planning result types.
          
          Tests result dataclasses for graceful degradation pattern:
          InitResult, PlanResult, ListResult, ShowResult, ArchiveResult, PlanSummary.
          <Class TestInitResult>
            Tests for InitResult dataclass.
            <Function test_success_with_message>
              InitResult can express success with message.
            <Function test_success_with_warning>
              InitResult can express success with warning (already exists).
            <Function test_failure_with_error>
              InitResult can express failure with error.
            <Function test_default_values>
              InitResult has sensible default values.
          <Class TestPlanResult>
            Tests for PlanResult dataclass.
            <Function test_success_with_plan>
              PlanResult can express success with plan.
            <Function test_success_with_warnings>
              PlanResult can express partial success (plan created but with warnings).
            <Function test_failure_with_error>
              PlanResult can express failure.
            <Function test_default_values>
              PlanResult has sensible default values.
          <Class TestListResult>
            Tests for ListResult dataclass.
            <Function test_with_plans>
              ListResult contains plan summaries.
            <Function test_empty_with_warning>
              ListResult can be empty with warning (not initialized).
            <Function test_with_errors>
              ListResult can contain errors from failed plan loads.
            <Function test_default_values>
              ListResult has sensible default values.
          <Class TestShowResult>
            Tests for ShowResult dataclass.
            <Function test_success_with_all_files>
              ShowResult shows plan with all files present.
            <Function test_success_with_missing_files>
              ShowResult shows plan with some files missing.
            <Function test_failure_with_error>
              ShowResult can express failure.
            <Function test_default_values>
              ShowResult has sensible default values.
          <Class TestArchiveResult>
            Tests for ArchiveResult dataclass.
            <Function test_success_with_duration>
              ArchiveResult includes computed duration.
            <Function test_failure_with_error>
              ArchiveResult can express failure.
            <Function test_default_values>
              ArchiveResult has sensible default values.
          <Class TestPlanSummary>
            Tests for PlanSummary dataclass.
            <Function test_from_plan_basic>
              PlanSummary.from_plan creates summary from full plan.
            <Function test_from_plan_truncates_long_goal>
              PlanSummary.from_plan truncates goals longer than 50 chars.
            <Function test_from_plan_keeps_short_goal>
              PlanSummary.from_plan keeps goals 50 chars or less unchanged.
            <Function test_from_plan_preserves_created_at>
              PlanSummary.from_plan preserves creation timestamp.
            <Function test_from_plan_with_archived_status>
              PlanSummary.from_plan respects status override.
            <Function test_from_plan_with_no_agent_gaps>
              PlanSummary.from_plan handles plan with no agent gaps.
          <Class TestResultNoneHandling>
            Tests that result types handle None values correctly.
            <Function test_init_result_all_none_optional>
              InitResult handles all optional fields as None.
            <Function test_plan_result_all_none_optional>
              PlanResult handles all optional fields as None.
            <Function test_list_result_all_none_optional>
              ListResult handles all optional fields as None.
            <Function test_show_result_all_none_optional>
              ShowResult handles all optional fields as None.
            <Function test_archive_result_all_none_optional>
              ArchiveResult handles all optional fields as None.
          <Class TestResultSuccessVsError>
            Tests for success vs error state consistency.
            <Function test_init_result_success_has_path>
              Successful InitResult typically has path.
            <Function test_init_result_failure_has_error>
              Failed InitResult typically has error.
            <Function test_plan_result_success_has_plan>
              Successful PlanResult has plan.
            <Function test_plan_result_failure_has_error>
              Failed PlanResult has error.
        <Module test_version.py>
          Unit tests for version CLI command.
          
          Tests the `aur version` command that displays version information.
          <Class TestVersionCommandBasics>
            Test basic version command functionality.
            <Function test_help_text>
              Test help text displays correctly.
            <Function test_version_command_exists>
              Test version command is registered.
          <Class TestVersionOutput>
            Test version command output formatting.
            <Function test_output_format_with_git>
              Test version output format when git is available.
            <Function test_output_format_without_git>
              Test version output format when git is not available.
            <Function test_version_extraction>
              Test version is extracted from package metadata.
            <Function test_git_hash_extraction>
              Test git hash is extracted correctly.
            <Function test_handles_missing_version_gracefully>
              Test handles missing version metadata gracefully.
          <Class TestVersionEdgeCases>
            Test version command edge cases.
            <Function test_git_command_timeout>
              Test handles git command timeout.
            <Function test_git_command_fails>
              Test handles git command failure.
        <Module test_wizard.py>
          Unit tests for interactive setup wizard.
          
          Tests the wizard flow, input validation, and configuration creation.
          <Class TestWizardFlow>
            Test wizard flow and step execution.
            <Function test_wizard_initialization>
              Test wizard initializes with correct defaults.
            <Function test_step_1_welcome_with_git>
              Test welcome step detects git repository.
            <Function test_step_1_welcome_without_git>
              Test welcome step handles missing git.
            <Function test_step_2_indexing_yes>
              Test indexing prompt when user says yes.
            <Function test_step_2_indexing_no>
              Test indexing prompt when user says no.
            <Function test_step_3_anthropic_provider>
              Test provider selection for Anthropic.
            <Function test_step_3_openai_provider>
              Test provider selection for OpenAI.
            <Function test_step_3_ollama_provider>
              Test provider selection for Ollama.
          <Class TestAPIKeyValidation>
            Test API key input and validation.
            <Function test_step_4_valid_anthropic_key>
              Test valid Anthropic API key is accepted.
            <Function test_step_4_invalid_anthropic_key>
              Test invalid Anthropic API key is rejected.
            <Function test_step_4_valid_openai_key>
              Test valid OpenAI API key is accepted.
            <Function test_step_4_skip_api_key>
              Test API key can be skipped.
            <Function test_step_4_ollama_no_key_needed>
              Test Ollama doesn't require API key.
          <Class TestMCPPrompt>
            Test MCP server prompt.
            <Function test_step_5_enable_mcp>
              Test enabling MCP server.
            <Function test_step_5_disable_mcp>
              Test disabling MCP server.
          <Class TestConfigCreation>
            Test configuration file creation.
            <Function test_step_6_creates_config>
              Test config file is created with correct structure.
            <Function test_step_6_existing_config_overwrite_no>
              Test existing config is not overwritten if user declines.
          <Class TestIndexing>
            Test indexing step.
            <Function test_step_7_successful_indexing>
              Test successful indexing.
            <Function test_step_7_no_files_indexed>
              Test indexing when no files found.
          <Class TestCompletion>
            Test completion step.
            <Function test_step_8_displays_summary>
              Test completion displays summary.
            <Function test_step_8_missing_api_key_warning>
              Test completion warns about missing API key.
          <Class TestFullWizardFlow>
            Test complete wizard execution.
            <Function test_run_executes_all_steps_with_indexing>
              Test run() executes all steps in order when indexing.
            <Function test_run_skips_indexing_when_declined>
              Test run() skips indexing step when user declines.
      <Package context_code>
        <Dir semantic>
          <Module test_embedding_fallback.py>
            Tests for embedding fallback behavior in HybridRetriever.
            
            Task 2.19: Test fallback to keyword-only if embeddings unavailable
            
            This test module validates that the hybrid retriever correctly falls back to
            activation-only retrieval when embeddings are unavailable due to:
            1. Embedding provider failures (model loading, generation errors)
            2. Missing embeddings on chunks
            3. Invalid query embeddings
            4. Configuration with fallback enabled/disabled
            
            Test scenarios:
            - Embedding provider raises exceptions during query embedding
            - All chunks missing embeddings (fallback enabled)
            - Some chunks missing embeddings (mixed scenario)
            - Fallback disabled raises errors appropriately
            - Activation-only fallback produces valid results
            <Class TestEmbeddingProviderFailures>
              Test fallback when embedding provider fails.
              <Function test_fallback_when_embedding_provider_raises_exception>
                Test fallback when embed_query() raises an exception.
              <Function test_no_fallback_raises_error_when_embedding_fails>
                Test that errors propagate when fallback is disabled.
              <Function test_fallback_on_value_error_from_provider>
                Test fallback when provider raises ValueError (invalid input).
              <Function test_fallback_on_attribute_error_from_provider>
                Test fallback when provider has missing attributes.
            <Class TestChunksMissingEmbeddings>
              Test fallback when chunks don't have embeddings.
              <Function test_all_chunks_missing_embeddings_with_fallback>
                Test retrieval when all chunks lack embeddings (fallback enabled).
              <Function test_all_chunks_missing_embeddings_no_fallback>
                Test retrieval when all chunks lack embeddings (fallback disabled).
              <Function test_mixed_chunks_some_with_embeddings>
                Test retrieval when some chunks have embeddings, others don't.
              <Function test_mixed_chunks_preserves_ranking_quality>
                Test that mixed embeddings don't break ranking.
            <Class TestFallbackResultQuality>
              Test that fallback results are valid and useful.
              <Function test_fallback_results_sorted_by_activation>
                Test that fallback results are properly sorted by activation.
              <Function test_fallback_results_have_complete_metadata>
                Test that fallback results include all required fields.
              <Function test_fallback_respects_top_k_limit>
                Test that fallback returns correct number of results.
            <Class TestFallbackConfiguration>
              Test fallback configuration behavior.
              <Function test_default_config_enables_fallback>
                Test that default configuration enables fallback.
              <Function test_explicit_fallback_enabled>
                Test explicit fallback_to_activation=True.
              <Function test_explicit_fallback_disabled>
                Test explicit fallback_to_activation=False.
              <Function test_aurora_config_fallback_setting>
                Test loading fallback setting from aurora_config.
            <Class TestFallbackEdgeCases>
              Test edge cases in fallback behavior.
              <Function test_empty_store_with_fallback>
                Test fallback with empty store.
              <Function test_single_chunk_with_fallback>
                Test fallback with single chunk.
              <Function test_all_chunks_zero_activation_with_fallback>
                Test fallback when all chunks have zero activation.
          <Module test_hybrid_retriever_threshold.py>
            Unit tests for semantic threshold filtering in HybridRetriever.
            
            Tests verify that the min_semantic_score parameter correctly filters
            search results based on semantic similarity scores.
            <Function test_retrieve_method_accepts_min_semantic_score>
              Test that retrieve() method signature includes min_semantic_score parameter.
            <Function test_retrieve_method_signature_backward_compatible>
              Test that retrieve() is backward compatible (min_semantic_score is optional).
            <Function test_filtering_logic_structure>
              Test that the filtering logic is present in the retrieve method source.
        <Module test_git_fallback.py>
          Unit tests for Git fallback behavior.
          
          Tests that Git operations gracefully fall back when Git is unavailable.
          <Class TestGitFallback>
            Test Git unavailability and fallback.
            <Function test_git_extractor_handles_non_git_directory>
              Test Git extractor handles non-Git directory gracefully.
            <Function test_git_extractor_handles_git_not_installed>
              Test Git extractor when git command not found.
            <Function test_git_fallback_warning_logged>
              Test warning is logged when Git unavailable.
          <Class TestEnvironmentVariableOverride>
            Test AURORA_SKIP_GIT environment variable.
            <Function test_skip_git_env_var_forces_fallback>
              Test AURORA_SKIP_GIT forces fallback mode.
            <Function test_skip_git_various_values>
              Test various truthy values for AURORA_SKIP_GIT.
        <Module test_parser_base.py>
          Unit tests for the CodeParser abstract interface.
          
          Tests the contract that all parser implementations must follow.
          <Class TestCodeParserInterface>
            Test the CodeParser abstract interface.
            <Function test_parser_has_language_attribute>
              Test that parser stores language on initialization.
            <Function test_parser_repr>
              Test string representation of parser.
            <Function test_parser_can_parse_by_extension>
              Test that can_parse checks file extensions.
            <Function test_parser_handles_absolute_paths>
              Test that parser can handle absolute paths.
            <Function test_parser_handles_relative_paths>
              Test that parser can handle relative paths.
            <Function test_multiple_parsers_different_languages>
              Test that multiple parsers can be created for different languages.
            <Function test_parser_language_immutable_after_init>
              Test that language is set during initialization.
        <Module test_parser_fallback.py>
          Unit tests for tree-sitter parser fallback behavior.
          
          Tests that parser gracefully falls back to text chunking when tree-sitter is unavailable.
          <Class TestTreeSitterFallback>
            Test tree-sitter import failure and fallback.
            <Function test_parser_handles_import_failure>
              Test parser handles tree-sitter import failure gracefully.
            <Function test_fallback_chunks_created>
              Test fallback chunking creates valid chunks.
            <Function test_fallback_warning_logged>
              Test warning is logged when using fallback.
          <Class TestEnvironmentVariableOverride>
            Test AURORA_SKIP_TREESITTER environment variable.
            <Function test_skip_treesitter_env_var>
              Test AURORA_SKIP_TREESITTER forces fallback mode.
            <Function test_skip_treesitter_various_values>
              Test various truthy values for AURORA_SKIP_TREESITTER.
        <Module test_parser_registry.py>
          Unit tests for ParserRegistry.
          
          Tests registration, discovery, and multi-language support.
          <Class TestParserRegistryBasics>
            Test basic registry functionality.
            <Function test_registry_initialization>
              Test that registry initializes empty.
            <Function test_register_parser>
              Test registering a parser.
            <Function test_register_multiple_parsers>
              Test registering multiple parsers.
            <Function test_register_replaces_existing>
              Test that registering same language replaces previous parser.
          <Class TestParserLookup>
            Test parser lookup methods.
            <Function test_get_parser_by_language>
              Test getting parser by language name.
            <Function test_get_parser_not_found>
              Test getting non-existent parser returns None.
            <Function test_get_parser_for_file>
              Test getting parser by file extension.
            <Function test_get_parser_for_file_not_found>
              Test that unsupported file returns None.
            <Function test_get_parser_for_file_first_match>
              Test that first matching parser is returned.
          <Class TestParserUnregistration>
            Test parser removal from registry.
            <Function test_unregister_parser>
              Test unregistering a parser.
            <Function test_unregister_nonexistent>
              Test unregistering non-existent parser.
            <Function test_clear_registry>
              Test clearing all parsers.
          <Class TestGlobalRegistry>
            Test global registry singleton.
            <Function test_get_global_registry_creates_instance>
              Test that global registry is created on first access.
            <Function test_get_global_registry_returns_same_instance>
              Test that global registry returns same instance.
            <Function test_global_registry_has_python_parser>
              Test that global registry auto-registers Python parser.
          <Class TestRegistryRepr>
            Test string representation.
            <Function test_empty_registry_repr>
              Test repr of empty registry.
            <Function test_registry_with_parsers_repr>
              Test repr of registry with parsers.
          <Class TestMultiLanguageScenarios>
            Test realistic multi-language scenarios.
            <Function test_web_project_parsers>
              Test registry for a typical web project.
            <Function test_backend_project_parsers>
              Test registry for a multi-language backend.
            <Function test_parser_selection_priority>
              Test that parser registration order matters for overlapping extensions.
        <Module test_python_parser.py>
          Unit tests for PythonParser.
          
          Tests all extraction features:
          - Function extraction
          - Class extraction
          - Method extraction
          - Docstring extraction
          - Complexity calculation
          - Error handling
          <Class TestPythonParserBasics>
            Test basic PythonParser functionality.
            <Function test_parser_initialization>
              Test that parser initializes correctly.
            <Function test_can_parse_py_files>
              Test that parser recognizes .py files.
            <Function test_can_parse_pyi_files>
              Test that parser recognizes .pyi stub files.
            <Function test_cannot_parse_non_python_files>
              Test that parser rejects non-Python files.
            <Function test_parse_requires_absolute_path>
              Test that parse() returns empty list for relative paths.
            <Function test_parse_nonexistent_file>
              Test that parser handles missing files gracefully.
          <Class TestFunctionExtraction>
            Test function extraction from Python files.
            <Function test_extract_simple_functions>
              Test extraction of simple functions.
            <Function test_function_without_docstring>
              Test extraction of function without docstring.
          <Class TestClassExtraction>
            Test class and method extraction.
            <Function test_extract_class>
              Test extraction of class definition.
            <Function test_extract_methods>
              Test extraction of class methods.
            <Function test_class_with_inheritance>
              Test extraction of class with inheritance.
          <Class TestDocstringExtraction>
            Test docstring extraction.
            <Function test_single_quote_docstring>
              Test extraction of single-quoted docstring.
            <Function test_triple_quote_docstring>
              Test extraction of triple-quoted docstring.
            <Function test_multiline_docstring>
              Test extraction of multiline docstring.
          <Class TestComplexityCalculation>
            Test cyclomatic complexity calculation.
            <Function test_simple_function_zero_complexity>
              Test that simple function has zero complexity.
            <Function test_function_with_if_statement>
              Test that if statement increases complexity.
            <Function test_function_with_multiple_branches>
              Test that multiple branches increase complexity.
            <Function test_complexity_normalized_to_one>
              Test that complexity is normalized to [0.0, 1.0].
          <Class TestErrorHandling>
            Test error handling for broken files.
            <Function test_parse_broken_syntax>
              Test that parser handles syntax errors gracefully.
            <Function test_parse_empty_file>
              Test that parser handles empty files.
            <Function test_parse_file_with_only_comments>
              Test that parser handles files with only comments.
          <Class TestIntegrationWithFixtures>
            Test parser with fixture files.
            <Function test_parse_simple_fixture>
              Test parsing simple.py fixture.
            <Function test_parse_medium_fixture>
              Test parsing medium.py fixture.
            <Function test_parse_complex_fixture>
              Test parsing complex.py fixture.
            <Function test_parse_broken_fixture>
              Test parsing broken.py fixture with syntax errors.
      <Package core>
        <Package activation>
          <Module test_actr_literature_validation.py>
            ACT-R Literature Validation Tests
            
            This module validates AURORA's ACT-R activation implementation against
            published examples and formulas from ACT-R cognitive architecture literature.
            
            Primary References:
            1. Anderson, J. R. (2007). How Can the Human Mind Occur in the Physical Universe?
               Oxford University Press. Chapter 3: The Adaptive Character of Thought.
            
            2. Anderson, J. R., & Lebiere, C. (1998). The Atomic Components of Thought.
               Lawrence Erlbaum Associates. Chapter 2: The Activation Mechanism.
            
            3. Anderson, J. R., Bothell, D., Byrne, M. D., Douglass, S., Lebiere, C., & Qin, Y. (2004).
               An integrated theory of the mind. Psychological Review, 111(4), 1036-1060.
            
            Test Structure:
                - Base-Level Activation (BLA): Validates power-law decay formula
                - Spreading Activation: Validates exponential distance decay
                - Context Boost: Validates keyword-based relevance
                - Decay Penalty: Validates recency penalty
                - Total Activation: Validates combined formula integration
            
            Each test case documents:
                - Formula from literature
                - Example values from published work
                - Expected calculation with step-by-step breakdown
                - Tolerance for numerical precision
            <Class TestBaseLevelActivationLiterature>
              Validate BLA against Anderson (2007) Chapter 3 examples.
              
              The base-level activation formula from ACT-R:
                  BLA = ln(Σ t_j^(-d))
              
              Where:
                  t_j = time since the jth access (in seconds)
                  d = decay rate (typically 0.5)
                  ln = natural logarithm
              
              This reflects the power-law of practice and power-law of forgetting.
              <Function test_anderson_2007_single_access_example>
                Anderson (2007), p. 74: Single access example.
                
                Example: A chunk accessed once, 1 day (86400 seconds) ago.
                
                Formula: BLA = ln(t^(-d)) = -d × ln(t)
                Calculation: -0.5 × ln(86400) = -0.5 × 11.371 = -5.686
                
                This demonstrates the power-law forgetting curve where recent
                access results in higher activation.
              <Function test_anderson_1998_multiple_access_example>
                Anderson & Lebiere (1998), p. 47: Multiple access example.
                
                Example: A chunk accessed 3 times at different intervals.
                Accesses: 1 hour, 1 day, and 7 days ago.
                
                Formula: BLA = ln(t₁^(-d) + t₂^(-d) + t₃^(-d))
                
                This demonstrates frequency effect: more accesses = higher activation.
              <Function test_anderson_2004_power_law_of_practice>
                Anderson et al. (2004): Power law of practice validation.
                
                Principle: Activation increases with practice (frequency) but with
                diminishing returns following a power law.
                
                Test: 1 access vs 4 accesses vs 16 accesses
                Expected: More practice yields higher activation, but with
                diminishing returns per additional access.
              <Function test_anderson_2007_power_law_of_forgetting>
                Anderson (2007), p. 76: Power law of forgetting.
                
                Principle: Activation decays as a power function of time since last access.
                
                Test: Compare activations at 1 day, 10 days, 100 days
                Expected: Each 10× increase in time should decrease activation by
                approximately d × ln(10) = 0.5 × 2.303 = 1.151
            <Class TestSpreadingActivationLiterature>
              Validate spreading activation against Anderson (1983) model.
              
              Spreading activation formula:
                  S_i = Σ (W_j × F^d_ij)
              
              Where:
                  S_i = spreading activation to node i
                  W_j = weight of source node j (typically 1.0)
                  F = spread factor (typically 0.7)
                  d_ij = distance (hop count) from j to i
              
              Reference: Anderson, J. R. (1983). A spreading activation theory of memory.
              Journal of Verbal Learning and Verbal Behavior, 22(3), 261-295.
              <Function test_anderson_1983_single_source_spreading>
                Anderson (1983), Figure 2: Single source spreading.
                
                Example: Node A activates adjacent nodes at distance 1.
                
                Formula: Activation = W × F^1 = 1.0 × 0.7 = 0.7
                
                This demonstrates the basic spreading mechanism where activation
                decreases exponentially with distance.
              <Function test_anderson_1983_distance_decay>
                Anderson (1983), p. 272: Distance-dependent decay.
                
                Example: Linear chain A → B → C → D
                
                Spreading values:
                    B: 1.0 × 0.7^1 = 0.700
                    C: 1.0 × 0.7^2 = 0.490
                    D: 1.0 × 0.7^3 = 0.343
                
                This demonstrates exponential decay with distance.
              <Function test_anderson_1983_multiple_paths_summation>
                Anderson (1983), p. 275: Multiple path integration.
                
                Example: Two paths to node D:
                    Path 1: A → B → D
                    Path 2: A → C → D
                
                Total activation = sum of both paths:
                    D = (1.0 × 0.7^2) + (1.0 × 0.7^2) = 0.49 + 0.49 = 0.98
                
                This demonstrates additive integration of multiple activation sources.
              <Function test_anderson_1983_fan_effect>
                Anderson (1983), p. 278: Fan effect on spreading.
                
                Example: Node with high fan-out spreads less to each neighbor.
                
                In ACT-R, source activation is divided among all outgoing links.
                With our implementation using fixed weights, we test that activation
                properly distributes according to relationship weights.
            <Class TestContextBoostLiterature>
              Validate context boost against ACT-R context matching principles.
              
              Context boost in ACT-R reflects the similarity between the current goal
              and the chunk's content. We implement this as keyword overlap.
              
              Reference: Anderson, J. R., & Lebiere, C. (1998). The Atomic Components
              of Thought. Chapter 2, Section on Context Effects.
              <Function test_perfect_context_match>
                Perfect overlap between query and chunk keywords.
                
                When all query keywords match chunk keywords, context boost should
                be at maximum value (boost_factor).
              <Function test_partial_context_match>
                Partial overlap demonstrates proportional boosting.
                
                Context boost should scale linearly with proportion of matching keywords.
              <Function test_no_context_match>
                No keyword overlap results in zero context boost.
                
                When query and chunk have no keywords in common, context boost = 0.
            <Class TestDecayPenaltyLiterature>
              Validate decay penalty implementation.
              
              Our decay penalty is a recency-based adjustment that reduces activation
              for chunks not recently accessed. This complements BLA's power-law decay.
              
              Formula: penalty = -decay_factor × log10(days_since_access)
              
              Note: This is AURORA-specific and not directly from ACT-R literature,
              but follows similar logarithmic decay principles.
              <Function test_recent_access_no_penalty>
                Very recent access (within grace period) has no penalty.
              <Function test_logarithmic_penalty_growth>
                Penalty grows logarithmically with time.
                
                Test: 1 day vs 10 days vs 100 days
                Expected: Each 10× increase adds approximately constant penalty increment.
                
                Note: Implementation uses max(1.0, days) to avoid log10 of values < 1,
                which slightly affects the exact increment values.
            <Class TestTotalActivationFormula>
              Validate the integrated activation formula.
              
              Total Activation = BLA + Spreading + Context Boost - Decay
              
              This tests that all components integrate correctly according to
              ACT-R principles.
              <Function test_anderson_2007_integrated_example>
                Integrated activation calculation example.
                
                Scenario: A frequently accessed, recently used chunk that is
                related to current query and context.
                
                Components:
                    BLA: 3 accesses (1h, 1d, 7d ago) → ~-3.9
                    Spreading: 1 hop away from active chunk → 0.7
                    Context: 50% keyword match → 0.25
                    Decay: 1 hour ago (within grace) → 0.0
                
                Total = -3.9 + 0.7 + 0.25 - 0.0 = -2.95
              <Function test_rarely_accessed_distant_chunk>
                Scenario: Rarely accessed chunk far from current context.
                
                Components:
                    BLA: 1 access 100 days ago → ~-8.3
                    Spreading: 3 hops away → 0.343
                    Context: 25% keyword match → 0.125
                    Decay: 100 days ago → ~-1.0
                
                Total = -8.3 + 0.343 + 0.125 - 1.0 = -8.832
                
                This chunk should have very low activation and not be retrieved.
              <Function test_component_independence>
                Verify that activation components can be individually disabled.
                
                This tests the modularity of the activation system and confirms
                that each component contributes independently.
            <Class TestACTRPrincipleValidation>
              High-level validation of ACT-R cognitive principles.
              
              These tests validate that AURORA's implementation follows the key
              principles from ACT-R theory about how human memory works.
              <Function test_frequency_principle>
                ACT-R Principle: More frequent use → Higher activation.
                
                Items that are practiced more frequently are more available in memory.
              <Function test_recency_principle>
                ACT-R Principle: More recent use → Higher activation.
                
                Items accessed recently are more available than those accessed long ago.
              <Function test_context_principle>
                ACT-R Principle: Contextually relevant items are more available.
                
                Items that match the current goal/context have higher activation.
              <Function test_associative_principle>
                ACT-R Principle: Associated items receive spreading activation.
                
                Items connected to currently active items receive boost through
                spreading activation.
          <Module test_base_level.py>
            Unit tests for Base-Level Activation (BLA) formula.
            
            Tests the ACT-R BLA calculation including:
            - Power law decay formula: BLA = ln(Σ t_j^(-d))
            - Frequency effects (more accesses = higher activation)
            - Recency effects (recent accesses = higher activation)
            - Edge cases (no history, very old accesses, etc.)
            <Class TestAccessHistoryEntry>
              Test AccessHistoryEntry model.
              <Function test_create_entry_with_timezone>
                Test creating entry with timezone-aware timestamp.
              <Function test_create_entry_with_context>
                Test creating entry with context information.
              <Function test_naive_timestamp_converted_to_utc>
                Test that naive timestamps are converted to UTC.
            <Class TestBLAConfig>
              Test BLA configuration.
              <Function test_default_config>
                Test default configuration values.
              <Function test_custom_config>
                Test custom configuration values.
              <Function test_decay_rate_validation>
                Test decay rate must be in valid range.
            <Class TestBaseLevelActivation>
              Test BaseLevelActivation calculation.
              <Function test_never_accessed_chunk>
                Test that chunks with no access history get default activation.
              <Function test_single_recent_access>
                Test chunk accessed once recently has high activation.
              <Function test_multiple_accesses_increase_activation>
                Test that more accesses lead to higher activation (frequency effect).
              <Function test_recent_access_higher_than_old>
                Test that recent accesses contribute more than old ones (recency effect).
              <Function test_power_law_decay>
                Test that activation follows power law decay formula.
              <Function test_activation_clamped_to_minimum>
                Test that very old accesses are clamped to minimum activation.
              <Function test_calculate_from_timestamps>
                Test convenience method that takes raw timestamps.
              <Function test_calculate_from_access_counts>
                Test approximation method using only access count and last access.
              <Function test_zero_access_count_returns_default>
                Test that zero access count returns default activation.
              <Function test_negative_time_delta_handled>
                Test that negative time deltas are handled gracefully.
              <Function test_different_decay_rates>
                Test that different decay rates produce different results.
              <Function test_custom_current_time>
                Test that custom current_time parameter works correctly.
            <Class TestCalculateBlaFunction>
              Test standalone calculate_bla function.
              <Function test_calculate_bla_with_defaults>
                Test standalone function with default parameters.
              <Function test_calculate_bla_with_custom_decay>
                Test standalone function with custom decay rate.
            <Class TestACTRFormula>
              Test that implementation matches ACT-R literature.
              <Function test_actr_example_single_access>
                Test against known ACT-R calculation for single access.
              <Function test_actr_example_multiple_accesses>
                Test against known ACT-R calculation for multiple accesses.
              <Function test_frequency_principle>
                Test ACT-R principle: practice strengthens activation.
              <Function test_recency_principle>
                Test ACT-R principle: recent practice is more effective.
          <Module test_context_boost.py>
            Unit tests for Context Boost calculation.
            
            Tests the ACT-R context boost component including:
            - Keyword extraction from text
            - Keyword overlap calculation
            - Context boost formula: boost = (overlap / query_keywords) * boost_factor
            - Weighted field scoring (name, docstring, signature, body)
            - Edge cases (empty queries, no overlap, etc.)
            <Class TestContextBoostConfig>
              Test ContextBoostConfig model.
              <Function test_default_config>
                Test default configuration values.
              <Function test_custom_config>
                Test custom configuration values.
              <Function test_boost_factor_validation>
                Test boost factor must be in valid range.
              <Function test_min_keyword_length_validation>
                Test min_keyword_length must be positive.
            <Class TestKeywordExtractor>
              Test KeywordExtractor functionality.
              <Function test_extract_basic_keywords>
                Test extracting simple keywords from text.
              <Function test_extract_filters_short_words>
                Test that short words are filtered out.
              <Function test_extract_filters_stop_words>
                Test that common stop words are filtered out.
              <Function test_programming_terms_not_filtered>
                Test that programming terms are kept even if short.
              <Function test_case_insensitive_by_default>
                Test that extraction is case-insensitive by default.
              <Function test_case_sensitive_mode>
                Test case-sensitive keyword extraction.
              <Function test_extract_from_empty_string>
                Test extracting from empty string.
              <Function test_extract_with_special_characters>
                Test extraction with special characters.
              <Function test_extract_from_chunks>
                Test extracting keywords from multiple chunks.
              <Function test_extract_from_empty_chunks>
                Test extracting from empty chunk list.
              <Function test_min_keyword_length_respected>
                Test that min_keyword_length setting is respected.
            <Class TestContextBoost>
              Test ContextBoost calculation.
              <Function test_calculate_perfect_match>
                Test boost when all query keywords match.
              <Function test_calculate_partial_match>
                Test boost with partial keyword overlap.
              <Function test_calculate_no_match>
                Test boost when no keywords match.
              <Function test_calculate_empty_query>
                Test that empty query returns zero boost.
              <Function test_calculate_empty_chunk>
                Test boost when chunk has no keywords.
              <Function test_calculate_with_custom_boost_factor>
                Test boost calculation with custom boost factor.
              <Function test_calculate_from_text>
                Test convenience method that extracts keywords from text.
              <Function test_calculate_from_text_no_overlap>
                Test calculate_from_text with no keyword overlap.
              <Function test_get_matching_keywords>
                Test getting the list of matching keywords.
              <Function test_explain_boost>
                Test boost explanation feature.
              <Function test_explain_boost_no_match>
                Test explanation when there's no match.
            <Class TestCalculateFromChunkFields>
              Test weighted field scoring for code chunks.
              <Function test_calculate_with_name_match>
                Test that name matches are weighted heavily.
              <Function test_calculate_with_docstring_match>
                Test that docstring matches are weighted moderately.
              <Function test_calculate_with_all_fields>
                Test combining all chunk fields.
              <Function test_calculate_name_weighted_higher_than_body>
                Test that name matches have higher weight than body matches.
              <Function test_calculate_with_empty_fields>
                Test handling of None/empty optional fields.
              <Function test_calculate_with_empty_query>
                Test that empty query returns zero.
              <Function test_realistic_code_chunk_example>
                Test with realistic code chunk data.
            <Class TestCalculateContextBoostFunction>
              Test standalone calculate_context_boost function.
              <Function test_calculate_with_defaults>
                Test standalone function with default parameters.
              <Function test_calculate_with_custom_boost_factor>
                Test standalone function with custom boost factor.
              <Function test_calculate_no_match>
                Test standalone function with no match.
            <Class TestEdgeCases>
              Test edge cases and error conditions.
              <Function test_very_long_text>
                Test that very long text is handled efficiently.
              <Function test_unicode_text>
                Test handling of unicode characters.
              <Function test_numbers_in_text>
                Test handling of numbers in text.
              <Function test_mixed_case_matching>
                Test that mixed case text matches correctly.
              <Function test_repeated_keywords>
                Test that repeated keywords don't inflate boost.
            <Class TestRealWorldScenarios>
              Test realistic use cases.
              <Function test_function_search_by_purpose>
                Test finding function by its purpose.
              <Function test_search_with_technical_terms>
                Test search with programming terminology.
              <Function test_search_filters_stop_words>
                Test that stop words don't affect relevance.
          <Module test_decay.py>
            Unit tests for Decay Penalty calculation.
            
            Tests the ACT-R decay component including:
            - DecayConfig validation and defaults
            - Decay calculation with logarithmic formula
            - Grace period handling (no decay for recent accesses)
            - Max days capping (prevent extreme penalties)
            - Timezone handling (naive and aware datetimes)
            - Convenience methods (calculate_from_hours, calculate_from_days)
            - Decay curve generation
            - Explanation generation
            - Predefined decay profiles
            <Class TestDecayConfig>
              Test DecayConfig model.
              <Function test_default_config>
                Test default configuration values.
              <Function test_custom_config>
                Test custom configuration values.
              <Function test_decay_factor_validation_range>
                Test decay_factor must be in valid range [0.0, 2.0].
              <Function test_max_days_validation>
                Test max_days must be >= 1.0.
              <Function test_min_penalty_validation>
                Test min_penalty must be <= 0.0.
              <Function test_grace_period_validation>
                Test grace_period_hours must be >= 0.0.
            <Class TestDecayCalculator>
              Test DecayCalculator functionality.
              <Function test_initialization_default_config>
                Test calculator initializes with default config.
              <Function test_initialization_custom_config>
                Test calculator initializes with custom config.
              <Function test_calculate_within_grace_period>
                Test no decay within grace period (1 hour).
              <Function test_calculate_after_grace_period>
                Test decay applies after grace period (but minimal for < 1 day).
              <Function test_calculate_one_day_ago>
                Test decay for 1 day old access (log10(1) = 0).
              <Function test_calculate_ten_days_ago>
                Test decay for 10 days old access.
              <Function test_calculate_hundred_days_ago>
                Test decay for 100 days old access (near max_days).
              <Function test_calculate_capped_at_max_days>
                Test decay is capped at max_days.
              <Function test_calculate_clamped_at_min_penalty>
                Test decay is clamped at min_penalty.
              <Function test_calculate_with_default_current_time>
                Test calculate uses current time when not provided.
              <Function test_calculate_with_naive_datetime_last_access>
                Test calculate handles naive datetime for last_access.
              <Function test_calculate_with_naive_datetime_current_time>
                Test calculate handles naive datetime for current_time.
              <Function test_calculate_with_different_decay_factors>
                Test different decay factors produce proportional results.
              <Function test_calculate_from_hours_within_grace_period>
                Test calculate_from_hours with grace period.
              <Function test_calculate_from_hours_after_grace_period>
                Test calculate_from_hours after grace period.
              <Function test_calculate_from_hours_capped>
                Test calculate_from_hours respects max_days cap.
              <Function test_calculate_from_days_basic>
                Test calculate_from_days with various day counts.
              <Function test_calculate_from_days_fractional>
                Test calculate_from_days with fractional days.
            <Class TestDecayCurve>
              Test decay curve generation.
              <Function test_get_decay_curve_default_params>
                Test get_decay_curve with default parameters.
              <Function test_get_decay_curve_custom_max_days>
                Test get_decay_curve with custom max_days.
              <Function test_get_decay_curve_monotonic_decrease>
                Test decay curve shows monotonic decrease.
              <Function test_get_decay_curve_single_point>
                Test get_decay_curve with single point.
            <Class TestExplainDecay>
              Test decay explanation generation.
              <Function test_explain_decay_basic>
                Test explain_decay returns all expected fields.
              <Function test_explain_decay_within_grace_period>
                Test explain_decay shows grace period applied.
              <Function test_explain_decay_after_grace_period>
                Test explain_decay shows no grace period.
              <Function test_explain_decay_capped_at_max>
                Test explain_decay shows capping.
              <Function test_explain_decay_not_capped>
                Test explain_decay shows no capping for recent access.
              <Function test_explain_decay_formula_format>
                Test formula string is properly formatted.
            <Class TestConvenienceFunction>
              Test the calculate_decay convenience function.
              <Function test_calculate_decay_default_params>
                Test convenience function with default parameters.
              <Function test_calculate_decay_custom_decay_factor>
                Test convenience function with custom decay_factor.
              <Function test_calculate_decay_custom_max_days>
                Test convenience function with custom max_days.
              <Function test_calculate_decay_without_current_time>
                Test convenience function uses current time by default.
            <Class TestPredefinedProfiles>
              Test predefined decay profiles.
              <Function test_aggressive_decay_config>
                Test AGGRESSIVE_DECAY profile configuration.
              <Function test_moderate_decay_config>
                Test MODERATE_DECAY profile configuration.
              <Function test_gentle_decay_config>
                Test GENTLE_DECAY profile configuration.
              <Function test_aggressive_decay_stronger_penalty>
                Test AGGRESSIVE_DECAY produces stronger penalties.
              <Function test_gentle_decay_longer_grace_period>
                Test GENTLE_DECAY has longer grace period.
              <Function test_profiles_with_calculator>
                Test all profiles work correctly with DecayCalculator.
            <Class TestEdgeCases>
              Test edge cases and boundary conditions.
              <Function test_future_last_access>
                Test handling of last_access in the future.
              <Function test_same_time_access>
                Test last_access equals current_time.
              <Function test_zero_decay_factor>
                Test decay with zero decay_factor (no decay).
              <Function test_very_large_decay_factor>
                Test decay with maximum decay_factor.
              <Function test_very_short_max_days>
                Test decay with minimum max_days.
              <Function test_zero_grace_period>
                Test decay with no grace period.
              <Function test_very_long_grace_period>
                Test decay with extended grace period.
              <Function test_min_penalty_zero>
                Test decay with min_penalty set to zero.
              <Function test_calculate_from_hours_zero>
                Test calculate_from_hours with zero hours.
              <Function test_calculate_from_days_zero>
                Test calculate_from_days with zero days.
              <Function test_microsecond_precision>
                Test calculation handles microsecond precision.
            <Class TestLogarithmicBehavior>
              Test the logarithmic decay behavior matches ACT-R theory.
              <Function test_decay_logarithmic_progression>
                Test decay follows logarithmic curve (10x time = +1.0 to log).
              <Function test_recent_vs_old_penalty_ratio>
                Test penalty ratio matches logarithmic expectation.
          <Module test_engine.py>
            Integration tests for ActivationEngine (Full Activation Formula).
            
            Tests the complete ACT-R activation engine including:
            - Total activation formula: BLA + Spreading + Context - Decay
            - Integration of all four activation components
            - Component enable/disable toggles
            - Preset configurations (DEFAULT, AGGRESSIVE, CONSERVATIVE, BLA_FOCUSED, CONTEXT_FOCUSED)
            - Activation explanation and debugging features
            - Configuration updates and dynamic reconfiguration
            - Edge cases and component interactions
            - Full activation workflow integration
            <Class TestActivationConfig>
              Test ActivationConfig model.
              <Function test_default_config>
                Test default configuration has all components enabled.
              <Function test_custom_config_with_sub_configs>
                Test creating custom config with specific sub-configs.
              <Function test_disable_all_components>
                Test disabling all components.
            <Class TestActivationComponents>
              Test ActivationComponents model.
              <Function test_default_components_all_zero>
                Test default components are all zero.
              <Function test_components_can_be_set>
                Test components can be set to custom values.
              <Function test_components_mutable>
                Test components can be updated after creation.
            <Class TestActivationEngine>
              Test ActivationEngine core functionality.
              <Function test_engine_initialization_default>
                Test engine initializes with default config.
              <Function test_engine_initialization_custom_config>
                Test engine initializes with custom config.
              <Function test_calculate_total_with_all_components>
                Test calculating total activation with all components enabled.
              <Function test_calculate_total_missing_data_returns_partial>
                Test that missing data for components results in 0.0 for those components.
              <Function test_calculate_total_with_bla_disabled>
                Test calculation with BLA disabled.
              <Function test_calculate_total_with_spreading_disabled>
                Test calculation with spreading disabled.
              <Function test_calculate_total_with_context_disabled>
                Test calculation with context boost disabled.
              <Function test_calculate_total_with_decay_disabled>
                Test calculation with decay disabled.
              <Function test_calculate_total_all_disabled_returns_zero>
                Test that disabling all components returns zero total.
              <Function test_calculate_bla_only>
                Test calculating only BLA component.
              <Function test_calculate_spreading_only>
                Test calculating only spreading component.
              <Function test_calculate_context_only>
                Test calculating only context boost component.
              <Function test_calculate_decay_only>
                Test calculating only decay penalty component.
            <Class TestActivationEngineExplain>
              Test ActivationEngine explain functionality.
              <Function test_explain_activation_full>
                Test explaining activation with all components.
              <Function test_explain_activation_partial_components>
                Test explaining activation with only some components enabled.
              <Function test_explain_activation_no_keywords>
                Test explaining activation when context boost not calculated.
            <Class TestActivationEngineConfigUpdate>
              Test ActivationEngine configuration updates.
              <Function test_update_bla_config>
                Test updating BLA configuration.
              <Function test_update_spreading_config>
                Test updating spreading configuration.
              <Function test_update_context_config>
                Test updating context boost configuration.
              <Function test_update_decay_config>
                Test updating decay configuration.
              <Function test_update_multiple_configs>
                Test updating multiple configurations at once.
            <Class TestPresetConfigurations>
              Test predefined preset configurations.
              <Function test_default_config_preset>
                Test DEFAULT_CONFIG preset.
              <Function test_aggressive_config_preset>
                Test AGGRESSIVE_CONFIG preset has stronger parameters.
              <Function test_conservative_config_preset>
                Test CONSERVATIVE_CONFIG preset has weaker parameters.
              <Function test_bla_focused_config_preset>
                Test BLA_FOCUSED_CONFIG preset emphasizes frequency/recency.
              <Function test_context_focused_config_preset>
                Test CONTEXT_FOCUSED_CONFIG preset emphasizes query relevance.
              <Function test_presets_create_working_engines>
                Test that all preset configs can create working engines.
            <Class TestActivationEngineIntegration>
              Test full integration scenarios with realistic data.
              <Function test_realistic_code_chunk_activation>
                Test activation calculation for a realistic code chunk scenario.
              <Function test_old_unused_chunk_activation>
                Test activation for a chunk that hasn't been used in a long time.
              <Function test_high_spreading_low_bla_scenario>
                Test scenario where spreading is high but BLA is low.
              <Function test_perfect_context_match_scenario>
                Test scenario with perfect keyword overlap.
              <Function test_comparative_activation_ranking>
                Test that activation properly ranks chunks by relevance.
            <Class TestActivationEngineEdgeCases>
              Test edge cases and boundary conditions.
              <Function test_empty_access_history>
                Test handling of empty access history.
              <Function test_none_access_history>
                Test handling of None access history.
              <Function test_very_large_access_history>
                Test handling of very large access history.
              <Function test_negative_spreading_activation>
                Test handling of negative spreading activation.
              <Function test_zero_keyword_overlap>
                Test handling of zero keyword overlap.
              <Function test_empty_keyword_sets>
                Test handling of empty keyword sets.
              <Function test_all_components_negative>
                Test scenario where all components contribute negatively.
            <Class TestActivationEngineFormula>
              Test that the total activation formula is correctly implemented.
              <Function test_formula_correctness_manual_calculation>
                Test that total matches manual formula calculation.
              <Function test_formula_decay_subtracted_not_added>
                Test that decay penalty is subtracted from total, not added.
              <Function test_formula_all_components_sum_correctly>
                Test that all enabled components sum correctly to total.
          <Module test_retrieval.py>
            Unit tests for Activation-Based Retrieval.
            
            Tests the ActivationRetriever and BatchRetriever classes including:
            - RetrievalConfig and RetrievalResult models
            - Activation-based filtering and ranking
            - Threshold-based filtering
            - Top-N retrieval
            - Batch retrieval optimization
            - Retrieval with relationship graphs
            - Activation calculation and explanation
            - Edge cases (empty candidates, no spreading, zero keywords)
            <Class TestRetrievalConfig>
              Test RetrievalConfig model.
              <Function test_default_config>
                Test default configuration values.
              <Function test_custom_config>
                Test custom configuration values.
              <Function test_max_results_validation>
                Test max_results must be at least 1.
              <Function test_threshold_can_be_negative>
                Test threshold can be negative for permissive retrieval.
            <Class TestRetrievalResult>
              Test RetrievalResult model.
              <Function test_default_result>
                Test creating result with default values.
              <Function test_result_with_components>
                Test creating result with component breakdown.
              <Function test_result_rank_update>
                Test that result rank can be updated.
            <Class TestActivationRetriever>
              Test ActivationRetriever functionality.
              <Function test_retriever_initialization_default>
                Test retriever initializes with default config.
              <Function test_retriever_initialization_custom_config>
                Test retriever initializes with custom config.
              <Function test_retrieve_empty_candidates>
                Test retrieving with no candidates.
              <Function test_retrieve_single_chunk_above_threshold>
                Test retrieving single chunk above threshold.
              <Function test_retrieve_filters_below_threshold>
                Test that chunks below threshold are filtered out.
              <Function test_retrieve_sorts_by_activation>
                Test that results are sorted by activation (descending).
              <Function test_retrieve_respects_max_results>
                Test that max_results limits the number of returned chunks.
              <Function test_retrieve_with_spreading_scores>
                Test retrieval with pre-calculated spreading scores.
              <Function test_retrieve_include_components>
                Test retrieval with component breakdown included.
              <Function test_retrieve_without_components>
                Test retrieval without component breakdown.
            <Class TestActivationRetrieverWithGraph>
              Test ActivationRetriever with relationship graph.
              <Function test_retrieve_with_graph_no_sources>
                Test retrieval with graph but no source chunks.
              <Function test_retrieve_with_graph_and_sources>
                Test retrieval with graph and source chunks.
              <Function test_retrieve_with_graph_no_graph>
                Test retrieval with source chunks but no graph.
            <Class TestActivationRetrieverTopN>
              Test top-N retrieval functionality.
              <Function test_retrieve_top_n_no_threshold>
                Test top-N retrieval ignores threshold.
              <Function test_retrieve_top_n_fewer_than_n>
                Test top-N when candidates < n.
              <Function test_retrieve_top_n_with_spreading>
                Test top-N retrieval with spreading scores.
            <Class TestActivationCalculations>
              Test activation calculation methods.
              <Function test_calculate_activations_for_all_candidates>
                Test calculating activations for all candidates without filtering.
              <Function test_calculate_activations_with_spreading>
                Test calculating activations with spreading scores.
            <Class TestExplainRetrieval>
              Test retrieval explanation functionality.
              <Function test_explain_retrieval_above_threshold>
                Test explaining why a chunk was retrieved.
              <Function test_explain_retrieval_below_threshold>
                Test explaining why a chunk was filtered out.
            <Class TestBatchRetriever>
              Test BatchRetriever for large-scale retrieval.
              <Function test_batch_retriever_initialization>
                Test batch retriever initialization.
              <Function test_batch_retriever_small_dataset>
                Test batch retriever with dataset smaller than batch size.
              <Function test_batch_retriever_large_dataset>
                Test batch retriever with dataset larger than batch size.
              <Function test_batch_retriever_respects_max_results>
                Test batch retriever respects max_results limit.
              <Function test_batch_retriever_ranks_correctly>
                Test batch retriever assigns ranks correctly across batches.
            <Class TestRetrievalEdgeCases>
              Test edge cases and boundary conditions.
              <Function test_retrieve_with_none_keywords>
                Test retrieval with None keywords.
              <Function test_retrieve_with_empty_keywords>
                Test retrieval with empty keyword sets.
              <Function test_retrieve_chunk_never_accessed>
                Test retrieving chunk with no access history.
              <Function test_retrieve_with_zero_threshold>
                Test retrieval with threshold of 0.0.
              <Function test_retrieve_override_config_threshold>
                Test that retrieval threshold can be overridden.
              <Function test_retrieve_override_max_results>
                Test that max_results can be overridden.
              <Function test_retrieve_no_sorting>
                Test retrieval with sorting disabled.
              <Function test_retrieve_identical_activations>
                Test retrieval when chunks have identical activation.
          <Module test_spreading.py>
            Unit tests for Spreading Activation.
            
            Tests the ACT-R spreading activation calculation including:
            - Relationship graph construction and traversal
            - BFS-based activation propagation
            - Distance-based decay (spread_factor^hop_count)
            - Weight-based spreading (stronger relationships contribute more)
            - Edge cases (cycles, max_hops, max_edges, bidirectional spreading)
            <Class TestRelationship>
              Test Relationship model.
              <Function test_create_relationship_minimal>
                Test creating relationship with minimal required fields.
              <Function test_create_relationship_with_weight>
                Test creating relationship with custom weight.
              <Function test_weight_validation_valid_range>
                Test weight must be between 0.0 and 1.0.
              <Function test_weight_validation_negative>
                Test weight cannot be negative.
              <Function test_weight_validation_above_one>
                Test weight cannot exceed 1.0.
              <Function test_relationship_types>
                Test different relationship types are supported.
            <Class TestSpreadingConfig>
              Test SpreadingConfig model.
              <Function test_default_config>
                Test default configuration values.
              <Function test_custom_config>
                Test custom configuration values.
              <Function test_spread_factor_validation>
                Test spread_factor must be between 0.0 and 1.0.
              <Function test_max_hops_validation>
                Test max_hops must be between 1 and 5.
              <Function test_max_edges_validation>
                Test max_edges must be at least 1.
              <Function test_min_weight_validation>
                Test min_weight must be between 0.0 and 1.0.
            <Class TestRelationshipGraph>
              Test RelationshipGraph construction and operations.
              <Function test_empty_graph>
                Test empty graph initialization.
              <Function test_add_single_relationship>
                Test adding a single relationship.
              <Function test_add_multiple_relationships>
                Test adding multiple relationships.
              <Function test_get_outgoing_no_edges>
                Test get_outgoing for chunk with no outgoing edges.
              <Function test_get_incoming_no_edges>
                Test get_incoming for chunk with no incoming edges.
              <Function test_multiple_outgoing_edges>
                Test chunk with multiple outgoing edges.
              <Function test_multiple_incoming_edges>
                Test chunk with multiple incoming edges.
              <Function test_bidirectional_relationships>
                Test that relationships can be bidirectional (separate edges).
              <Function test_clear_graph>
                Test clearing all relationships.
              <Function test_self_loop>
                Test that self-loops are allowed in the graph.
            <Class TestSpreadingActivation>
              Test SpreadingActivation calculation.
              <Function test_no_relationships>
                Test spreading with no relationships returns empty dict.
              <Function test_single_hop_spreading>
                Test spreading activation across single hop.
              <Function test_two_hop_spreading>
                Test spreading activation across two hops.
              <Function test_three_hop_spreading>
                Test spreading activation across three hops (max default).
              <Function test_max_hops_limits_spreading>
                Test that max_hops parameter limits spreading depth.
              <Function test_weight_affects_spreading>
                Test that relationship weight affects spreading amount.
              <Function test_multiple_paths_accumulate>
                Test that multiple paths to same chunk accumulate activation.
              <Function test_multiple_source_chunks>
                Test spreading from multiple source chunks.
              <Function test_source_chunks_not_in_result>
                Test that source chunks don't receive spreading activation.
              <Function test_bidirectional_spreading>
                Test bidirectional spreading follows both incoming and outgoing edges.
              <Function test_unidirectional_spreading>
                Test unidirectional spreading only follows outgoing edges.
              <Function test_min_weight_threshold>
                Test that relationships below min_weight are ignored.
              <Function test_max_edges_limit>
                Test that max_edges parameter prevents runaway spreading.
              <Function test_cycle_handling>
                Test that cycles don't cause infinite loops.
              <Function test_self_loop_ignored>
                Test that self-loops don't cause spreading to self.
              <Function test_custom_spread_factor>
                Test that custom spread_factor affects decay rate.
              <Function test_complex_graph>
                Test spreading in a complex graph with multiple patterns.
            <Class TestSpreadingActivationConvenienceMethods>
              Test convenience methods of SpreadingActivation.
              <Function test_calculate_from_relationships>
                Test convenience method that takes Relationship list.
              <Function test_get_related_chunks>
                Test get_related_chunks returns sorted list.
              <Function test_get_related_chunks_with_threshold>
                Test get_related_chunks filters by minimum activation.
              <Function test_get_related_chunks_empty_graph>
                Test get_related_chunks with empty graph returns empty list.
            <Class TestCalculateSpreadingFunction>
              Test standalone calculate_spreading function.
              <Function test_calculate_spreading_with_defaults>
                Test standalone function with default parameters.
              <Function test_calculate_spreading_with_custom_params>
                Test standalone function with custom spread_factor and max_hops.
            <Class TestACTRSpreadingFormula>
              Test that implementation matches ACT-R spreading activation literature.
              <Function test_actr_single_hop_formula>
                Test against ACT-R formula: spreading = weight × spread_factor^hop.
              <Function test_actr_two_hop_formula>
                Test against ACT-R formula for two-hop spreading.
              <Function test_actr_multiple_paths_accumulation>
                Test ACT-R principle: multiple paths accumulate additively.
              <Function test_actr_distance_decay_principle>
                Test ACT-R principle: activation decays exponentially with distance.
              <Function test_actr_relationship_strength_principle>
                Test ACT-R principle: stronger relationships contribute more activation.
            <Class TestEdgeCases>
              Test edge cases and error handling.
              <Function test_empty_source_list>
                Test spreading with empty source list.
              <Function test_source_not_in_graph>
                Test spreading from chunk not in graph.
              <Function test_disconnected_components>
                Test graph with disconnected components.
              <Function test_very_large_graph>
                Test spreading in a very large graph respects max_edges.
              <Function test_zero_spread_factor>
                Test spreading with spread_factor=0 (no spreading beyond 1 hop).
              <Function test_spread_factor_one>
                Test spreading with spread_factor=1.0 (no decay).
              <Function test_all_weights_below_threshold>
                Test when all relationships are below min_weight threshold.
        <Dir optimization>
          <Module test_cache_manager.py>
            Unit tests for CacheManager.
            
            Tests cover:
            - LRU cache operations (get, set, eviction)
            - Hot cache tier
            - Activation scores cache with TTL
            - Cache promotion
            - Cache statistics
            - Memory usage estimation
            <Class TestLRUCache>
              Test LRU cache implementation.
              <Function test_set_and_get>
                Test basic set and get operations.
              <Function test_get_nonexistent_key>
                Test getting nonexistent key returns None.
              <Function test_eviction_at_capacity>
                Test LRU eviction when capacity is reached.
              <Function test_lru_order_on_access>
                Test that accessing an item updates its position.
              <Function test_update_existing_key>
                Test updating an existing key.
              <Function test_access_count_increments>
                Test that access count increments on get.
              <Function test_clear>
                Test clearing all entries.
              <Function test_size>
                Test size reporting.
              <Function test_items>
                Test getting all items.
            <Class TestCacheEntry>
              Test CacheEntry data class.
              <Function test_create_entry>
                Test creating cache entry.
              <Function test_default_last_access>
                Test that last_access defaults to timestamp.
              <Function test_is_expired>
                Test expiration check.
            <Class TestCacheManagerHotCache>
              Test hot cache tier operations.
              <Function test_set_and_get_chunk>
                Test setting and getting chunks.
              <Function test_get_chunk_miss>
                Test cache miss returns None.
              <Function test_hot_cache_hit_tracking>
                Test that hot cache hits are tracked.
              <Function test_hot_cache_miss_tracking>
                Test that hot cache misses are tracked.
              <Function test_hot_cache_eviction_tracking>
                Test that evictions are tracked.
              <Function test_clear_hot_cache>
                Test clearing hot cache.
            <Class TestActivationScoresCache>
              Test activation scores caching with TTL.
              <Function test_set_and_get_activation>
                Test setting and getting activation scores.
              <Function test_get_activation_miss>
                Test activation cache miss returns None.
              <Function test_activation_expiration>
                Test that expired activations are not returned.
              <Function test_activation_hit_tracking>
                Test that activation cache hits are tracked.
              <Function test_activation_miss_tracking>
                Test that activation cache misses are tracked.
              <Function test_cleanup_expired_activations>
                Test cleanup of expired activations.
              <Function test_clear_activation_cache>
                Test clearing activation cache.
            <Class TestCacheStats>
              Test cache statistics tracking.
              <Function test_stats_initialization>
                Test stats start at zero.
              <Function test_hot_hit_rate_calculation>
                Test hot cache hit rate calculation.
              <Function test_hot_hit_rate_with_no_queries>
                Test hit rate with no queries.
              <Function test_activation_hit_rate_calculation>
                Test activation cache hit rate calculation.
              <Function test_overall_hit_rate>
                Test overall hit rate across all tiers.
              <Function test_get_stats>
                Test getting stats from manager.
              <Function test_clear_all_resets_stats>
                Test that clear_all resets statistics.
            <Class TestMemoryUsage>
              Test memory usage estimation.
              <Function test_memory_usage_empty>
                Test memory usage with empty cache.
              <Function test_memory_usage_with_chunks>
                Test memory usage with cached chunks.
              <Function test_memory_usage_with_activations>
                Test memory usage with cached activations.
            <Class TestCacheIntegration>
              Test integrated cache operations.
              <Function test_mixed_cache_operations>
                Test mixed operations across cache tiers.
              <Function test_cache_thrashing>
                Test cache behavior under thrashing conditions.
            <Class TestEdgeCases>
              Test edge cases and error conditions.
              <Function test_zero_capacity_cache>
                Test cache with zero capacity.
              <Function test_negative_ttl>
                Test behavior with negative TTL.
              <Function test_very_large_cache>
                Test cache with very large capacity.
              <Function test_clear_all>
                Test clearing all caches.
          <Module test_parallel_executor.py>
            Unit tests for ParallelAgentExecutor.
            
            Tests cover:
            - Basic parallel execution
            - Dynamic concurrency scaling
            - Early termination on critical failures
            - Result streaming
            - Priority-based execution
            - Statistics tracking
            <Class TestBasicExecution>
              Test basic parallel execution.
              <Function test_execute_single_task>
                Test executing a single task.
              <Function test_execute_multiple_tasks>
                Test executing multiple tasks in parallel.
              <Function test_task_with_kwargs>
                Test task execution with keyword arguments.
              <Function test_execution_time_tracking>
                Test that execution time is tracked.
            <Class TestFailureHandling>
              Test failure handling.
              <Function test_task_failure>
                Test handling of task failure.
              <Function test_mixed_success_and_failure>
                Test mixed successful and failing tasks.
            <Class TestPriorityExecution>
              Test priority-based execution.
              <Function test_critical_priority_first>
                Test that critical tasks are executed first.
            <Class TestEarlyTermination>
              Test early termination on critical failures.
              <Function test_early_termination_on_critical_failure>
                Test that critical failure stops other tasks.
              <Function test_no_early_termination_when_disabled>
                Test that all tasks complete when early termination disabled.
              <Function test_non_critical_failure_continues>
                Test that non-critical failures don't stop execution.
            <Class TestResultStreaming>
              Test result streaming functionality.
              <Function test_streaming_yields_results>
                Test that streaming yields results as they complete.
              <Function test_streaming_early_termination>
                Test that streaming respects early termination.
              <Function test_streaming_order>
                Test that streaming yields results in completion order.
            <Class TestDynamicConcurrency>
              Test dynamic concurrency scaling.
              <Function test_initial_concurrency>
                Test that initial concurrency is set to minimum.
              <Function test_concurrency_adjustment_on_fast_responses>
                Test that concurrency increases with fast responses.
              <Function test_concurrency_stays_within_bounds>
                Test that concurrency respects min/max bounds.
              <Function test_reset_concurrency>
                Test resetting concurrency to initial state.
            <Class TestStatisticsTracking>
              Test statistics tracking.
              <Function test_basic_stats_tracking>
                Test that basic statistics are tracked.
              <Function test_stats_with_failures>
                Test statistics with failed tasks.
              <Function test_stats_with_early_termination>
                Test statistics with early termination.
              <Function test_concurrency_used_in_stats>
                Test that concurrency used is tracked in stats.
            <Class TestEdgeCases>
              Test edge cases and error conditions.
              <Function test_empty_task_list>
                Test execution with empty task list.
              <Function test_single_task_with_high_min_concurrency>
                Test single task with min_concurrency > 1.
              <Function test_very_slow_task>
                Test handling of very slow task.
              <Function test_concurrent_failures>
                Test multiple concurrent failures.
          <Module test_query_optimizer.py>
            Unit tests for QueryOptimizer.
            
            Tests cover:
            - Chunk type inference from queries
            - Pre-filtering by chunk type
            - Activation threshold filtering
            - Batch activation calculation
            - Full optimized retrieval pipeline
            - Statistics tracking
            <Class TestChunkTypeInference>
              Test chunk type inference from query keywords.
              <Function test_infer_function_type>
                Test inference of function type from query.
              <Function test_infer_class_type>
                Test inference of class type from query.
              <Function test_infer_test_type>
                Test inference of test type from query.
              <Function test_infer_multiple_types>
                Test inference of multiple types from query.
              <Function test_infer_no_types>
                Test query with no recognizable types.
              <Function test_case_insensitive_inference>
                Test that inference is case-insensitive.
              <Function test_module_inference>
                Test inference of module type.
              <Function test_documentation_inference>
                Test inference of documentation type.
            <Class TestPreFiltering>
              Test pre-filtering of candidates by chunk type.
              <Function test_filter_by_single_type>
                Test filtering by a single chunk type.
              <Function test_filter_by_multiple_types>
                Test filtering by multiple chunk types.
              <Function test_filter_by_query_inference>
                Test filtering using type inference from query.
              <Function test_no_filtering_when_disabled>
                Test that filtering is skipped when disabled.
              <Function test_no_filtering_when_no_types_inferred>
                Test no filtering when query has no recognizable types.
              <Function test_explicit_types_override_inference>
                Test that explicit types override query inference.
            <Class TestActivationThresholdFiltering>
              Test activation threshold filtering.
              <Function test_threshold_filters_low_activation>
                Test that chunks below threshold are filtered out.
              <Function test_threshold_includes_high_activation>
                Test that chunks above threshold are included.
              <Function test_batch_processing>
                Test that batch processing works correctly.
              <Function test_zero_activation_filtered>
                Test that zero-activation chunks are filtered.
            <Class TestOptimizedRetrieval>
              Test full optimized retrieval pipeline.
              <Function test_retrieve_optimized_returns_results>
                Test that optimized retrieval returns results.
              <Function test_retrieve_optimized_applies_type_filter>
                Test that type filtering is applied.
              <Function test_retrieve_optimized_respects_top_k>
                Test that only top-k results are returned.
              <Function test_retrieve_optimized_tracks_stats>
                Test that statistics are tracked correctly.
              <Function test_retrieve_without_stats>
                Test retrieval without statistics.
              <Function test_reduction_ratio_calculation>
                Test reduction ratio calculation.
              <Function test_explicit_chunk_types_override>
                Test that explicit chunk types override inference.
            <Class TestKeywordExtraction>
              Test query keyword extraction.
              <Function test_extract_keywords>
                Test basic keyword extraction.
              <Function test_extract_keywords_lowercase>
                Test that keywords are lowercase.
              <Function test_extract_removes_stop_words>
                Test that stop words are removed.
            <Class TestEdgeCases>
              Test edge cases and error conditions.
              <Function test_empty_query>
                Test retrieval with empty query.
              <Function test_no_candidates>
                Test retrieval with no candidates.
              <Function test_zero_top_k>
                Test retrieval with top_k=0.
              <Function test_large_top_k>
                Test retrieval with top_k larger than available chunks.
        <Dir resilience>
          <Module test_alerting.py>
            Unit tests for Alerting class.
            
            Tests alert rules and notification system.
            <Class TestAlertSeverity>
              Test AlertSeverity enum.
              <Function test_severity_values>
                Test severity enum values.
            <Class TestAlertRule>
              Test AlertRule dataclass.
              <Function test_rule_creation>
                Test creating an alert rule.
              <Function test_rule_evaluate_greater_than>
                Test rule evaluation with greater than.
              <Function test_rule_evaluate_greater_than_or_equal>
                Test rule evaluation with greater than or equal.
              <Function test_rule_evaluate_less_than>
                Test rule evaluation with less than.
              <Function test_rule_evaluate_less_than_or_equal>
                Test rule evaluation with less than or equal.
              <Function test_rule_evaluate_equal>
                Test rule evaluation with equal.
              <Function test_rule_evaluate_invalid_comparison>
                Test invalid comparison operator.
            <Class TestAlertingInitialization>
              Test Alerting initialization.
              <Function test_default_initialization>
                Test Alerting initializes with empty state.
            <Class TestAlertingRuleManagement>
              Test alert rule management.
              <Function test_add_rule>
                Test adding an alert rule.
              <Function test_add_duplicate_rule>
                Test adding duplicate rule raises error.
              <Function test_remove_rule>
                Test removing an alert rule.
              <Function test_remove_nonexistent_rule>
                Test removing nonexistent rule raises error.
              <Function test_add_default_rules>
                Test adding default rules.
              <Function test_add_default_rules_idempotent>
                Test adding default rules multiple times is idempotent.
            <Class TestAlertingEvaluation>
              Test alert evaluation.
              <Function test_evaluate_no_alerts>
                Test evaluation with no thresholds exceeded.
              <Function test_evaluate_single_alert>
                Test evaluation with one threshold exceeded.
              <Function test_evaluate_multiple_alerts>
                Test evaluation with multiple thresholds exceeded.
              <Function test_evaluate_missing_metric>
                Test evaluation skips rules for missing metrics.
              <Function test_evaluate_tracks_fired_alerts>
                Test that fired alerts are tracked.
            <Class TestAlertingNotifications>
              Test alert notification system.
              <Function test_notification_logs_alert>
                Test that alerts are logged.
              <Function test_add_notification_handler>
                Test adding custom notification handler.
              <Function test_custom_handler_called>
                Test custom handler is called for alerts.
              <Function test_handler_exception_logged>
                Test that handler exceptions are logged and don't propagate.
            <Class TestAlertingHistory>
              Test alert history management.
              <Function test_get_fired_alerts>
                Test retrieving fired alerts.
              <Function test_get_fired_alerts_by_severity>
                Test filtering fired alerts by severity.
              <Function test_clear_alerts>
                Test clearing alert history.
            <Class TestAlertingStatistics>
              Test alerting statistics.
              <Function test_get_stats_empty>
                Test statistics with no alerts.
              <Function test_get_stats_with_alerts>
                Test statistics with fired alerts.
              <Function test_get_stats_repeated_alerts>
                Test statistics with repeated alerts.
          <Module test_metrics_collector.py>
            Unit tests for MetricsCollector class.
            
            Tests performance and reliability metrics tracking.
            <Class TestMetricsCollectorInitialization>
              Test MetricsCollector initialization.
              <Function test_default_initialization>
                Test MetricsCollector starts with zero metrics.
            <Class TestMetricsCollectorQueryTracking>
              Test query metrics tracking.
              <Function test_record_query_success>
                Test recording successful query.
              <Function test_record_query_failure>
                Test recording failed query.
              <Function test_record_multiple_queries>
                Test recording multiple queries.
              <Function test_calculate_average_latency>
                Test average latency calculation.
              <Function test_calculate_p95_latency>
                Test p95 latency calculation.
              <Function test_p95_with_small_sample>
                Test p95 calculation with small sample size.
              <Function test_invalid_latency>
                Test validation of latency values.
            <Class TestMetricsCollectorCacheTracking>
              Test cache metrics tracking.
              <Function test_record_cache_hit>
                Test recording cache hit.
              <Function test_record_cache_miss>
                Test recording cache miss.
              <Function test_calculate_hit_rate>
                Test cache hit rate calculation.
              <Function test_hit_rate_with_no_accesses>
                Test hit rate when no cache accesses recorded.
            <Class TestMetricsCollectorErrorTracking>
              Test error metrics tracking.
              <Function test_record_error>
                Test recording error.
              <Function test_record_multiple_errors>
                Test recording multiple errors.
              <Function test_calculate_error_rate>
                Test error rate calculation.
              <Function test_error_rate_with_no_queries>
                Test error rate when no queries recorded.
              <Function test_error_rate_all_success>
                Test error rate with all successful queries.
              <Function test_error_rate_all_failures>
                Test error rate with all failed queries.
            <Class TestMetricsCollectorReset>
              Test metrics reset functionality.
              <Function test_reset_metrics>
                Test resetting all metrics to zero.
            <Class TestMetricsCollectorSnapshot>
              Test metrics snapshot functionality.
              <Function test_get_metrics_returns_copy>
                Test that get_metrics() returns a copy, not reference.
              <Function test_get_metrics_consistent>
                Test that metrics snapshot is consistent.
            <Class TestMetricsCollectorEdgeCases>
              Test edge cases and boundary conditions.
              <Function test_zero_latency>
                Test recording query with zero latency.
              <Function test_very_large_latency>
                Test recording query with very large latency.
              <Function test_many_queries>
                Test recording many queries (performance check).
              <Function test_concurrent_access_simulation>
                Test simulated concurrent access (thread-safety check).
            <Class TestMetricsCollectorExport>
              Test metrics export functionality.
              <Function test_export_format>
                Test that exported metrics have correct structure.
          <Module test_rate_limiter.py>
            Unit tests for RateLimiter class.
            
            Tests token bucket rate limiting algorithm.
            <Class TestRateLimiterInitialization>
              Test RateLimiter initialization.
              <Function test_default_initialization>
                Test RateLimiter with default parameters (60 requests/minute).
              <Function test_custom_initialization>
                Test RateLimiter with custom parameters.
              <Function test_invalid_requests_per_minute>
                Test validation of requests_per_minute parameter.
              <Function test_invalid_max_wait_time>
                Test validation of max_wait_time parameter.
            <Class TestRateLimiterTokenRefill>
              Test token refill logic.
              <Function test_refill_tokens_after_time>
                Test that tokens refill over time.
              <Function test_refill_capped_at_max>
                Test that token refill is capped at max_tokens.
              <Function test_no_refill_when_full>
                Test that refill does nothing when bucket is full.
              <Function test_partial_token_refill>
                Test partial token refill.
            <Class TestRateLimiterAcquire>
              Test token acquisition logic.
              <Function test_acquire_when_tokens_available>
                Test acquiring token when available.
              <Function test_acquire_multiple_tokens>
                Test acquiring multiple tokens.
              <Function test_acquire_fails_when_no_tokens>
                Test acquiring fails when no tokens available.
              <Function test_acquire_with_custom_cost>
                Test acquiring with custom token cost.
              <Function test_acquire_fails_when_insufficient_tokens>
                Test acquiring fails when insufficient tokens for cost.
              <Function test_acquire_invalid_cost>
                Test validation of token cost.
            <Class TestRateLimiterWaitIfNeeded>
              Test wait_if_needed blocking logic.
              <Function test_wait_if_needed_no_wait_when_tokens_available>
                Test no waiting when tokens available.
              <Function test_wait_if_needed_waits_for_refill>
                Test waiting for token refill.
              <Function test_wait_if_needed_timeout_exceeded>
                Test that wait times exceeding max_wait_time raise error.
              <Function test_wait_if_needed_with_custom_cost>
                Test waiting with custom token cost.
            <Class TestRateLimiterIntegration>
              Test RateLimiter in realistic scenarios.
              <Function test_burst_then_throttle>
                Test burst of requests followed by throttling.
              <Function test_sustained_rate>
                Test sustained request rate at limit.
              <Function test_rate_limiter_reset>
                Test resetting the rate limiter.
            <Class TestRateLimiterEdgeCases>
              Test edge cases and boundary conditions.
              <Function test_zero_tokens_available>
                Test behavior when exactly 0 tokens available.
              <Function test_fractional_token>
                Test acquiring with fractional tokens available.
              <Function test_very_long_idle_time>
                Test refill after very long idle period.
              <Function test_high_rate_limit>
                Test with very high rate limit.
              <Function test_low_rate_limit>
                Test with very low rate limit.
            <Class TestRateLimiterContextManager>
              Test RateLimiter as context manager.
              <Function test_as_context_manager>
                Test using RateLimiter with 'with' statement.
              <Function test_context_manager_waits_if_needed>
                Test context manager waits for tokens if needed.
          <Module test_retry_handler.py>
            Unit tests for RetryHandler class.
            
            Tests exponential backoff retry logic for transient errors.
            <Class TestRetryHandlerInitialization>
              Test RetryHandler initialization and configuration.
              <Function test_default_initialization>
                Test RetryHandler with default parameters.
              <Function test_custom_initialization>
                Test RetryHandler with custom parameters.
              <Function test_invalid_max_retries>
                Test validation of max_retries parameter.
              <Function test_invalid_base_delay>
                Test validation of base_delay parameter.
              <Function test_invalid_backoff_factor>
                Test validation of backoff_factor parameter.
            <Class TestRetryHandlerRecoverableErrors>
              Test classification of recoverable vs non-recoverable errors.
              <Function test_is_recoverable_network_timeout>
                Test that network timeout errors are recoverable.
              <Function test_is_recoverable_connection_error>
                Test that connection errors are recoverable.
              <Function test_is_recoverable_storage_error>
                Test that storage errors (database lock) are recoverable.
              <Function test_is_not_recoverable_configuration_error>
                Test that configuration errors are non-recoverable.
              <Function test_is_not_recoverable_budget_exceeded>
                Test that budget exceeded errors are non-recoverable.
              <Function test_is_not_recoverable_validation_error>
                Test that validation errors are non-recoverable.
              <Function test_is_recoverable_generic_aurora_error>
                Test that generic AuroraError is not recoverable by default.
              <Function test_custom_recoverable_errors>
                Test custom recoverable error types.
            <Class TestRetryHandlerExponentialBackoff>
              Test exponential backoff calculation.
              <Function test_calculate_delay_first_attempt>
                Test delay calculation for first retry (attempt 1).
              <Function test_calculate_delay_second_attempt>
                Test delay calculation for second retry (attempt 2).
              <Function test_calculate_delay_third_attempt>
                Test delay calculation for third retry (attempt 3).
              <Function test_calculate_delay_with_max_delay>
                Test delay calculation is capped by max_delay.
              <Function test_calculate_delay_with_custom_backoff>
                Test delay with custom backoff factor.
            <Class TestRetryHandlerExecute>
              Test retry execution logic.
              <Function test_execute_success_first_try>
                Test successful execution on first attempt (no retries).
              <Function test_execute_success_after_retries>
                Test successful execution after transient failures.
              <Function test_execute_max_retries_exceeded>
                Test that max retries limit is enforced.
              <Function test_execute_non_recoverable_error_immediate_failure>
                Test that non-recoverable errors fail immediately without retries.
              <Function test_execute_with_args_and_kwargs>
                Test execute passes args and kwargs to function.
              <Function test_execute_delays_between_retries>
                Test that delays are applied between retry attempts.
              <Function test_execute_records_retry_count>
                Test that retry count is tracked.
              <Function test_execute_records_total_delay>
                Test that total delay is tracked.
            <Class TestRetryHandlerCallable>
              Test RetryHandler as a callable decorator.
              <Function test_as_decorator>
                Test RetryHandler can be used as a decorator.
              <Function test_as_decorator_with_args>
                Test decorated function with arguments.
            <Class TestRetryHandlerEdgeCases>
              Test edge cases and error conditions.
              <Function test_execute_with_none_return>
                Test function that returns None.
              <Function test_execute_with_exception_in_finally>
                Test that exceptions in retry logic are handled.
              <Function test_zero_max_retries_validation>
                Test that max_retries=0 is rejected.
              <Function test_execute_with_custom_recoverable_in_call>
                Test passing custom recoverable errors to execute().
        <Package store>
          <Module test_sqlite_schema_migration.py>
            Unit tests for SQLite schema migration functionality.
            
            These tests verify:
            - Schema version detection from existing databases
            - Schema compatibility checking
            - Database backup functionality
            - Database reset functionality
            - SchemaMismatchError handling
            <Class TestSchemaVersionDetection>
              Tests for _detect_schema_version method.
              <Function test_detect_current_schema_version>
                Test detection of current schema version (v3).
              <Function test_detect_legacy_7_column_schema>
                Test detection of legacy 7-column schema (v1).
              <Function test_detect_fresh_database>
                Test detection for fresh database (no chunks table).
              <Function test_detect_version_from_schema_version_table>
                Test that schema_version table is used if present.
            <Class TestSchemaCompatibilityCheck>
              Tests for _check_schema_compatibility method.
              <Function test_compatible_schema_passes>
                Test that compatible schema passes without error.
              <Function test_incompatible_schema_raises_error>
                Test that incompatible schema raises SchemaMismatchError.
              <Function test_fresh_database_passes>
                Test that fresh database (no existing tables) passes.
            <Class TestBackupDatabase>
              Tests for backup_database function.
              <Function test_backup_creates_file>
                Test that backup creates a backup file.
              <Function test_backup_contains_data>
                Test that backup contains the original data.
              <Function test_backup_nonexistent_file_raises>
                Test that backing up non-existent file raises error.
              <Function test_backup_timestamp_format>
                Test that backup filename has correct timestamp format.
            <Class TestResetDatabase>
              Tests for reset_database method.
              <Function test_reset_creates_fresh_schema>
                Test that reset creates a fresh database with current schema.
              <Function test_reset_removes_wal_files>
                Test that reset removes WAL and SHM files.
              <Function test_reset_memory_database>
                Test that reset works for in-memory databases.
            <Class TestSchemaMismatchError>
              Tests for SchemaMismatchError exception.
              <Function test_error_attributes>
                Test that error has correct attributes.
              <Function test_error_message_format>
                Test that error message is user-friendly.
              <Function test_error_without_db_path>
                Test that error works without db_path.
        <Module test_chunk_base.py>
          Unit tests for the abstract Chunk base class.
          
          Tests the Chunk interface contract that all concrete chunk types must implement.
          <Class TestChunkInterface>
            Test suite for Chunk interface contract.
            <Function test_chunk_initialization>
              Test that chunk initializes with correct attributes.
            <Function test_chunk_timestamps_are_utc>
              Test that timestamps are in UTC.
            <Function test_chunk_to_json_must_be_implemented>
              Test that to_json() must be implemented by subclasses.
            <Function test_chunk_from_json_must_be_implemented>
              Test that from_json() must be implemented by subclasses.
            <Function test_chunk_validate_must_be_implemented>
              Test that validate() must be implemented by subclasses.
            <Function test_chunk_validate_raises_on_invalid>
              Test that validate() raises ValueError on invalid data.
            <Function test_chunk_repr>
              Test string representation of chunk.
            <Function test_chunk_equality>
              Test that chunks are equal if they have the same ID.
            <Function test_chunk_equality_with_non_chunk>
              Test that chunks are not equal to non-Chunk objects.
            <Function test_chunk_hash>
              Test that chunks can be hashed based on ID.
            <Function test_chunk_usable_in_set>
              Test that chunks can be used in sets.
            <Function test_chunk_usable_as_dict_key>
              Test that chunks can be used as dictionary keys.
            <Function test_chunk_serialization_round_trip>
              Test that chunk can be serialized and deserialized.
          <Class TestChunkAbstractMethods>
            Test that abstract methods cannot be called directly.
            <Function test_cannot_instantiate_abstract_chunk>
              Test that Chunk cannot be instantiated directly.
        <Module test_chunk_code.py>
          Unit tests for CodeChunk implementation.
          
          Tests serialization, validation, and edge cases for code chunks.
          <Class TestCodeChunkBasic>
            Basic functionality tests for CodeChunk.
            <Function test_code_chunk_initialization>
              Test that CodeChunk initializes correctly.
            <Function test_code_chunk_with_optional_fields>
              Test CodeChunk with all optional fields.
            <Function test_code_chunk_repr>
              Test string representation.
          <Class TestCodeChunkValidation>
            Test validation rules for CodeChunk.
            <Function test_line_start_must_be_positive>
              Test that line_start must be > 0.
            <Function test_line_start_cannot_be_negative>
              Test that line_start cannot be negative.
            <Function test_line_end_must_be_greater_or_equal_to_start>
              Test that line_end >= line_start.
            <Function test_line_end_can_equal_line_start>
              Test that single-line chunks are valid.
            <Function test_file_path_must_be_absolute>
              Test that file_path must be absolute.
            <Function test_complexity_score_must_be_in_range>
              Test that complexity_score must be [0.0, 1.0].
            <Function test_complexity_score_boundary_values>
              Test that boundary values 0.0 and 1.0 are valid.
            <Function test_element_type_must_be_valid>
              Test that element_type must be one of: function, class, method.
            <Function test_valid_element_types>
              Test all valid element types.
            <Function test_name_cannot_be_empty>
              Test that name must not be empty.
            <Function test_name_cannot_be_whitespace>
              Test that name cannot be only whitespace.
            <Function test_language_cannot_be_empty>
              Test that language must not be empty.
          <Class TestCodeChunkSerialization>
            Test JSON serialization for CodeChunk.
            <Function test_to_json_basic>
              Test basic to_json() serialization.
            <Function test_to_json_with_all_fields>
              Test to_json() with all optional fields.
            <Function test_to_json_includes_timestamps>
              Test that to_json() includes timestamps.
            <Function test_from_json_basic>
              Test basic from_json() deserialization.
            <Function test_from_json_with_optional_fields>
              Test from_json() with optional fields.
            <Function test_from_json_missing_required_field>
              Test that from_json() raises on missing required field.
            <Function test_from_json_with_defaults>
              Test that from_json() uses defaults for missing optional fields.
            <Function test_serialization_round_trip>
              Test that serialization round-trip preserves data.
          <Class TestCodeChunkEdgeCases>
            Test edge cases and boundary conditions.
            <Function test_very_large_line_numbers>
              Test with very large line numbers.
            <Function test_very_long_file_path>
              Test with very long file path.
            <Function test_very_long_name>
              Test with very long function name.
            <Function test_many_dependencies>
              Test with many dependencies.
            <Function test_unicode_in_name>
              Test with unicode characters in name.
            <Function test_multiline_docstring>
              Test with multiline docstring.
            <Function test_special_characters_in_signature>
              Test with special characters in signature.
            <Function test_absolute_path_variations>
              Test various absolute path formats.
        <Module test_chunk_store_integration.py>
          Integration tests for Chunk types with Store implementations.
          
          Tests that chunks can be properly saved and retrieved from storage.
          <Class TestCodeChunkWithMemoryStore>
            Test CodeChunk integration with MemoryStore.
            <Function test_save_and_retrieve_code_chunk>
              Test saving and retrieving a CodeChunk.
            <Function test_code_chunk_serialization_through_store>
              Test that CodeChunk JSON serialization works through store.
            <Function test_multiple_code_chunks>
              Test storing multiple CodeChunks.
            <Function test_code_chunk_update>
              Test updating a CodeChunk.
          <Class TestCodeChunkWithSQLiteStore>
            Test CodeChunk integration with SQLiteStore.
            <Function test_save_and_retrieve_code_chunk_sqlite>
              Test CodeChunk with SQLite storage.
            <Function test_code_chunk_persistence_sqlite>
              Test that CodeChunk persists across store instances.
          <Class TestReasoningChunkWithStore>
            Test ReasoningChunk integration with stores.
            <Function test_save_and_retrieve_reasoning_chunk>
              Test saving and retrieving a ReasoningChunk.
          <Class TestMixedChunkTypes>
            Test storing different chunk types together.
            <Function test_store_mixed_chunk_types>
              Test storing both CodeChunks and ReasoningChunks.
            <Function test_chunk_type_preservation>
              Test that chunk types are correctly preserved through storage.
          <Class TestChunkValidationInStore>
            Test that store enforces chunk validation.
            <Function test_invalid_chunk_rejected>
              Test that invalid chunks are rejected by store.
            <Function test_chunk_validation_on_retrieval>
              Test that retrieved chunks pass validation.
          <Class TestChunkRoundTripIntegrity>
            Test data integrity through save/retrieve cycles.
            <Function test_code_chunk_all_fields_preserved>
              Test that all CodeChunk fields survive round-trip.
            <Function test_reasoning_chunk_all_fields_preserved>
              Test that all ReasoningChunk fields survive round-trip.
        <Module test_config_loader.py>
          Unit tests for configuration loading and validation.
          
          Tests cover:
          - Config class typed access methods
          - Configuration loading with override hierarchy
          - Environment variable mapping
          - Path expansion
          - Schema validation
          - Secrets handling
          <Class TestConfigTypedAccess>
            Test Config class typed access methods.
            <Function test_get_with_dot_notation>
              Test getting values using dot notation.
            <Function test_get_with_default>
              Test getting non-existent key returns default.
            <Function test_storage_path_expansion>
              Test storage_path() returns expanded absolute path.
            <Function test_llm_config>
              Test llm_config() returns complete LLM configuration.
          <Class TestConfigLoading>
            Test configuration loading with override hierarchy.
            <Function test_load_from_defaults_only>
              Test loading with only package defaults.
            <Function test_load_with_project_override>
              Test project config overrides defaults.
            <Function test_load_with_global_override>
              Test global config overrides defaults.
            <Function test_load_with_cli_overrides>
              Test CLI overrides have highest priority.
            <Function test_override_hierarchy_precedence>
              Test complete override hierarchy: CLI > env > project > global > defaults.
          <Class TestEnvironmentVariableMapping>
            Test environment variable mapping to config keys.
            <Function test_aurora_storage_path_mapping>
              Test AURORA_STORAGE_PATH maps to storage.path.
            <Function test_aurora_llm_provider_mapping>
              Test AURORA_LLM_PROVIDER maps to llm.reasoning_provider.
            <Function test_aurora_log_level_mapping>
              Test AURORA_LOG_LEVEL maps to logging.level.
            <Function test_env_vars_override_file_config>
              Test environment variables override file-based config.
          <Class TestPathExpansion>
            Test path expansion (tilde and relative paths).
            <Function test_tilde_expansion>
              Test tilde (~) expands to home directory.
            <Function test_relative_to_absolute_conversion>
              Test relative paths convert to absolute.
          <Class TestSchemaValidation>
            Test configuration validation against JSON schema.
            <Function test_valid_minimal_config>
              Test minimal valid configuration passes validation.
            <Function test_missing_required_field_raises_error>
              Test missing required field raises ConfigurationError.
            <Function test_invalid_enum_value_raises_error>
              Test invalid enum value raises ConfigurationError.
            <Function test_out_of_range_value_raises_error>
              Test out-of-range value raises ConfigurationError.
            <Function test_malformed_json_raises_error>
              Test malformed JSON raises ConfigurationError.
          <Class TestSecretsHandling>
            Test secrets (API keys) handling.
            <Function test_api_key_from_environment_variable>
              Test API key retrieved from environment variable.
            <Function test_missing_api_key_env_var_raises_warning>
              Test missing API key environment variable logs warning (doesn't fail).
            <Function test_api_key_never_in_config_file>
              Test API keys in config files are rejected.
        <Module test_context_provider.py>
          Unit tests for ContextProvider interface and implementations.
          
          Tests the abstract ContextProvider interface and ensures concrete
          implementations follow the contract.
          <Class TestContextProviderInterface>
            Test the abstract ContextProvider interface contract.
            <Function test_retrieve_returns_list_of_chunks>
              Test that retrieve returns a list (even if empty).
            <Function test_retrieve_respects_limit>
              Test that limit parameter is passed correctly.
            <Function test_update_accepts_positive_delta>
              Test update with positive activation delta.
            <Function test_update_accepts_negative_delta>
              Test update with negative activation delta (decay).
            <Function test_refresh_can_be_called_multiple_times>
              Test refresh can be called repeatedly.
          <Class TestCodeContextProvider>
            Test CodeContextProvider implementation.
            <Function test_initialization>
              Test CodeContextProvider can be initialized.
            <Function test_retrieve_returns_empty_for_no_matches>
              Test retrieve returns empty list when no chunks match.
            <Function test_retrieve_with_empty_query_raises_error>
              Test that empty query raises ValueError.
            <Function test_retrieve_with_invalid_limit_raises_error>
              Test that invalid limit raises ValueError.
            <Function test_update_tracks_activation>
              Test update method updates activation in store.
            <Function test_refresh_can_be_called>
              Test refresh method can be called without errors.
            <Function test_retrieve_with_matching_chunks>
              Test retrieve returns chunks ordered by relevance.
            <Function test_retrieve_respects_limit>
              Test that retrieve respects the limit parameter.
            <Function test_retrieve_orders_by_relevance>
              Test that results are ordered by relevance score.
          <Class TestQueryParsing>
            Test query parsing functionality.
            <Function test_parse_query_lowercases_text>
              Test that query parsing converts to lowercase.
            <Function test_parse_query_splits_on_whitespace>
              Test that query is split on whitespace.
            <Function test_parse_query_removes_stopwords>
              Test that common stopwords are filtered out.
            <Function test_parse_query_handles_empty_string>
              Test that empty query returns empty list.
            <Function test_parse_query_handles_only_stopwords>
              Test query with only stopwords returns empty list.
            <Function test_parse_query_strips_punctuation>
              Test that punctuation is handled correctly.
            <Function test_parse_query_handles_multiple_spaces>
              Test that multiple spaces are handled correctly.
          <Class TestChunkScoring>
            Test chunk scoring functionality.
            <Function test_score_chunk_perfect_match>
              Test scoring with all keywords matching.
            <Function test_score_chunk_partial_match>
              Test scoring with some keywords matching.
            <Function test_score_chunk_no_match>
              Test scoring with no keywords matching.
            <Function test_score_chunk_empty_keywords>
              Test scoring with empty keyword list.
            <Function test_score_chunk_matches_in_name>
              Test that keywords match in chunk name.
            <Function test_score_chunk_matches_in_docstring>
              Test that keywords match in docstring.
            <Function test_score_chunk_case_insensitive>
              Test that scoring is case-insensitive.
        <Module test_conversation_logger.py>
          Unit tests for ConversationLogger.
          <Class TestConversationLogger>
            Tests for ConversationLogger.
            <Function test_initialization_default_path>
              Test logger initializes with default path.
            <Function test_initialization_custom_path>
              Test logger initializes with custom path.
            <Function test_extract_keywords_simple>
              Test keyword extraction from simple query.
            <Function test_extract_keywords_filters_stop_words>
              Test stop words are filtered out.
            <Function test_extract_keywords_handles_special_chars>
              Test keyword extraction handles special characters.
            <Function test_extract_keywords_empty_query>
              Test keyword extraction with empty query.
            <Function test_generate_filename_with_keywords>
              Test filename generation with extracted keywords.
            <Function test_generate_filename_fallback>
              Test filename generation falls back to 'query' if no keywords.
            <Function test_generate_filename_format>
              Test filename follows correct format.
            <Function test_generate_filename_consistent>
              Test filename generation is consistent within same day.
            <Function test_get_unique_path_no_collision>
              Test unique path when file doesn't exist.
            <Function test_get_unique_path_with_collision>
              Test unique path when file exists.
            <Function test_get_unique_path_multiple_collisions>
              Test unique path with multiple collisions.
            <Function test_format_log_structure>
              Test log format has correct structure.
            <Function test_format_log_json_blocks>
              Test JSON blocks are properly formatted.
            <Function test_format_log_execution_summary>
              Test execution summary is formatted correctly.
            <Function test_format_log_with_metadata>
              Test log includes optional metadata.
            <Function test_log_interaction_creates_file>
              Test log_interaction creates log file.
            <Function test_log_interaction_disabled>
              Test log_interaction returns None when disabled.
            <Function test_log_interaction_creates_directory>
              Test log_interaction creates year/month directories.
            <Coroutine test_write_async_success>
              Test async file writing succeeds.
            <Coroutine test_write_async_error_handling>
              Test async write handles errors gracefully.
            <Function test_rotate_logs>
              Test log rotation archives old files.
            <Function test_log_interaction_error_handling>
              Test log_interaction handles errors gracefully.
            <Function test_verbosity_level_enum>
              Test VerbosityLevel enum values.
            <Function test_log_can_be_reparsed>
              Test generated log can be re-parsed (JSON blocks valid).
            <Function test_get_log_directory_structure>
              Test log directory follows YYYY/MM structure.
            <Function test_log_directory_changes_by_month>
              Test log directory changes with date.
            <Function test_full_logging_workflow>
              Test complete logging workflow.
            <Function test_log_interaction_with_special_characters>
              Test logging handles special characters in query.
            <Function test_log_interaction_with_empty_phases>
              Test logging with empty phase data.
        <Module test_cost_tracker.py>
          Unit tests for CostTracker and BudgetTracker.
          <Class TestModelPricing>
            Test ModelPricing class.
            <Function test_calculate_cost_anthropic_sonnet>
              Test cost calculation for Claude Sonnet.
            <Function test_calculate_cost_anthropic_opus>
              Test cost calculation for Claude Opus.
            <Function test_calculate_cost_anthropic_haiku>
              Test cost calculation for Claude Haiku.
            <Function test_calculate_cost_openai_gpt4>
              Test cost calculation for GPT-4.
            <Function test_calculate_cost_ollama_free>
              Test cost calculation for Ollama (free).
            <Function test_calculate_cost_zero_tokens>
              Test cost calculation with zero tokens.
            <Function test_calculate_cost_large_numbers>
              Test cost calculation with large token counts.
          <Class TestPeriodBudget>
            Test PeriodBudget class.
            <Function test_init_defaults>
              Test PeriodBudget initialization with defaults.
            <Function test_remaining_usd>
              Test remaining budget calculation.
            <Function test_remaining_usd_negative>
              Test remaining budget when over limit.
            <Function test_percent_consumed>
              Test percent consumed calculation.
            <Function test_percent_consumed_zero_limit>
              Test percent consumed with zero limit.
            <Function test_is_at_soft_limit_true>
              Test soft limit detection (80%).
            <Function test_is_at_soft_limit_exact>
              Test soft limit detection at exactly 80%.
            <Function test_is_at_soft_limit_false>
              Test soft limit detection below threshold.
            <Function test_is_at_hard_limit_true>
              Test hard limit detection (100%).
            <Function test_is_at_hard_limit_over>
              Test hard limit detection over 100%.
            <Function test_is_at_hard_limit_false>
              Test hard limit detection below threshold.
          <Class TestCostTracker>
            Test CostTracker class.
            <Function test_init_default_path>
              Test CostTracker initialization with default path.
              
              Uses monkeypatch to isolate from user's global config.
            <Function test_init_custom_path>
              Test CostTracker initialization with custom path.
            <Function test_get_model_pricing_known_model>
              Test getting pricing for known model.
            <Function test_get_model_pricing_unknown_model>
              Test getting pricing for unknown model (uses default).
            <Function test_calculate_cost>
              Test cost calculation.
            <Function test_estimate_cost>
              Test cost estimation from prompt length.
            <Function test_check_budget_within_limit>
              Test budget check when within limit.
            <Function test_check_budget_soft_limit>
              Test budget check at soft limit (80%).
            <Function test_check_budget_hard_limit>
              Test budget check at hard limit (100%).
            <Function test_check_budget_exactly_at_limit>
              Test budget check exactly at 100%.
            <Function test_record_cost>
              Test recording actual cost.
            <Function test_record_cost_with_query_id>
              Test recording cost with query ID.
            <Function test_record_cost_multiple_entries>
              Test recording multiple costs.
            <Function test_get_status>
              Test getting budget status.
            <Function test_get_status_at_soft_limit>
              Test status at soft limit.
            <Function test_get_status_at_hard_limit>
              Test status at hard limit.
            <Function test_get_breakdown_by_operation>
              Test cost breakdown by operation.
            <Function test_get_breakdown_by_model>
              Test cost breakdown by model.
            <Function test_persistence_save_and_load>
              Test saving and loading budget data.
            <Function test_persistence_corrupted_file>
              Test handling of corrupted tracker file.
            <Function test_period_rollover>
              Test monthly period rollover.
            <Function test_budget_tracker_alias>
              Test BudgetTracker is an alias for CostTracker.
          <Class TestCostEstimation>
            Test cost estimation for different scenarios.
            <Function test_estimate_simple_query>
              Test estimation for simple query.
            <Function test_estimate_medium_query>
              Test estimation for medium query.
            <Function test_estimate_complex_query>
              Test estimation for complex query.
          <Class TestBudgetEnforcement>
            Test budget enforcement scenarios.
            <Function test_single_expensive_query_blocked>
              Test blocking single expensive query.
            <Function test_multiple_queries_soft_warning>
              Test soft warning after multiple queries.
            <Function test_gradual_budget_consumption>
              Test gradual budget consumption over many queries.
        <Module test_reasoning_chunk.py>
          Unit tests for ReasoningChunk implementation.
          
          Tests the full ReasoningChunk implementation including validation,
          serialization, and integration with the chunk system.
          <Class TestReasoningChunkInitialization>
            Test suite for ReasoningChunk initialization.
            <Function test_minimal_initialization>
              Test creating chunk with minimal required fields.
            <Function test_full_initialization>
              Test creating chunk with all fields populated.
            <Function test_timestamps_auto_created>
              Test that created_at and updated_at are auto-populated.
          <Class TestReasoningChunkValidation>
            Test suite for ReasoningChunk validation.
            <Function test_valid_chunk_passes_validation>
              Test that valid chunk passes validation.
            <Function test_empty_pattern_fails_validation>
              Test that empty pattern fails validation.
            <Function test_whitespace_only_pattern_fails_validation>
              Test that whitespace-only pattern fails validation.
            <Function test_success_score_below_range_fails>
              Test that success_score below 0.0 fails validation.
            <Function test_success_score_above_range_fails>
              Test that success_score above 1.0 fails validation.
            <Function test_success_score_at_boundaries_passes>
              Test that success_score at 0.0 and 1.0 passes validation.
            <Function test_invalid_complexity_fails>
              Test that invalid complexity level fails validation.
            <Function test_valid_complexity_levels_pass>
              Test that all valid complexity levels pass validation.
            <Function test_non_list_subgoals_fails>
              Test that non-list subgoals fails validation.
            <Function test_non_list_execution_order_fails>
              Test that non-list execution_order fails validation.
            <Function test_non_list_tools_used_fails>
              Test that non-list tools_used fails validation.
            <Function test_non_list_tool_sequence_fails>
              Test that non-list tool_sequence fails validation.
          <Class TestReasoningChunkSerialization>
            Test suite for ReasoningChunk serialization (to_json).
            <Function test_to_json_minimal>
              Test serialization with minimal fields.
            <Function test_to_json_full>
              Test serialization with all fields populated.
            <Function test_to_json_timestamps_are_iso_format>
              Test that timestamps are serialized in ISO format.
          <Class TestReasoningChunkDeserialization>
            Test suite for ReasoningChunk deserialization (from_json).
            <Function test_from_json_minimal>
              Test deserialization with minimal fields.
            <Function test_from_json_full>
              Test deserialization with all fields populated.
            <Function test_from_json_missing_content_raises>
              Test that missing content field raises ValueError.
            <Function test_from_json_missing_id_raises>
              Test that missing id field raises ValueError.
            <Function test_from_json_missing_optional_content_fields_uses_defaults>
              Test that missing optional content fields use default values.
            <Function test_from_json_excludes_standard_metadata_from_custom>
              Test that created_at and last_modified are not in custom metadata.
          <Class TestReasoningChunkRoundTrip>
            Test suite for serialization/deserialization round-trips.
            <Function test_round_trip_preserves_data>
              Test that serializing then deserializing preserves all data.
            <Function test_multiple_round_trips_stable>
              Test that multiple round-trips produce stable results.
          <Class TestReasoningChunkRepresentation>
            Test suite for ReasoningChunk string representation.
            <Function test_repr_format>
              Test that __repr__ returns expected format.
            <Function test_repr_short_pattern_not_truncated>
              Test that short patterns are not truncated.
          <Class TestReasoningChunkEdgeCases>
            Test suite for edge cases and special scenarios.
            <Function test_empty_lists_allowed>
              Test that empty lists for all list fields are allowed.
            <Function test_none_to_empty_list_conversion>
              Test that None values are converted to empty lists.
            <Function test_empty_metadata_allowed>
              Test that empty metadata dict is allowed.
            <Function test_none_metadata_converted_to_empty_dict>
              Test that None metadata is converted to empty dict.
            <Function test_complex_nested_structures>
              Test handling of complex nested data structures.
            <Function test_unicode_in_pattern>
              Test that unicode characters in pattern are handled correctly.
            <Function test_very_long_lists>
              Test handling of very long lists.
            <Function test_float_precision_in_success_score>
              Test that float precision is preserved for success_score.
          <Class TestReasoningChunkComplexityLevels>
            Test suite for all complexity level scenarios.
            <Function test_simple_complexity>
              Test SIMPLE complexity level.
            <Function test_medium_complexity>
              Test MEDIUM complexity level.
            <Function test_complex_complexity>
              Test COMPLEX complexity level.
            <Function test_critical_complexity>
              Test CRITICAL complexity level.
          <Class TestReasoningChunkSuccessScores>
            Test suite for success score scenarios.
            <Function test_zero_success_score>
              Test success_score of 0.0 (complete failure).
            <Function test_partial_success_score>
              Test success_score between 0.0 and 1.0.
            <Function test_high_success_score>
              Test success_score close to 1.0.
            <Function test_perfect_success_score>
              Test success_score of 1.0 (perfect success).
        <Module test_store_base.py>
          Unit tests for the abstract Store interface contract.
          
          These tests verify that any Store implementation follows the expected
          interface contract and behavior patterns.
          <Class TestStoreInterface>
            Test the Store abstract interface.
            <Function test_store_is_abstract>
              Verify Store cannot be instantiated directly.
        <Module test_store_memory.py>
          Unit tests for MemoryStore implementation.
          
          These tests verify in-memory storage functionality including:
          - Fast in-memory operations
          - Reset capability for test isolation
          - No file I/O dependencies
          <Class TestMemoryStore>
            Test MemoryStore implementation.
            <Function test_save_and_retrieve_chunk>
              Test basic save and retrieve operations.
            <Function test_get_nonexistent_chunk_returns_none>
              Test that retrieving non-existent chunk returns None.
            <Function test_update_activation_success>
              Test updating activation for existing chunk.
            <Function test_update_activation_nonexistent_chunk>
              Test updating activation for non-existent chunk raises error.
            <Function test_retrieve_by_activation_empty>
              Test retrieving by activation when no chunks exist.
            <Function test_retrieve_by_activation_with_threshold>
              Test retrieving chunks above activation threshold.
            <Function test_retrieve_by_activation_respects_limit>
              Test that retrieve_by_activation respects the limit parameter.
            <Function test_add_relationship_success>
              Test adding relationship between chunks.
            <Function test_add_relationship_nonexistent_chunks>
              Test adding relationship with non-existent chunks raises error.
            <Function test_get_related_chunks_empty>
              Test getting related chunks when none exist.
            <Function test_get_related_chunks_nonexistent>
              Test getting related chunks for non-existent chunk raises error.
            <Function test_close_store>
              Test closing the store.
            <Function test_initialize_empty>
              Test that MemoryStore initializes with empty storage.
            <Function test_reset_clears_all_data>
              Test that reset() clears all stored data.
            <Function test_contains_operator>
              Test the 'in' operator for checking chunk existence.
            <Function test_len_operator>
              Test the len() operator for counting chunks.
            <Function test_closed_store_raises_error>
              Test that operations on closed store raise errors.
            <Function test_save_chunk_stores_in_memory>
              Test that chunks are stored in memory dictionary.
            <Function test_get_chunk_returns_same_instance>
              Test that get_chunk returns the same instance (no serialization).
            <Function test_activation_updates_timestamp>
              Test that updating activation updates last_access timestamp.
            <Function test_retrieve_by_activation_exact_match>
              Test retrieving chunks with exact activation match.
            <Function test_retrieve_by_activation_sorted>
              Test that results are sorted by activation (highest first).
            <Function test_add_relationship_stores_metadata>
              Test that relationships store all metadata.
            <Function test_get_related_chunks_single_hop>
              Test getting related chunks with single hop.
            <Function test_get_related_chunks_multi_hop>
              Test getting related chunks with multiple hops.
            <Function test_get_related_chunks_no_duplicates>
              Test that related chunks are not duplicated.
            <Function test_no_file_io_operations>
              Test that MemoryStore performs no file I/O.
            <Function test_save_chunk_with_embeddings>
              Test saving a chunk with embeddings attribute.
            <Function test_get_chunk_with_embeddings>
              Test retrieving a chunk with embeddings.
            <Function test_save_chunk_without_embeddings>
              Test saving a chunk without embeddings (optional field).
            <Function test_retrieve_by_activation_with_embeddings>
              Test that retrieve_by_activation preserves embeddings.
        <Module test_store_sqlite.py>
          Unit tests for SQLiteStore implementation.
          
          These tests verify SQLite-specific functionality including:
          - Database file creation and initialization
          - Transaction handling and rollback
          - Connection management
          - Schema creation
          <Class TestSQLiteStore>
            Test SQLiteStore implementation.
            <Function test_save_and_retrieve_chunk>
              Test basic save and retrieve operations.
            <Function test_get_nonexistent_chunk_returns_none>
              Test that retrieving non-existent chunk returns None.
            <Function test_update_activation_success>
              Test updating activation for existing chunk.
            <Function test_update_activation_nonexistent_chunk>
              Test updating activation for non-existent chunk raises error.
            <Function test_retrieve_by_activation_empty>
              Test retrieving by activation when no chunks exist.
            <Function test_retrieve_by_activation_with_threshold>
              Test retrieving chunks above activation threshold.
            <Function test_retrieve_by_activation_respects_limit>
              Test that retrieve_by_activation respects the limit parameter.
            <Function test_add_relationship_success>
              Test adding relationship between chunks.
            <Function test_add_relationship_nonexistent_chunks>
              Test adding relationship with non-existent chunks raises error.
            <Function test_get_related_chunks_empty>
              Test getting related chunks when none exist.
            <Function test_get_related_chunks_nonexistent>
              Test getting related chunks for non-existent chunk raises error.
            <Function test_close_store>
              Test closing the store.
            <Function test_initialize_with_file_path>
              Test initializing SQLiteStore with file path.
            <Function test_initialize_with_home_directory_expansion>
              Test that ~ in path is expanded to home directory.
            <Function test_schema_initialization>
              Test that schema is properly initialized.
            <Function test_wal_mode_enabled>
              Test that WAL mode is enabled for file-based databases.
            <Function test_foreign_keys_enabled>
              Test that foreign key constraints are enabled.
            <Function test_save_chunk_validation_error>
              Test that invalid chunks are rejected.
            <Function test_save_chunk_updates_timestamp>
              Test that saving a chunk updates the updated_at timestamp.
            <Function test_transaction_rollback_on_error>
              Test that transactions are rolled back on errors.
            <Function test_concurrent_connections>
              Test that multiple connections can be used (thread-safety simulation).
            <Function test_relationship_cascade_delete>
              Test that relationships are cascade deleted when chunks are removed.
            <Function test_activation_initialization>
              Test that activation records are initialized when saving chunks.
            <Function test_update_activation_increments_count>
              Test that updating activation increments access count.
            <Function test_retrieve_by_activation_ordering>
              Test that results are ordered by activation (highest first).
            <Function test_get_related_chunks_depth_limit>
              Test that relationship traversal respects max_depth.
            <Function test_close_connection>
              Test that close() properly closes the connection.
            <Function test_persistence_across_instances>
              Test that data persists across store instances.
            <Function test_save_chunk_with_embeddings>
              Test saving a chunk with embeddings (BLOB field).
            <Function test_get_chunk_with_embeddings>
              Test retrieving a chunk with embeddings.
            <Function test_save_chunk_without_embeddings>
              Test saving a chunk without embeddings (optional field).
            <Function test_retrieve_by_activation_with_embeddings>
              Test that retrieve_by_activation preserves embeddings.
      <Dir mcp>
        <Module test_aurora_query_phases.py>
          Unit tests for aurora_query phase parameter and multi-turn SOAR orchestration.
          
          Tests TDD approach for refactoring aurora_query to support phase-based execution.
          <Class TestPhaseParameterValidation>
            Test phase parameter validation in aurora_query.
            <Function test_invalid_phase_name_returns_error>
              Test that invalid phase names return error JSON.
            <Function test_missing_phase_defaults_to_assess>
              Test that missing phase parameter defaults to 'assess'.
            <Function test_valid_phase_names_accepted>
              Test that all valid phase names are accepted.
          <Class TestPhaseResponseSchema>
            Test that phase responses conform to required schema.
            <Function test_phase_response_has_required_fields[assess]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[retrieve]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[decompose]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[verify]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[route]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[collect]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[synthesize]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[record]>
              Test that each phase response has all required fields.
            <Function test_phase_response_has_required_fields[respond]>
              Test that each phase response has all required fields.
            <Function test_progress_field_format>
              Test progress field follows 'N/9 phase_name' format.
            <Function test_status_field_values>
              Test status field is either 'complete' or 'error'.
            <Function test_metadata_contains_duration>
              Test metadata field contains duration_ms.
        <Module test_phase_handlers.py>
          Unit tests for SOAR phase handlers in AuroraMCPTools.
          
          Tests all 9 phase handler functions for the multi-turn SOAR pipeline:
          - assess: Complexity assessment
          - retrieve: Context retrieval
          - decompose: Query decomposition
          - verify: Decomposition verification
          - route: Agent routing
          - collect: Agent execution
          - synthesize: Result synthesis
          - record: Pattern caching
          - respond: Response formatting
          <Class TestAssessPhaseHandler>
            Tests for _handle_assess_phase method.
            <Function test_assess_simple_query_returns_early_exit>
              SIMPLE queries should suggest early exit with direct response.
            <Function test_assess_medium_query_suggests_retrieve>
              MEDIUM queries should suggest calling retrieve phase.
            <Function test_assess_complex_query_suggests_retrieve>
              COMPLEX queries should suggest calling retrieve phase.
            <Function test_assess_critical_query_suggests_retrieve>
              CRITICAL queries should suggest calling retrieve phase.
            <Function test_assess_includes_complexity_score>
              Assess phase should include complexity_score in result.
            <Function test_assess_updates_session_cache>
              Assess phase should update session cache for aurora_get.
          <Class TestRetrievePhaseHandler>
            Tests for _handle_retrieve_phase method.
            <Function test_retrieve_returns_chunks>
              Retrieve phase should return chunks in result.
            <Function test_retrieve_uses_hybrid_retriever>
              Retrieve phase should use HybridRetriever via _retrieve_chunks.
            <Function test_retrieve_updates_session_cache>
              Retrieve phase should update session cache.
            <Function test_retrieve_suggests_decompose_for_complex>
              Retrieve for MEDIUM/COMPLEX should suggest decompose phase.
            <Function test_retrieve_suggests_respond_for_simple>
              Retrieve for SIMPLE should suggest respond phase.
          <Class TestDecomposePhaseHandler>
            Tests for _handle_decompose_phase method.
            <Function test_decompose_returns_prompt_template>
              Decompose phase should return prompt template for Claude.
            <Function test_decompose_no_llm_calls>
              Decompose phase should NOT make any LLM calls.
            <Function test_decompose_accepts_context_parameter>
              Decompose phase should accept context parameter.
            <Function test_decompose_suggests_verify_next>
              Decompose phase should suggest verify phase next.
          <Class TestVerifyPhaseHandler>
            Tests for _handle_verify_phase method.
            <Function test_verify_requires_subgoals_parameter>
              Verify phase should require subgoals parameter.
            <Function test_verify_returns_pass_verdict_for_valid_subgoals>
              Verify phase should return PASS for valid subgoals.
            <Function test_verify_returns_fail_verdict_for_invalid_subgoals>
              Verify phase should return FAIL for invalid subgoals.
            <Function test_verify_pass_suggests_route>
              Verify PASS should suggest route phase.
            <Function test_verify_fail_suggests_retry>
              Verify FAIL should suggest revising decomposition.
          <Class TestRoutePhaseHandler>
            Tests for _handle_route_phase method.
            <Function test_route_maps_subgoals_to_agents>
              Route phase should map subgoals to available agents.
            <Function test_route_accepts_subgoals_parameter>
              Route phase should accept subgoals parameter.
            <Function test_route_returns_routing_plan>
              Route phase should return routing plan in result.
            <Function test_route_suggests_collect>
              Route phase should suggest collect phase next.
          <Class TestCollectPhaseHandler>
            Tests for _handle_collect_phase method.
            <Function test_collect_generates_agent_task_prompts>
              Collect phase should generate task prompts for agents.
            <Function test_collect_no_agent_execution>
              Collect phase should NOT execute agents directly.
            <Function test_collect_accepts_routing_parameter>
              Collect phase should accept routing parameter.
            <Function test_collect_suggests_synthesize>
              Collect phase should suggest synthesize phase next.
          <Class TestSynthesizePhaseHandler>
            Tests for _handle_synthesize_phase method.
            <Function test_synthesize_returns_prompt_template>
              Synthesize phase should return prompt template.
            <Function test_synthesize_accepts_agent_results_parameter>
              Synthesize phase should accept agent_results parameter.
            <Function test_synthesize_suggests_record>
              Synthesize phase should suggest record phase next.
          <Class TestRecordPhaseHandler>
            Tests for _handle_record_phase method.
            <Function test_record_caches_pattern_in_memory>
              Record phase should cache pattern in ACT-R memory.
            <Function test_record_accepts_synthesis_parameter>
              Record phase should accept synthesis parameter.
            <Function test_record_returns_cache_confirmation>
              Record phase should confirm pattern cached.
            <Function test_record_suggests_respond>
              Record phase should suggest respond phase next.
          <Class TestRespondPhaseHandler>
            Tests for _handle_respond_phase method.
            <Function test_respond_formats_final_answer>
              Respond phase should format final answer.
            <Function test_respond_includes_metadata>
              Respond phase should include all metadata.
            <Function test_respond_accepts_final_answer_parameter>
              Respond phase should accept final_answer parameter.
            <Function test_respond_suggests_present_to_user>
              Respond phase should suggest presenting to user.
        <Module test_three_tool_validation.py>
          Unit tests for 3-tool MCP configuration validation (Task 1.1 - TDD RED phase).
          
          This module tests that the MCP server only registers 3 essential tools after
          removing 6 redundant tools as specified in PRD-0022.
          
          Test Coverage:
          - MCP server only registers 3 tools: aurora_search, aurora_query, aurora_get
          - 6 tools are removed: aurora_index, aurora_context, aurora_related,
            aurora_list_agents, aurora_search_agents, aurora_show_agent
          - AuroraMCPTools class does NOT have methods for removed tools
          
          Expected State: ALL TESTS SHOULD FAIL initially (TDD RED phase).
          After implementation: ALL TESTS SHOULD PASS (TDD GREEN phase).
          <Class TestThreeToolConfiguration>
            Test that only 3 essential tools remain after redundant tool removal.
            <Function test_aurora_mcp_tools_has_only_three_methods>
              AuroraMCPTools should only have 3 public tool methods.
            <Function test_essential_tools_present>
              Essential tools (aurora_search, aurora_query, aurora_get) must be present.
            <Function test_redundant_tool_aurora_index_removed>
              aurora_index method should be removed from AuroraMCPTools.
            <Function test_redundant_tool_aurora_context_removed>
              aurora_context method should be removed from AuroraMCPTools.
            <Function test_redundant_tool_aurora_related_removed>
              aurora_related method should be removed from AuroraMCPTools.
            <Function test_redundant_tool_aurora_list_agents_removed>
              aurora_list_agents method should be removed from AuroraMCPTools.
            <Function test_redundant_tool_aurora_search_agents_removed>
              aurora_search_agents method should be removed from AuroraMCPTools.
            <Function test_redundant_tool_aurora_show_agent_removed>
              aurora_show_agent method should be removed from AuroraMCPTools.
            <Function test_only_essential_tools_are_aurora_prefixed>
              Only the 3 essential tools should have 'aurora_' prefix.
          <Class TestMCPServerRegistration>
            Test that MCP server only registers 3 tools.
            <Function test_server_registers_only_three_tools>
              MCP server should only register aurora_search, aurora_query, aurora_get.
            <Function test_removed_tools_not_in_server_exports>
              Removed tools should not be exported by server module.
      <Package planning>
        <Package commands>
          <Module test_archive.py>
            Tests for aurora.commands.archive module.
            
            Ported from OpenSpec test/core/archive.test.ts
            <Class TestArchiveCommand>
              Test ArchiveCommand class.
              <Function test_archive_change_successfully>
                Should archive a change successfully.
              <Function test_warn_about_incomplete_tasks>
                Should warn about incomplete tasks.
              <Function test_update_specs_with_added_requirements>
                Should update specs when archiving (delta-based ADDED) and include change name in skeleton.
              <Function test_allow_removed_requirements_for_new_spec>
                Should allow REMOVED requirements when creating new spec file (issue #403).
              <Function test_error_on_modified_for_new_spec>
                Should still error on MODIFIED when creating new spec file.
              <Function test_error_on_renamed_for_new_spec>
                Should still error on RENAMED when creating new spec file.
              <Function test_error_if_change_not_found>
                Should throw error if change does not exist.
              <Function test_error_if_archive_already_exists>
                Should throw error if archive already exists.
              <Function test_handle_changes_without_tasks>
                Should handle changes without tasks.md.
              <Function test_handle_changes_without_specs>
                Should handle changes without specs.
              <Function test_skip_specs_flag>
                Should skip spec updates when --skip-specs flag is used.
              <Function test_skip_validation_with_no_validate_flag>
                Should skip validation when --no-validate flag is used.
              <Function test_header_normalization>
                Should support header trim-only normalization for matching.
              <Function test_operations_applied_in_order>
                Should apply operations in order: RENAMED → REMOVED → MODIFIED → ADDED.
              <Function test_error_on_missing_requirements>
                Should abort with error when MODIFIED/REMOVED reference non-existent requirements.
              <Function test_modified_must_reference_new_header_after_rename>
                Should require MODIFIED to reference the NEW header when a rename exists.
              <Function test_multiple_specs_atomic>
                Should process multiple specs atomically (any failure aborts all).
              <Function test_aggregated_totals_across_multiple_specs>
                Should display aggregated totals across multiple specs.
              <Function test_error_when_openspec_directory_missing>
                Should throw error when .aurora/plans directory does not exist.
              <Function test_interactive_change_selection>
                Should use interactive prompt for change selection when name not provided.
          <Module test_init.py>
            Tests for aurora.commands.init module.
            
            Ported from OpenSpec test/core/init.test.ts - SIMPLIFIED VERSION
            Full configurator support deferred to Phase 7 (CLI Commands).
            <Class TestInitCommand>
              Test InitCommand class.
              <Function test_create_openspec_directory_structure>
                Should create OpenSpec directory structure.
              <Function test_create_agents_md_and_project_md>
                Should create AGENTS.md and project.md.
              <Function test_create_root_agents_md_stub>
                Should always create AGENTS.md stub in project root.
              <Function test_update_existing_root_agents_md_with_markers>
                Should update existing root AGENTS.md with markers.
              <Function test_extend_mode_preserves_existing_template_files>
                Should preserve existing template files in extend mode.
              <Function test_recreate_deleted_agents_md_in_extend_mode>
                Should recreate deleted .aurora/plans/AGENTS.md in extend mode.
              <Function test_recreate_deleted_project_md_in_extend_mode>
                Should recreate deleted .aurora/plans/project.md in extend mode.
              <Function test_handle_non_existent_target_directory>
                Should handle non-existent target directory.
          <Module test_list.py>
            Tests for aurora.commands.list module.
            
            Ported from OpenSpec test/core/list.test.ts
            <Class TestListCommand>
              Test ListCommand class.
              <Function test_missing_plans_changes_directory>
                Should handle missing .aurora/plans/changes directory.
              <Function test_empty_changes_directory>
                Should handle empty changes directory.
              <Function test_exclude_archive_directory>
                Should exclude archive directory.
              <Function test_count_tasks_correctly>
                Should count tasks correctly.
              <Function test_show_complete_status>
                Should show complete status for fully completed changes.
              <Function test_handle_changes_without_tasks>
                Should handle changes without tasks.md.
              <Function test_sort_alphabetically>
                Should sort changes alphabetically when sort=name.
              <Function test_multiple_changes_with_various_states>
                Should handle multiple changes with various states.
              <Function test_json_output_mode>
                Should output JSON when json=True.
              <Function test_list_specs_mode>
                Should list specs when mode='specs'.
              <Function test_list_specs_no_specs_directory>
                Should handle missing specs directory.
              <Function test_list_specs_empty_directory>
                Should handle empty specs directory.
              <Function test_sort_by_recent_default>
                Should sort by most recent modification by default.
          <Module test_update.py>
            Tests for aurora.commands.update module.
            
            Simplified tests focusing on AGENTS.md update.
            Full configurator tests will be added in Phase 7.
            <Class TestUpdateCommand>
              Test UpdateCommand class.
              <Function test_update_creates_agents_md>
                Should create AGENTS.md if it doesn't exist.
              <Function test_update_replaces_existing_agents_md>
                Should replace existing AGENTS.md with new template.
              <Function test_error_if_openspec_directory_missing>
                Should throw error if .aurora/plans directory does not exist.
              <Function test_verbose_output>
                Should show detailed output in verbose mode.
              <Function test_agents_template_contains_key_sections>
                Should verify AGENTS.md contains all key sections.
              <Function test_agents_template_has_critical_rules>
                Should verify AGENTS.md contains critical formatting rules.
          <Module test_view.py>
            Tests for aurora.commands.view module.
            
            Ported from OpenSpec test/core/view.test.ts
            <Class TestViewCommand>
              Test ViewCommand class.
              <Function test_shows_changes_with_no_tasks_in_draft_section>
                Should show changes with no tasks in Draft section, not Completed.
              <Function test_sorts_active_changes_by_completion_percentage_ascending>
                Should sort active changes by completion percentage ascending with deterministic tie-breakers.
        <Package converters>
          <Module test_json.py>
            Tests for JSON converter.
            <Class TestJsonConverterCapability>
              Tests for converting capabilities to JSON.
              <Function test_convert_capability_to_json>
                Test converting a capability file to JSON.
              <Function test_convert_capability_includes_metadata>
                Test that conversion includes source path metadata.
            <Class TestJsonConverterPlan>
              Tests for converting plans to JSON.
              <Function test_convert_plan_to_json>
                Test converting a plan file to JSON.
              <Function test_convert_plan_includes_metadata>
                Test that plan conversion includes source path metadata.
            <Class TestExtractNameFromPath>
              Tests for extracting names from file paths.
              <Function test_extract_name_from_capabilities_path>
                Test extracting name from capabilities path.
              <Function test_extract_name_from_plans_path>
                Test extracting name from plans path.
              <Function test_extract_name_from_filename_fallback>
                Test extracting name from filename when not in known directory.
        <Package parsers>
          <Module test_markdown.py>
            Tests for MarkdownParser.
            
            Ported from: test/core/parsers/markdown-parser.test.ts
            TDD approach: Tests written first based on TypeScript test behavior.
            
            Task: 3.1 - Write tests/unit/parsers/test_markdown.py
            <Class TestMarkdownParserParseCapability>
              Test cases for MarkdownParser.parse_capability() (was parseSpec).
              <Function test_parses_valid_capability>
                Should parse a valid capability (was spec).
              <Function test_handles_multiline_scenarios>
                Should handle multi-line scenarios.
              <Function test_throws_error_for_missing_overview>
                Should throw error for missing overview (Purpose section).
              <Function test_throws_error_for_missing_requirements>
                Should throw error for missing requirements.
            <Class TestMarkdownParserParsePlan>
              Test cases for MarkdownParser.parse_plan() (was parseChange).
              <Function test_parses_valid_plan>
                Should parse a valid plan (was change).
              <Function test_throws_error_for_missing_why_section>
                Should throw error for missing why section.
              <Function test_throws_error_for_missing_what_changes_section>
                Should throw error for missing what changes section.
              <Function test_handles_plans_without_modifications>
                Should handle plans (changes) without modifications (deltas).
              <Function test_parses_crlf_line_endings>
                Parses plan documents saved with CRLF line endings.
            <Class TestMarkdownParserSectionParsing>
              Test cases for section parsing functionality.
              <Function test_handles_nested_sections_correctly>
                Should handle nested sections correctly.
              <Function test_preserves_content_between_headers>
                Should preserve content between headers.
              <Function test_uses_requirement_heading_as_fallback>
                Should use requirement heading as fallback when no content is provided.
              <Function test_extracts_requirement_text_from_first_content_line>
                Should extract requirement text from first non-empty content line.
          <Module test_plan_parser.py>
            Tests for PlanParser (was ChangeParser).
            
            Ported from: src/core/parsers/change-parser.ts behavior
            TDD approach: Tests written first based on TypeScript behavior.
            
            Task: 3.2 - Write tests/unit/parsers/test_plan_parser.py
            <Class TestPlanParserParseWithModifications>
              Test cases for PlanParser.parse_plan_with_modifications().
              <Function test_parses_plan_with_simple_modifications>
                Should parse plan with modifications from What Changes section.
              <Function test_parses_plan_with_delta_spec_files>
                Should parse plan with delta spec files from specs/ directory.
              <Function test_handles_missing_specs_directory>
                Should handle case when specs directory doesn't exist.
              <Function test_combines_simple_and_delta_modifications>
                Should combine modifications from What Changes and delta specs.
            <Class TestPlanParserDeltaOperations>
              Test cases for parsing different delta operations.
              <Function test_parses_added_requirements>
                Should parse ADDED Requirements section.
              <Function test_parses_modified_requirements>
                Should parse MODIFIED Requirements section.
              <Function test_parses_removed_requirements>
                Should parse REMOVED Requirements section.
              <Function test_parses_renamed_requirements>
                Should parse RENAMED Requirements section.
          <Module test_requirements.py>
            Tests for requirements block parsing utilities.
            
            Ported from: src/core/parsers/requirement-blocks.ts
            TDD approach: Tests written first based on TypeScript behavior.
            
            Task: 3.3 - Write tests/unit/parsers/test_requirements.py
            <Class TestNormalizeRequirementName>
              Test cases for normalize_requirement_name().
              <Function test_trims_whitespace>
                Should trim whitespace from requirement name.
              <Function test_handles_normal_name>
                Should handle normal name without extra whitespace.
              <Function test_handles_empty_string>
                Should handle empty string.
            <Class TestExtractRequirementsSection>
              Test cases for extract_requirements_section().
              <Function test_extracts_requirements_section>
                Should extract the requirements section from content.
              <Function test_handles_missing_requirements_section>
                Should create empty requirements section if missing.
              <Function test_extracts_preamble>
                Should extract preamble content before first requirement.
              <Function test_handles_crlf_line_endings>
                Should handle CRLF line endings.
            <Class TestParseModificationSpec>
              Test cases for parse_modification_spec() (was parseDeltaSpec).
              <Function test_parses_added_requirements>
                Should parse ADDED Requirements section.
              <Function test_parses_modified_requirements>
                Should parse MODIFIED Requirements section.
              <Function test_parses_removed_requirements>
                Should parse REMOVED Requirements section.
              <Function test_parses_renamed_requirements>
                Should parse RENAMED Requirements section.
              <Function test_parses_multiple_sections>
                Should parse multiple delta sections.
              <Function test_handles_empty_content>
                Should handle empty content gracefully.
              <Function test_case_insensitive_section_headers>
                Should handle case-insensitive section headers.
              <Function test_parses_bullet_list_removed>
                Should parse removed requirements in bullet list format.
        <Package schemas>
          <Module test_base.py>
            Tests for base schemas: Scenario and Requirement.
            
            Ported from: test/core/validation.test.ts - describe('Validation Schemas')
            TDD approach: Tests written first based on TypeScript test behavior.
            
            Task: 1.3 - Write tests/unit/schemas/test_base.py
            <Class TestScenarioSchema>
              Test cases for Scenario model - ported from ScenarioSchema tests.
              <Function test_validates_valid_scenario>
                Should validate a valid scenario.
              <Function test_rejects_scenario_with_empty_text>
                Should reject scenario with empty text.
            <Class TestRequirementSchema>
              Test cases for Requirement model - ported from RequirementSchema tests.
              <Function test_validates_valid_requirement>
                Should validate a valid requirement.
              <Function test_rejects_requirement_without_shall_or_must>
                Should reject requirement without SHALL or MUST.
              <Function test_rejects_requirement_without_scenarios>
                Should reject requirement without scenarios.
              <Function test_rejects_requirement_with_empty_text>
                Should reject requirement with empty text.
              <Function test_accepts_requirement_with_must_keyword>
                Should accept requirement with MUST keyword (alternative to SHALL).
              <Function test_accepts_requirement_with_multiple_scenarios>
                Should accept requirement with multiple scenarios.
          <Module test_capability.py>
            Tests for Capability schema (was Spec schema in OpenSpec).
            
            Ported from: test/core/validation.test.ts - describe('SpecSchema')
            TDD approach: Tests written first based on TypeScript test behavior.
            
            Task: 1.7 - Write tests/unit/schemas/test_capability.py
            <Class TestCapabilitySchema>
              Test cases for Capability model (was Spec).
              <Function test_validates_valid_capability>
                Should validate a valid capability.
              <Function test_rejects_capability_without_requirements>
                Should reject capability without requirements.
              <Function test_rejects_capability_with_empty_name>
                Should reject capability with empty name.
              <Function test_rejects_capability_with_empty_overview>
                Should reject capability with empty overview (was purpose).
              <Function test_accepts_capability_with_multiple_requirements>
                Should accept capability with multiple requirements.
          <Module test_plan.py>
            Tests for Plan schema (was Change schema in OpenSpec).
            
            Ported from: test/core/validation.test.ts - describe('ChangeSchema')
            TDD approach: Tests written first based on TypeScript test behavior.
            
            Task: 1.5 - Write tests/unit/schemas/test_plan.py
            <Class TestModificationOperation>
              Test cases for ModificationOperation enum.
              <Function test_valid_operations>
                Should accept valid operation types.
            <Class TestModification>
              Test cases for Modification model (was Delta).
              <Function test_validates_valid_modification>
                Should validate a valid modification.
              <Function test_rejects_modification_with_empty_capability>
                Should reject modification with empty capability name.
              <Function test_rejects_modification_with_empty_description>
                Should reject modification with empty description.
            <Class TestPlanSchema>
              Test cases for Plan model (was Change).
              <Function test_validates_valid_plan>
                Should validate a valid plan.
              <Function test_rejects_plan_with_short_why_section>
                Should reject plan with why section shorter than 50 characters.
              <Function test_rejects_plan_with_empty_name>
                Should reject plan with empty name.
              <Function test_rejects_plan_without_modifications>
                Should reject plan without modifications.
              <Function test_warns_about_too_many_modifications>
                Should warn about plans with more than 10 modifications.
              <Function test_rejects_plan_with_empty_what_changes>
                Should reject plan with empty what_changes.
        <Module test_archive_utils.py>
          Unit tests for archive utilities.
          <Class TestGenerateArchiveName>
            Tests for generate_archive_name().
            <Function test_with_specific_date>
              Should generate archive name with provided date.
            <Function test_with_different_dates>
              Should use correct date format.
            <Function test_preserves_plan_id>
              Should preserve complete plan ID including slug.
          <Class TestArchivePlan>
            Tests for archive_plan().
            <Function test_successful_archive>
              Should move plan from active to archive with timestamp.
            <Function test_plan_not_found>
              Should raise FileNotFoundError if plan doesn't exist.
            <Function test_archive_destination_exists>
              Should raise FileExistsError if archive already exists.
            <Function test_preserves_all_files>
              Should move all files in plan directory.
          <Class TestRestorePlan>
            Tests for restore_plan().
            <Function test_successful_restore>
              Should move plan from archive back to active.
            <Function test_archive_not_found>
              Should raise FileNotFoundError if archive doesn't exist.
            <Function test_active_plan_exists>
              Should raise FileExistsError if plan already in active.
            <Function test_invalid_archive_name>
              Should raise ValueError for invalid archive name format.
          <Class TestListArchivedPlans>
            Tests for list_archived_plans().
            <Function test_empty_archive>
              Should return empty list when no archives exist.
            <Function test_single_archive>
              Should list single archived plan.
            <Function test_multiple_archives_sorted>
              Should list multiple archives sorted by date (newest first).
            <Function test_ignores_invalid_formats>
              Should ignore directories with invalid format.
            <Function test_ignores_files>
              Should ignore files in archive directory.
        <Module test_config.py>
          Tests for config module.
          <Class TestConstants>
            Tests for configuration constants.
            <Function test_aurora_dir_name>
              Test AURORA_DIR_NAME constant.
            <Function test_aurora_markers>
              Test AURORA_MARKERS dictionary.
          <Class TestAIToolOption>
            Tests for AIToolOption dataclass.
            <Function test_creates_tool_option>
              Test creating an AIToolOption.
            <Function test_tool_option_without_success_label>
              Test creating tool option without success label.
          <Class TestAITools>
            Tests for AI_TOOLS list.
            <Function test_ai_tools_is_list>
              Test AI_TOOLS is a list.
            <Function test_ai_tools_not_empty>
              Test AI_TOOLS contains items.
            <Function test_all_items_are_ai_tool_options>
              Test all items in AI_TOOLS are AIToolOption instances.
            <Function test_claude_code_in_tools>
              Test Claude Code is in the tools list.
          <Class TestAuroraConfig>
            Tests for AuroraConfig dataclass.
            <Function test_creates_aurora_config>
              Test creating an AuroraConfig.
            <Function test_empty_ai_tools>
              Test creating config with empty AI tools list.
        <Module test_configurators.py>
          Tests for ToolRegistry.
          <Class TestToolRegistry>
            Tests for ToolRegistry class.
            <Function test_register_and_get_tool>
              Test registering and retrieving a tool.
            <Function test_register_multiple_tools>
              Test registering multiple tools.
            <Function test_get_nonexistent_tool_returns_none>
              Test getting a non-existent tool returns None.
            <Function test_get_available_filters_unavailable_tools>
              Test that get_available only returns available tools.
            <Function test_clear_removes_all_tools>
              Test that clear removes all registered tools.
            <Function test_tool_id_normalization>
              Test that tool names are normalized to IDs.
            <Function test_get_all_returns_empty_list_when_no_tools>
              Test that get_all returns empty list when no tools registered.
            <Function test_get_available_returns_empty_list_when_none_available>
              Test that get_available returns empty list when no tools available.
        <Module test_global_config.py>
          Tests for global_config module.
          <Class TestGetGlobalConfigDir>
            Tests for get_global_config_dir function.
            <Function test_returns_path>
              Test returns a Path object.
            <Function test_contains_aurora>
              Test path contains 'aurora'.
            <Function test_respects_xdg_config_home>
              Test respects XDG_CONFIG_HOME environment variable.
          <Class TestGetGlobalDataDir>
            Tests for get_global_data_dir function.
            <Function test_returns_path>
              Test returns a Path object.
            <Function test_contains_aurora>
              Test path contains 'aurora'.
            <Function test_respects_xdg_data_home>
              Test respects XDG_DATA_HOME environment variable.
          <Class TestGetGlobalConfig>
            Tests for get_global_config function.
            <Function test_returns_default_config_when_file_missing>
              Test returns default config when file doesn't exist.
            <Function test_creates_config_directory>
              Test creates config directory if it doesn't exist.
            <Function test_reads_existing_config>
              Test reads existing configuration file.
            <Function test_returns_default_on_corrupt_config>
              Test returns default config when file is corrupt.
          <Class TestSaveGlobalConfig>
            Tests for save_global_config function.
            <Function test_saves_config_to_file>
              Test saves configuration to file.
            <Function test_creates_directory_if_missing>
              Test creates config directory if it doesn't exist.
        <Module test_id_generator.py>
          Unit tests for plan ID generation.
          <Class TestExtractPlanNumber>
            Tests for extract_plan_number().
            <Function test_active_format>
              Should extract number from active format (NNNN-slug).
            <Function test_archived_format>
              Should extract number from archived format (YYYY-MM-DD-NNNN-slug).
            <Function test_invalid_format>
              Should return None for invalid formats.
          <Class TestScanExistingPlans>
            Tests for scan_existing_plans().
            <Function test_empty_directory>
              Should return 0 when no plans exist.
            <Function test_active_plans_only>
              Should find highest number from active plans.
            <Function test_archived_plans_only>
              Should find highest number from archived plans.
            <Function test_mixed_active_and_archived>
              Should find highest number across both active and archived.
            <Function test_ignores_files>
              Should ignore files, only scan directories.
          <Class TestGenerateSlug>
            Tests for generate_slug().
            <Function test_basic_slugification>
              Should convert text to lowercase hyphenated slug.
            <Function test_special_characters>
              Should remove special characters.
            <Function test_max_length>
              Should truncate to max_length.
            <Function test_non_latin_characters>
              Should handle non-Latin characters gracefully.
          <Class TestGeneratePlanId>
            Tests for generate_plan_id().
            <Function test_first_plan>
              Should generate 0001-* for first plan.
            <Function test_increments_from_existing>
              Should increment from highest existing plan number.
            <Function test_handles_archived_plans>
              Should consider archived plans when incrementing.
            <Function test_empty_goal_raises_error>
              Should raise ValueError for empty goal.
            <Function test_collision_handling>
              Should retry with next number on collision.
          <Class TestValidatePlanIdFormat>
            Tests for validate_plan_id_format().
            <Function test_valid_formats>
              Should accept valid plan IDs.
            <Function test_invalid_formats>
              Should reject invalid plan IDs.
          <Class TestParsePlanId>
            Tests for parse_plan_id().
            <Function test_valid_parsing>
              Should parse valid plan IDs into components.
            <Function test_invalid_format_raises_error>
              Should raise ValueError for invalid formats.
        <Module test_planning_config.py>
          Unit tests for planning configuration.
          
          Tests configuration loading, environment variable overrides, directory validation,
          and path expansion for the Aurora Planning System.
          <Class TestGetPlansDir>
            Tests for get_plans_dir().
            <Function test_default_location>
              Should return ~/.aurora/plans by default.
            <Function test_env_var_override>
              Should respect AURORA_PLANS_DIR environment variable.
            <Function test_env_var_with_tilde_expansion>
              Should expand tilde in AURORA_PLANS_DIR.
            <Function test_local_project_directory_priority>
              Should prefer local .aurora/plans/ if it exists.
            <Function test_creates_directory_if_missing>
              Should create directory if it doesn't exist.
          <Class TestGetTemplateDir>
            Tests for get_template_dir().
            <Function test_default_bundled_templates>
              Should return bundled templates by default.
            <Function test_env_var_override>
              Should respect AURORA_TEMPLATE_DIR environment variable.
            <Function test_env_var_nonexistent_raises_error>
              Should raise FileNotFoundError if AURORA_TEMPLATE_DIR doesn't exist.
            <Function test_env_var_with_tilde_expansion>
              Should expand tilde in AURORA_TEMPLATE_DIR.
            <Function test_missing_bundled_templates_raises_error>
              Should raise FileNotFoundError if bundled templates are missing.
          <Class TestValidatePlansDir>
            Tests for validate_plans_dir().
            <Function test_valid_directory>
              Should return True for valid writable directory.
            <Function test_nonexistent_directory>
              Should return False for nonexistent directory.
            <Function test_file_instead_of_directory>
              Should return False if path is a file, not a directory.
            <Function test_non_writable_directory>
              Should return False for non-writable directory.
            <Function test_default_plans_dir_when_none>
              Should validate default plans_dir when None is passed.
          <Class TestInitPlansDirectory>
            Tests for init_plans_directory().
            <Function test_creates_all_directories>
              Should create all required directories.
            <Function test_idempotent>
              Should be safe to call multiple times.
            <Function test_default_to_current_directory>
              Should default to .aurora in current directory.
            <Function test_creates_nested_structure>
              Should create nested directory structure in one call.
          <Class TestGetConfigValue>
            Tests for get_config_value().
            <Function test_get_existing_key>
              Should return value for existing key.
            <Function test_get_with_default>
              Should return default for missing key.
            <Function test_get_missing_key_no_default_raises>
              Should raise KeyError for missing key without default.
            <Function test_config_dict_structure>
              Should have expected configuration keys.
          <Class TestPathExpansion>
            Tests for path expansion (tilde, relative paths).
            <Function test_tilde_expansion_in_plans_dir>
              Should expand ~ to home directory.
            <Function test_absolute_path_no_expansion>
              Should handle absolute paths without modification.
            <Function test_relative_path_resolution>
              Should resolve relative paths correctly.
          <Class TestEnvironmentVariablePriority>
            Tests for environment variable override priority.
            <Function test_env_var_overrides_default>
              Environment variable should override default config.
            <Function test_all_env_vars_available>
              All documented environment variables should be supported.
          <Class TestDirectoryValidationOnStartup>
            Tests for directory validation on command startup.
            <Function test_helpful_error_for_missing_plans_dir>
              Should show helpful error if plans directory doesn't exist.
            <Function test_helpful_error_for_missing_templates>
              Should show helpful error if templates directory is missing.
            <Function test_writable_check_catches_permission_errors>
              Should catch permission errors during validation.
        <Module test_templates.py>
          Tests for template rendering in Aurora Planning System.
          
          Tests cover:
          - Template rendering for all 8 files
          - Variable substitution
          - File permissions
          - JSON schema validation
          - Atomic file generation
          <Class TestTemplateRenderer>
            Tests for TemplateRenderer class.
            <Function test_get_template_dir>
              Test getting template directory path.
            <Function test_renderer_initialization>
              Test renderer initialization.
            <Function test_custom_template_dir>
              Test renderer with custom template directory.
            <Function test_build_context>
              Test building template context from plan.
            <Function test_render_template>
              Test rendering a single template.
            <Function test_title_filter>
              Test custom title filter.
          <Class TestFileGeneration>
            Tests for complete file generation.
            <Function test_render_all_files>
              Test rendering all 8 files.
            <Function test_file_content_validity>
              Test that generated files have valid content.
            <Function test_agents_json_validity>
              Test that agents.json is valid JSON.
          <Class TestVariableSubstitution>
            Tests for template variable substitution.
            <Function test_goal_substitution>
              Test that goal is substituted in all files.
            <Function test_plan_id_substitution>
              Test that plan_id is substituted correctly.
            <Function test_subgoal_substitution>
              Test that subgoals are substituted correctly.
          <Class TestFilePermissions>
            Tests for file permissions.
            <Function test_file_permissions_644>
              Test that files have 0644 permissions.
            <Function test_directory_creation>
              Test that directories are created.
          <Class TestErrorHandling>
            Tests for error handling.
            <Function test_missing_template>
              Test error when template is missing.
            <Function test_cleanup_on_error>
              Test that partial files are cleaned up on error.
          <Class TestAtomicGeneration>
            Tests for atomic file generation (integration with core.py).
            <Function test_all_or_nothing>
              Test that either all 8 files are created or none.
        <Package utils>
          <Module test_filesystem.py>
            Tests for filesystem utilities.
            <Class TestFindProjectRoot>
              Tests for find_project_root function.
              <Function test_finds_project_root_in_current_directory>
                Test finding project root in current directory.
              <Function test_finds_project_root_in_parent_directory>
                Test finding project root in parent directory.
              <Function test_returns_none_when_no_aurora_directory>
                Test returns None when no aurora directory found.
            <Class TestReadMarkdownFile>
              Tests for read_markdown_file function.
              <Function test_reads_existing_file>
                Test reading an existing markdown file.
              <Function test_raises_error_for_nonexistent_file>
                Test raises FileNotFoundError for non-existent file.
              <Function test_reads_unicode_content>
                Test reading file with unicode content.
          <Module test_interactive.py>
            Tests for interactive utilities.
            <Class TestIsInteractive>
              Tests for is_interactive function.
              <Function test_returns_false_when_no_interactive_option_set>
                Test returns False when noInteractive option is set.
              <Function test_returns_false_when_interactive_option_false>
                Test returns False when interactive option is explicitly False.
              <Function test_respects_environment_variable_false>
                Test respects AURORA_INTERACTIVE=0 environment variable.
              <Function test_respects_environment_variable_true>
                Test respects AURORA_INTERACTIVE=1 environment variable.
              <Function test_handles_various_false_values>
                Test handles various false values in environment variable.
              <Function test_with_no_options_checks_environment>
                Test with no options checks environment and TTY.
          <Module test_match.py>
            Tests for fuzzy matching utilities.
            <Class TestLevenshtein>
              Tests for Levenshtein distance calculation.
              <Function test_identical_strings>
                Test distance between identical strings is 0.
              <Function test_empty_strings>
                Test distance with empty strings.
              <Function test_single_character_difference>
                Test distance with single character difference.
              <Function test_multiple_differences>
                Test distance with multiple differences.
            <Class TestNearestMatches>
              Tests for finding nearest matches.
              <Function test_exact_match_first>
                Test that exact match appears first.
              <Function test_returns_max_results>
                Test that max parameter limits results.
              <Function test_sorts_by_distance>
                Test that results are sorted by distance.
              <Function test_empty_candidates>
                Test with empty candidates list.
          <Module test_task_progress.py>
            Tests for task progress utilities.
            <Class TestCountTasksFromContent>
              Tests for counting tasks from markdown content.
              <Function test_count_tasks_with_checkboxes>
                Test counting tasks with checkbox syntax.
              <Function test_count_tasks_with_asterisk_bullets>
                Test counting tasks with asterisk bullet points.
              <Function test_count_tasks_empty_content>
                Test counting tasks in empty content.
              <Function test_count_tasks_no_tasks>
                Test counting tasks when no tasks present.
              <Function test_count_tasks_case_insensitive>
                Test that X is case insensitive for completed tasks.
            <Class TestGetTaskProgressForPlan>
              Tests for getting task progress from plan directory.
              <Function test_get_progress_from_tasks_file>
                Test getting progress from tasks.md file.
              <Function test_get_progress_missing_tasks_file>
                Test getting progress when tasks.md doesn't exist.
            <Class TestFormatTaskStatus>
              Tests for formatting task status strings.
              <Function test_format_no_tasks>
                Test formatting when no tasks.
              <Function test_format_complete>
                Test formatting when all tasks complete.
              <Function test_format_in_progress>
                Test formatting when tasks in progress.
        <Package validators>
          <Module test_types.py>
            Tests for validation types: ValidationIssue, ValidationReport.
            
            Ported from: src/core/validation/types.ts
            TDD approach: Tests written first based on TypeScript interface behavior.
            
            Task: 2.3 - Write tests/unit/validation/test_types.py
            <Class TestValidationLevel>
              Test cases for ValidationLevel enum.
              <Function test_valid_levels>
                Should have correct level values.
            <Class TestValidationIssue>
              Test cases for ValidationIssue model.
              <Function test_creates_issue_with_required_fields>
                Should create issue with required fields.
              <Function test_creates_issue_with_optional_line_column>
                Should create issue with optional line and column.
              <Function test_issue_without_optional_fields>
                Should allow issue without line and column.
            <Class TestValidationReport>
              Test cases for ValidationReport model.
              <Function test_creates_valid_report>
                Should create a valid report with no issues.
              <Function test_creates_invalid_report_with_errors>
                Should create an invalid report with errors.
              <Function test_creates_report_with_mixed_issues>
                Should create report with mixed issue levels.
              <Function test_report_auto_calculates_summary>
                Should auto-calculate summary from issues.
          <Module test_validator.py>
            Tests for Validator class.
            
            Ported from: test/core/validation.test.ts (Validator describe block)
            TDD approach: Tests written first based on TypeScript test behavior.
            
            Task: 2.5 - Write tests/unit/validation/test_validator.py
            <Class TestValidatorValidateCapability>
              Test cases for Validator.validate_capability() (was validateSpec).
              <Function test_validates_valid_capability_file>
                Should validate a valid capability (spec) file.
              <Function test_detects_missing_purpose_section>
                Should detect missing Purpose (overview) section.
              <Function test_detects_missing_requirements_section>
                Should detect missing Requirements section.
              <Function test_warns_about_brief_purpose>
                Should warn about brief Purpose (overview) section.
            <Class TestValidatorValidatePlan>
              Test cases for Validator.validate_plan() (was validateChange).
              <Function test_validates_valid_plan_file>
                Should validate a valid plan (change) file.
              <Function test_detects_missing_why_section>
                Should detect missing Why section.
              <Function test_detects_missing_what_changes_section>
                Should detect missing What Changes section.
            <Class TestValidatorStrictMode>
              Test cases for strict mode validation.
              <Function test_strict_mode_fails_on_warnings>
                Should fail on warnings in strict mode.
              <Function test_non_strict_mode_passes_warnings>
                Should pass warnings in non-strict mode.
            <Class TestValidatorDeltaSpecs>
              Test cases for validate_plan_modification_specs() (was validateChangeDeltaSpecs).
              <Function test_validates_requirement_with_metadata>
                Should validate requirement with metadata before SHALL/MUST text.
              <Function test_validates_requirement_with_shall_in_text>
                Should validate requirement with SHALL in text but not in header.
              <Function test_fails_when_requirement_lacks_shall_must>
                Should fail when requirement text lacks SHALL/MUST.
              <Function test_handles_requirements_without_metadata>
                Should handle requirements without metadata fields.
              <Function test_case_insensitive_delta_headers>
                Should treat delta headers case-insensitively.
              <Function test_detects_missing_specs_directory>
                Should handle missing specs directory (no deltas).
      <Package reasoning>
        <Module test_decompose.py>
          Unit tests for decomposition logic.
          <Class TestDecompositionResult>
            Tests for DecompositionResult class.
            <Function test_to_dict>
              Test conversion to dictionary.
            <Function test_from_dict>
              Test creation from dictionary.
          <Class TestDecomposeQuery>
            Tests for decompose_query function.
            <Function test_simple_query_no_examples>
              Test SIMPLE query gets 0 examples.
            <Function test_medium_query_gets_examples>
              Test MEDIUM query gets 2 examples.
            <Function test_context_summary_injection>
              Test context summary is injected into prompt.
            <Function test_available_agents_injection>
              Test available agents are injected into prompt.
            <Function test_retry_feedback_injection>
              Test retry feedback is injected into prompt.
            <Function test_invalid_json_response>
              Test handling of invalid JSON response.
            <Function test_missing_required_fields>
              Test handling of response with missing required fields.
            <Function test_invalid_subgoals_structure>
              Test handling of invalid subgoals structure.
            <Function test_subgoal_missing_fields>
              Test handling of subgoal with missing required fields.
            <Function test_invalid_execution_order_structure>
              Test handling of invalid execution_order structure.
            <Function test_execution_phase_missing_phase_field>
              Test handling of execution phase missing phase field.
        <Module test_llm_client.py>
          Unit tests for LLM client interface and implementations.
          <Class TestLLMResponse>
            Test LLMResponse model.
            <Function test_create_response>
              Test creating LLMResponse.
          <Class TestExtractJSON>
            Test JSON extraction from text.
            <Function test_direct_json>
              Test extracting direct JSON.
            <Function test_json_with_markdown>
              Test extracting JSON from markdown code block.
            <Function test_json_in_code_block_no_language>
              Test extracting JSON from code block without language specifier.
            <Function test_json_in_text>
              Test extracting JSON embedded in text.
            <Function test_invalid_json>
              Test error on invalid JSON.
          <Class TestAnthropicClient>
            Test AnthropicClient implementation.
            <Function test_initialization_with_api_key>
              Test initialization with explicit API key.
            <Function test_initialization_from_env>
              Test initialization from environment variable.
            <Function test_initialization_no_api_key>
              Test error when no API key provided.
            <Function test_initialization_missing_anthropic_library>
              Test error when anthropic library not installed.
            <Function test_custom_default_model>
              Test initialization with custom default model.
            <Function test_generate>
              Test generate method.
            <Function test_generate_with_system_prompt>
              Test generate with system prompt.
            <Function test_generate_with_custom_params>
              Test generate with custom temperature and max_tokens.
            <Function test_generate_empty_prompt>
              Test error on empty prompt.
            <Function test_generate_whitespace_prompt>
              Test error on whitespace-only prompt.
            <Function test_generate_api_failure>
              Test error handling on API failure.
            <Function test_generate_json>
              Test generate_json method.
            <Function test_generate_json_with_markdown>
              Test generate_json extracts JSON from markdown.
            <Function test_generate_json_invalid_response>
              Test generate_json with invalid JSON response.
            <Function test_generate_json_enhances_system_prompt>
              Test that generate_json enhances system prompt to enforce JSON.
            <Function test_count_tokens>
              Test token counting.
            <Function test_rate_limiting>
              Test rate limiting between requests.
          <Class TestOpenAIClient>
            Test OpenAIClient implementation.
            <Function test_initialization_with_api_key>
              Test initialization with explicit API key.
            <Function test_initialization_from_env>
              Test initialization from environment variable.
            <Function test_initialization_no_api_key>
              Test error when no API key provided.
            <Function test_custom_default_model>
              Test initialization with custom default model.
            <Function test_generate>
              Test generate method.
            <Function test_generate_with_system_prompt>
              Test generate with system prompt.
            <Function test_generate_empty_prompt>
              Test error on empty prompt.
            <Function test_generate_api_failure>
              Test error handling on API failure.
            <Function test_generate_json>
              Test generate_json method.
            <Function test_generate_json_with_response_format>
              Test that generate_json sets response_format for JSON mode.
            <Function test_generate_no_usage_tokens>
              Test generate with response that has no usage info.
            <Function test_count_tokens>
              Test token counting.
          <Class TestOllamaClient>
            Test OllamaClient implementation.
            <Function test_initialization>
              Test initialization.
            <Function test_initialization_custom_endpoint>
              Test initialization with custom endpoint.
            <Function test_generate>
              Test generate method.
            <Function test_generate_with_system_prompt>
              Test generate with system prompt.
            <Function test_generate_empty_prompt>
              Test error on empty prompt.
            <Function test_generate_api_failure>
              Test error handling on API failure.
            <Function test_generate_json>
              Test generate_json method.
            <Function test_generate_with_custom_options>
              Test generate with custom options.
            <Function test_generate_estimates_tokens>
              Test that token counts are estimated when not provided.
            <Function test_count_tokens>
              Test token counting.
        <Module test_prompts.py>
          Unit tests for prompt templates.
          <Class TestAssessPromptTemplate>
            Test complexity assessment prompt template.
            <Function test_system_prompt_contains_key_instructions>
              Test system prompt has required instructions.
            <Function test_user_prompt_with_query>
              Test user prompt includes query.
            <Function test_user_prompt_with_keyword_result>
              Test user prompt includes keyword classification.
            <Function test_build_full_prompt>
              Test building complete prompt.
          <Class TestDecomposePromptTemplate>
            Test query decomposition prompt template.
            <Function test_system_prompt_contains_json_schema>
              Test system prompt has JSON schema.
            <Function test_user_prompt_with_query>
              Test user prompt includes query.
            <Function test_user_prompt_with_context_summary>
              Test user prompt includes context.
            <Function test_user_prompt_with_retry_feedback>
              Test user prompt includes retry feedback.
          <Class TestVerifySelfPromptTemplate>
            Test self-verification prompt template.
            <Function test_system_prompt_contains_scoring_dimensions>
              Test system prompt has all scoring dimensions.
            <Function test_user_prompt_includes_decomposition>
              Test user prompt includes decomposition.
          <Class TestVerifyAdversarialPromptTemplate>
            Test adversarial verification prompt template.
            <Function test_system_prompt_has_red_team_instructions>
              Test system prompt emphasizes adversarial stance.
            <Function test_user_prompt_emphasizes_red_team_mode>
              Test user prompt emphasizes red team mode.
          <Class TestVerifyAgentOutputPromptTemplate>
            Test agent output verification prompt template.
            <Function test_system_prompt_contains_quality_criteria>
              Test system prompt has quality criteria.
            <Function test_user_prompt_includes_agent_output>
              Test user prompt includes agent output.
          <Class TestVerifySynthesisPromptTemplate>
            Test synthesis verification prompt template.
            <Function test_system_prompt_contains_traceability_check>
              Test system prompt checks traceability/factuality.
            <Function test_user_prompt_includes_synthesis_and_sources>
              Test user prompt includes synthesis and agent outputs.
          <Class TestRetryFeedbackPromptTemplate>
            Test retry feedback generation prompt template.
            <Function test_system_prompt_focuses_on_actionable_feedback>
              Test system prompt emphasizes actionable feedback.
            <Function test_user_prompt_includes_verification_result>
              Test user prompt includes verification result.
          <Class TestExamplesLoader>
            Test few-shot examples loader.
            <Function test_get_examples_by_complexity_simple>
              Test loading 0 examples for SIMPLE complexity.
            <Function test_get_examples_by_complexity_medium>
              Test loading 2 examples for MEDIUM complexity.
            <Function test_get_examples_by_complexity_complex>
              Test loading 4 examples for COMPLEX complexity.
            <Function test_get_examples_by_complexity_critical>
              Test loading 6 examples for CRITICAL complexity.
            <Function test_get_loader_singleton>
              Test global loader singleton.
          <Class TestPromptTemplateWithExamples>
            Test prompt template with few-shot examples.
            <Function test_build_prompt_with_examples>
              Test building prompt with examples.
        <Module test_synthesize.py>
          Unit tests for synthesis logic.
          <Class TestSynthesisResult>
            Tests for SynthesisResult class.
            <Function test_to_dict>
              Test conversion to dictionary.
            <Function test_from_dict>
              Test creation from dictionary.
          <Class TestParseSynthesisResponse>
            Tests for _parse_synthesis_response function.
            <Function test_parse_valid_response>
              Test parsing valid synthesis response.
            <Function test_parse_multiline_answer>
              Test parsing response with multiline answer.
            <Function test_parse_answer_on_same_line>
              Test parsing when answer starts on same line as ANSWER:.
            <Function test_parse_missing_answer_raises>
              Test that missing ANSWER section raises ValueError.
            <Function test_parse_invalid_confidence_raises>
              Test that invalid confidence value raises ValueError.
            <Function test_parse_confidence_out_of_range_raises>
              Test that out-of-range confidence raises ValueError.
            <Function test_parse_default_confidence>
              Test that missing confidence uses default value.
          <Class TestValidateTraceability>
            Tests for _validate_traceability function.
            <Function test_valid_traceability>
              Test that valid traceability passes.
            <Function test_missing_reference_raises>
              Test that missing agent reference raises ValueError.
            <Function test_empty_summaries_skips_validation>
              Test that empty summaries skips validation.
          <Class TestExtractTraceability>
            Tests for _extract_traceability function.
            <Function test_extract_single_agent>
              Test extraction with single agent reference.
            <Function test_extract_multiple_agents>
              Test extraction with multiple agent references.
            <Function test_extract_no_references>
              Test extraction with no agent references.
          <Class TestBuildPrompts>
            Tests for prompt building functions.
            <Function test_build_system_prompt>
              Test system prompt building.
          <Class TestVerifySynthesis>
            Tests for verify_synthesis function.
            <Function test_verify_synthesis_pass>
              Test synthesis verification with passing scores.
            <Function test_verify_synthesis_calculates_score>
              Test that overall_score is calculated if wrong.
            <Function test_verify_synthesis_invalid_json_raises>
              Test that invalid JSON raises ValueError.
            <Function test_verify_synthesis_missing_fields_raises>
              Test that missing required fields raises ValueError.
            <Function test_verify_synthesis_invalid_score_range_raises>
              Test that invalid score range raises ValueError.
          <Class TestSynthesizeResults>
            Tests for synthesize_results function.
            <Function test_synthesize_success_first_try>
              Test successful synthesis on first attempt.
            <Function test_synthesize_retry_on_low_score>
              Test synthesis retries when quality score is low.
            <Function test_synthesize_max_retries_returns_best_effort>
              Test that max retries returns best-effort result.
            <Function test_synthesize_parsing_error_retries>
              Test that parsing errors trigger retry.
        <Module test_verify.py>
          Unit tests for verification logic.
          <Class TestVerificationResult>
            Tests for VerificationResult class.
            <Function test_to_dict>
              Test conversion to dictionary.
            <Function test_from_dict>
              Test creation from dictionary.
          <Class TestCalculateOverallScore>
            Tests for _calculate_overall_score function.
            <Function test_perfect_scores>
              Test with all perfect scores.
            <Function test_zero_scores>
              Test with all zero scores.
            <Function test_weighted_calculation>
              Test weighted score calculation.
            <Function test_completeness_weighted_most>
              Test that completeness is weighted 40%.
          <Class TestValidateVerdictConsistency>
            Tests for _validate_verdict_consistency function.
            <Function test_pass_with_high_score>
              Test PASS verdict with score ≥ 0.7.
            <Function test_retry_with_medium_score>
              Test RETRY verdict with 0.5 ≤ score < 0.7.
            <Function test_fail_with_low_score>
              Test FAIL verdict with score < 0.5.
            <Function test_invalid_pass_with_low_score>
              Test PASS verdict with score < 0.5 raises error.
            <Function test_invalid_fail_with_medium_score>
              Test FAIL verdict with medium score raises error.
          <Class TestVerifyDecomposition>
            Tests for verify_decomposition function.
            <Function test_self_verification_pass>
              Test self-verification with PASS verdict.
            <Function test_self_verification_retry>
              Test self-verification with RETRY verdict.
            <Function test_adversarial_verification_fail>
              Test adversarial verification with FAIL verdict.
            <Function test_context_summary_included>
              Test context summary is included in prompt.
            <Function test_available_agents_included>
              Test available agents are included in prompt.
            <Function test_invalid_json_response>
              Test handling of invalid JSON response.
            <Function test_missing_required_fields>
              Test handling of response with missing required fields.
            <Function test_invalid_score_range>
              Test handling of scores outside valid range.
            <Function test_invalid_verdict>
              Test handling of invalid verdict value.
            <Function test_score_calculation_correction>
              Test that incorrect overall_score is corrected.
      <Package scripts>
        <Module test_uninstall.py>
          Tests for aurora-uninstall script.
          <Function test_uninstall_import>
            Test that uninstall module can be imported.
          <Function test_uninstall_help>
            Test that uninstall script shows help.
          <Function test_uninstall_cancel>
            Test that uninstall can be cancelled.
          <Function test_uninstall_with_yes_flag>
            Test uninstall with --yes flag (dry run, mock subprocess).
          <Function test_uninstall_handles_missing_packages>
            Test that uninstall handles missing packages gracefully.
      <Package soar>
        <Module test_agent_registry.py>
          Unit tests for AgentRegistry and AgentInfo.
          
          Tests agent discovery, registration, validation, and capability-based queries.
          <Class TestAgentInfo>
            Test AgentInfo dataclass structure and validation.
            <Function test_agent_info_creation>
              Test creating a valid AgentInfo instance.
            <Function test_agent_info_optional_fields>
              Test AgentInfo with only required fields.
            <Function test_agent_info_to_dict>
              Test converting AgentInfo to dictionary.
          <Class TestAgentRegistryInitialization>
            Test AgentRegistry initialization and setup.
            <Function test_registry_creation_empty>
              Test creating registry with no discovery paths.
            <Function test_registry_creation_with_paths>
              Test creating registry with discovery paths.
            <Function test_registry_default_discovery_paths>
              Test registry sets up default discovery paths.
          <Class TestAgentRegistration>
            Test agent registration and storage.
            <Function test_register_single_agent>
              Test registering a single agent.
            <Function test_register_multiple_agents>
              Test registering multiple agents.
            <Function test_register_duplicate_overwrites>
              Test registering agent with duplicate ID overwrites existing.
          <Class TestAgentValidation>
            Test agent configuration validation.
            <Function test_validate_valid_agent>
              Test validation passes for valid agent data.
            <Function test_validate_missing_required_fields>
              Test validation fails for missing required fields.
            <Function test_validate_invalid_type>
              Test validation fails for invalid agent type.
            <Function test_validate_empty_capabilities>
              Test validation handles empty capabilities list.
          <Class TestAgentDiscovery>
            Test agent discovery from configuration files.
            <Function test_discover_from_single_file>
              Test discovering agents from a single JSON file.
            <Function test_discover_from_multiple_files>
              Test discovering agents from multiple config files.
            <Function test_discover_handles_invalid_json>
              Test discovery gracefully handles invalid JSON.
            <Function test_discover_handles_missing_paths>
              Test discovery handles non-existent paths gracefully.
          <Class TestCapabilityQueries>
            Test capability-based agent queries.
            <Function test_find_by_single_capability>
              Test finding agents by single capability.
            <Function test_find_by_multiple_capabilities>
              Test finding agents with multiple capabilities.
            <Function test_find_by_nonexistent_capability>
              Test finding agents with capability that doesn't exist.
            <Function test_filter_by_agent_type>
              Test filtering agents by type.
          <Class TestFallbackAgent>
            Test fallback agent creation.
            <Function test_create_fallback_agent>
              Test creating default fallback agent.
            <Function test_get_or_fallback_returns_existing>
              Test get_or_fallback returns existing agent if found.
            <Function test_get_or_fallback_returns_fallback>
              Test get_or_fallback returns fallback if agent not found.
          <Class TestAgentRefresh>
            Test agent registry refresh functionality.
            <Function test_refresh_reloads_agents>
              Test refresh reloads agents from config files.
            <Function test_refresh_handles_mtime_check>
              Test refresh only reloads if file modified time changed.
          <Class TestAgentRetrieval>
            Test retrieving registered agents.
            <Function test_get_agent_by_id>
              Test retrieving agent by ID.
            <Function test_get_nonexistent_agent>
              Test retrieving non-existent agent returns None.
            <Function test_list_all_agents>
              Test listing all registered agents.
        <Module test_orchestrator.py>
          Unit Tests for SOAR Orchestrator.
          
          Tests the main orchestrator coordination logic with mocked phases.
          Focuses on:
          - Phase execution order
          - Error handling and recovery
          - Budget enforcement
          - Metadata tracking
          - Simple vs complex query paths
          <Function test_simple_query_path>
            Test SIMPLE query bypasses decomposition.
          <Function test_complex_query_full_pipeline>
            Test COMPLEX query executes all 9 phases.
          <Function test_verification_failure_handling>
            Test verification failure triggers graceful degradation.
          <Function test_phase_error_handling>
            Test phase errors are caught and tracked.
          <Function test_budget_check_before_execution>
            Test budget check rejects query if limit exceeded.
          <Function test_budget_tracking_during_execution>
            Test budget tracking accumulates cost during execution.
          <Function test_metadata_aggregation>
            Test metadata from all phases is aggregated.
          <Function test_timing_tracking>
            Test execution timing is tracked.
          <Function test_quiet_verbosity>
            Test QUIET verbosity mode.
          <Function test_verbose_mode>
            Test VERBOSE verbosity mode.
          <Function test_conversation_logging_integration>
            Test conversation logger integration.
        <Module test_phase_assess.py>
          Pytest tests for the keyword-based complexity assessor.
          
          Tests validate:
          1. Core functionality and edge cases
          2. Accuracy against test corpus (>85% required)
          3. Specific pattern detection
          <Class TestComplexityAssessor>
            Tests for ComplexityAssessor class.
            <Function test_empty_prompt>
              Empty prompts should be classified as simple.
            <Function test_whitespace_only>
              Whitespace-only prompts should be classified as simple.
            <Function test_result_has_all_fields>
              Result should have all expected fields.
            <Function test_to_dict_serialization>
              Result should serialize to dict properly.
            <Function test_simple_prompts[what is python]>
              Basic lookup/display prompts should be simple.
            <Function test_simple_prompts[show me the readme]>
              Basic lookup/display prompts should be simple.
            <Function test_simple_prompts[list all files]>
              Basic lookup/display prompts should be simple.
            <Function test_simple_prompts[where is the config]>
              Basic lookup/display prompts should be simple.
            <Function test_simple_prompts[run the tests]>
              Basic lookup/display prompts should be simple.
            <Function test_simple_prompts[check if tests pass]>
              Basic lookup/display prompts should be simple.
            <Function test_medium_prompts[explain how the caching works]>
              Analysis and moderate edit prompts should be medium.
            <Function test_medium_prompts[debug the login issue]>
              Analysis and moderate edit prompts should be medium.
            <Function test_medium_prompts[compare these two approaches]>
              Analysis and moderate edit prompts should be medium.
            <Function test_medium_prompts[add logging to the function]>
              Analysis and moderate edit prompts should be medium.
            <Function test_medium_prompts[fix the validation bug]>
              Analysis and moderate edit prompts should be medium.
            <Function test_complex_prompts[implement user authentication with oauth]>
              Major implementation/architecture prompts should be complex.
            <Function test_complex_prompts[design a caching system for the api]>
              Major implementation/architecture prompts should be complex.
            <Function test_complex_prompts[build a real-time notification system]>
              Major implementation/architecture prompts should be complex.
            <Function test_complex_prompts[refactor the entire authentication module]>
              Major implementation/architecture prompts should be complex.
            <Function test_complex_prompts[migrate the database from mysql to postgres]>
              Major implementation/architecture prompts should be complex.
            <Function test_trivial_edit_pattern>
              Trivial edits should not get medium verb bonus.
            <Function test_complex_verb_detection>
              Complex verbs should be detected.
            <Function test_analysis_verb_detection>
              Analysis verbs should be detected.
            <Function test_scope_expansion_detection>
              Scope keywords should be detected.
            <Function test_constraint_detection>
              Constraint phrases should be detected.
            <Function test_sequence_marker_detection>
              Sequence markers should be detected.
            <Function test_bounded_scope_detection>
              Bounded scope should reduce complex verb impact.
            <Function test_integration_pattern>
              Integration patterns should boost complexity.
            <Function test_complex_feature_pattern>
              Complex feature keywords should boost complexity.
            <Function test_simple_threshold>
              Score <= 11 should be simple.
            <Function test_medium_threshold>
              Score 12-28 should be medium.
            <Function test_corpus_accuracy_above_85_percent>
              Overall accuracy should be >= 85%.
            <Function test_corpus_accuracy_above_90_percent>
              Stretch goal: accuracy >= 90%.
            <Function test_no_level_has_zero_accuracy>
              Each level should have some correct predictions.
            <Function test_assess_complexity_function>
              assess_complexity convenience function should work.
            <Function test_critical_keyword_detection[fix security vulnerability in authentication]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[patch the authentication bypass vulnerability]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[investigate data breach in user table]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[encrypt sensitive payment data]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[production outage emergency]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[fix critical bug in production api]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[emergency incident response needed]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[production database corruption detected]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[ensure gdpr compliance for user data]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_keyword_detection[implement hipaa compliant logging]>
              CRITICAL keywords should trigger critical level with high confidence.
            <Function test_critical_overrides_score>
              Critical keywords should override score-based classification.
          <Class TestEdgeCases>
            Test edge cases and boundary conditions.
            <Function test_very_long_prompt>
              Very long prompts should handle gracefully.
            <Function test_unicode_prompt>
              Unicode characters should be handled.
            <Function test_special_characters>
              Special characters should be handled.
            <Function test_code_block_in_prompt>
              Code blocks should be detected.
            <Function test_numbered_list_detection>
              Numbered lists should boost complexity.
            <Function test_multi_question_detection>
              Multiple questions should boost complexity.
          <Class TestLLMFallback>
            Tests for LLM Tier 2 fallback integration.
            <Function test_llm_fallback_triggered_low_confidence>
              LLM fallback should be triggered when keyword confidence < 0.8.
            <Function test_llm_fallback_triggered_borderline_score>
              LLM fallback should be triggered when score in [0.4, 0.6] range.
            <Function test_llm_fallback_not_available>
              Graceful handling when llm_client=None and fallback needed.
            <Function test_llm_fallback_critical_keywords>
              CRITICAL keywords should have high confidence and NOT trigger LLM fallback.
          <Function test_critical_routing>
            Verify CRITICAL routes same as COMPLEX for escalation purposes.
            
            This test verifies that the orchestrator treats CRITICAL and COMPLEX
            complexity levels identically for routing decisions. Both should:
            - Skip the SIMPLE early exit path
            - Go through full decomposition pipeline
            - Not trigger different routing logic
        <Module test_phase_collect.py>
          Unit tests for Phase 6: Agent Execution (Collect).
          <Class TestAgentOutput>
            Test AgentOutput class.
            <Function test_create_success_output>
              Test creating a successful agent output.
            <Function test_create_failure_output>
              Test creating a failed agent output.
            <Function test_to_dict>
              Test AgentOutput serialization to dict.
          <Class TestCollectResult>
            Test CollectResult class.
            <Function test_create_result>
              Test creating a collect result.
            <Function test_to_dict>
              Test CollectResult serialization to dict.
          <Class TestExecuteAgents>
            Test the main execute_agents function.
            <Coroutine test_execute_simple_routing>
              Test executing a simple routing with one subgoal.
            <Coroutine test_execute_parallel_routing>
              Test executing parallel subgoals.
            <Coroutine test_execute_sequential_routing>
              Test executing sequential subgoals.
            <Coroutine test_execute_with_timeouts>
              Test execution respects agent and query timeouts.
          <Class TestExecuteParallelSubgoals>
            Test parallel subgoal execution.
            <Coroutine test_execute_two_parallel>
              Test executing two subgoals in parallel.
            <Coroutine test_parallel_handles_exceptions>
              Test parallel execution handles exceptions gracefully.
          <Class TestExecuteSequentialSubgoals>
            Test sequential subgoal execution.
            <Coroutine test_execute_two_sequential>
              Test executing two subgoals sequentially.
            <Coroutine test_sequential_continues_after_non_critical_failure>
              Test sequential execution continues after non-critical failure.
          <Class TestExecuteSingleSubgoal>
            Test single subgoal execution.
            <Coroutine test_execute_success>
              Test successful subgoal execution.
            <Coroutine test_execute_with_timeout>
              Test execution handles timeout.
            <Coroutine test_execute_adds_metadata>
              Test execution adds metadata to output.
          <Class TestValidateAgentOutput>
            Test agent output validation.
            <Function test_validate_success_output>
              Test validation passes for valid success output.
            <Function test_validate_failure_output>
              Test validation passes for valid failure output.
            <Function test_validate_rejects_invalid_confidence>
              Test validation fails for invalid confidence.
            <Function test_validate_rejects_success_without_summary>
              Test validation fails for success without summary.
            <Function test_validate_rejects_failure_without_error>
              Test validation fails for failure without error.
          <Class TestRetryLogic>
            Test retry logic for failed executions.
            <Coroutine test_retry_on_timeout>
              Test that timeouts trigger retries.
            <Coroutine test_max_retries_respected>
              Test that max retries limit is respected.
          <Class TestCriticalSubgoals>
            Test handling of critical subgoals.
            <Coroutine test_critical_failure_aborts_sequential>
              Test that critical subgoal failure aborts sequential execution.
        <Module test_phase_decompose.py>
          Unit tests for decompose phase.
          <Class TestComputeQueryHash>
            Tests for _compute_query_hash function.
            <Function test_same_query_same_hash>
              Test that same query produces same hash.
            <Function test_different_query_different_hash>
              Test that different query produces different hash.
            <Function test_different_complexity_different_hash>
              Test that different complexity produces different hash.
          <Class TestBuildContextSummary>
            Tests for _build_context_summary function.
            <Function test_with_code_chunks_only>
              Test summary with only code chunks.
            <Function test_with_reasoning_chunks_only>
              Test summary with only reasoning chunks.
            <Function test_with_both_chunk_types>
              Test summary with both chunk types.
            <Function test_with_no_chunks>
              Test summary with no chunks.
            <Function test_empty_context_triggers_note>
              Test that empty context returns correct message (Task 3.47).
            <Function test_empty_context_note_includes_general_knowledge_phrase>
              Test exact wording of empty context note (Task 3.47).
          <Class TestDecomposePhaseResult>
            Tests for DecomposePhaseResult class.
            <Function test_to_dict>
              Test conversion to dictionary.
          <Class TestDecomposeQuery>
            Tests for decompose_query function.
            <Function test_decompose_simple_query>
              Test decomposing a simple query.
            <Function test_decompose_with_caching>
              Test that identical queries are cached.
            <Function test_cache_disabled_with_retry_feedback>
              Test that cache is bypassed when retry feedback is provided.
            <Function test_cache_disabled_by_parameter>
              Test that cache can be disabled via parameter.
            <Function test_context_summary_passed>
              Test that context summary is built and passed.
            <Function test_available_agents_passed>
              Test that available agents are passed through.
            <Function test_retry_feedback_passed>
              Test that retry feedback is passed through.
            <Function test_invalid_complexity>
              Test handling of invalid complexity level.
            <Function test_clear_cache_function>
              Test that clear_cache() works.
            <Function test_decompose_with_empty_context_includes_note>
              Test that empty context note is passed to LLM (Task 3.47).
            <Function test_decompose_caching_with_empty_context>
              Test that caching works with empty context (Task 3.47).
        <Module test_phase_record.py>
          Unit tests for SOAR Phase 8: ACT-R Pattern Caching (Record).
          
          Tests the record_pattern function that caches successful reasoning patterns
          to ACT-R memory.
          <Class TestRecordPatternHighScore>
            Test suite for record_pattern with high success scores (≥0.8).
            <Function test_high_score_pattern_is_cached>
              Test that patterns with score ≥0.8 are cached and marked.
            <Function test_high_score_extracts_tools_correctly>
              Test that tools are extracted correctly from agent outputs.
            <Function test_high_score_sets_metadata_correctly>
              Test that ReasoningChunk metadata is set correctly.
          <Class TestRecordPatternMediumScore>
            Test suite for record_pattern with medium success scores (0.5-0.79).
            <Function test_medium_score_pattern_cached_but_not_marked>
              Test that patterns with score 0.5-0.79 are cached but not marked as patterns.
            <Function test_medium_score_at_boundary_0_5>
              Test that score exactly 0.5 is cached.
            <Function test_medium_score_at_boundary_0_79>
              Test that score 0.79 is cached but not marked.
          <Class TestRecordPatternLowScore>
            Test suite for record_pattern with low success scores (<0.5).
            <Function test_low_score_pattern_not_cached>
              Test that patterns with score <0.5 are not cached.
            <Function test_low_score_at_boundary>
              Test that score just below 0.5 is not cached.
            <Function test_zero_score_not_cached>
              Test that score 0.0 is not cached.
          <Class TestRecordPatternEdgeCases>
            Test suite for edge cases and error handling.
            <Function test_missing_tools_metadata_handled_gracefully>
              Test that missing tools metadata doesn't cause errors.
            <Function test_none_execution_metadata_handled>
              Test that None execution_metadata is handled.
            <Function test_missing_decomposition_fields_use_defaults>
              Test that missing decomposition fields use empty defaults.
            <Function test_missing_synthesis_metadata_fields_use_defaults>
              Test that missing synthesis metadata fields use 0 defaults.
            <Function test_store_save_failure_raises_runtime_error>
              Test that store.save_chunk failure raises RuntimeError.
            <Function test_store_update_activation_failure_logs_warning>
              Test that store.update_activation failure logs warning but doesn't fail.
          <Class TestRecordPatternChunkIdGeneration>
            Test suite for chunk ID generation.
            <Function test_chunk_id_format>
              Test that chunk ID follows expected format.
            <Function test_chunk_ids_are_unique>
              Test that multiple calls generate unique chunk IDs.
          <Class TestRecordResultTiming>
            Test suite for timing information in RecordResult.
            <Function test_timing_includes_required_fields>
              Test that timing dict includes all required fields.
            <Function test_timing_for_skipped_cache>
              Test that timing is recorded even when caching is skipped.
          <Class TestRecordResultToDictConversion>
            Test suite for RecordResult.to_dict() conversion.
            <Function test_to_dict_includes_all_fields>
              Test that to_dict includes all RecordResult fields.
            <Function test_to_dict_handles_none_chunk_id>
              Test that to_dict handles None chunk_id (for uncached patterns).
          <Class TestRecordPatternComplexityLevels>
            Test suite for all complexity levels.
            <Function test_all_complexity_levels[SIMPLE]>
              Test that all complexity levels are handled correctly.
            <Function test_all_complexity_levels[MEDIUM]>
              Test that all complexity levels are handled correctly.
            <Function test_all_complexity_levels[COMPLEX]>
              Test that all complexity levels are handled correctly.
            <Function test_all_complexity_levels[CRITICAL]>
              Test that all complexity levels are handled correctly.
        <Module test_phase_respond.py>
          Unit tests for SOAR Phase 9: Response Formatting (Respond).
          
          Tests the format_response function that formats final responses with
          different verbosity levels (QUIET, NORMAL, VERBOSE, JSON).
          <Class TestFormatResponseQuiet>
            Test suite for QUIET verbosity level.
            <Function test_quiet_format_high_score>
              Test QUIET format with high confidence score (≥0.7).
            <Function test_quiet_format_medium_score>
              Test QUIET format with medium confidence score (0.5-0.69).
            <Function test_quiet_format_low_score>
              Test QUIET format with low confidence score (<0.5).
            <Function test_quiet_truncates_long_answer>
              Test that QUIET format truncates answers longer than 100 chars.
          <Class TestFormatResponseNormal>
            Test suite for NORMAL verbosity level.
            <Function test_normal_format_complete_structure>
              Test that NORMAL format includes all expected sections.
            <Function test_normal_format_cached_for_learning>
              Test NORMAL format when pattern is cached but not marked.
            <Function test_normal_format_not_cached>
              Test NORMAL format when pattern is not cached.
            <Function test_normal_format_missing_metadata_uses_defaults>
              Test NORMAL format with missing metadata fields uses defaults.
          <Class TestFormatResponseVerbose>
            Test suite for VERBOSE verbosity level.
            <Function test_verbose_format_complete_structure>
              Test that VERBOSE format includes all expected sections.
            <Function test_verbose_format_empty_traceability>
              Test VERBOSE format with no traceability information.
            <Function test_verbose_format_not_cached>
              Test VERBOSE format when pattern is not cached.
            <Function test_verbose_format_cached_not_pattern>
              Test VERBOSE format when cached but not marked as pattern.
          <Class TestFormatResponseJSON>
            Test suite for JSON verbosity level.
            <Function test_json_format_is_valid_json>
              Test that JSON format produces valid, parseable JSON.
            <Function test_json_format_includes_all_fields>
              Test that JSON format includes all required fields.
            <Function test_json_format_with_none_chunk_id>
              Test JSON format when reasoning_chunk_id is None (not cached).
          <Class TestResponseResultClass>
            Test suite for ResponseResult class methods.
            <Function test_response_result_initialization>
              Test ResponseResult initialization.
            <Function test_response_result_to_dict>
              Test ResponseResult.to_dict() returns raw_data.
          <Class TestVerbosityEnum>
            Test suite for Verbosity enum.
            <Function test_verbosity_enum_values>
              Test that Verbosity enum has all expected values.
            <Function test_verbosity_is_string_enum>
              Test that Verbosity values are strings.
          <Class TestFormatResponseDefaultVerbosity>
            Test suite for default verbosity behavior.
            <Function test_default_verbosity_is_normal>
              Test that default verbosity is NORMAL.
          <Class TestFormatResponseRawData>
            Test suite for raw_data structure.
            <Function test_raw_data_structure_is_consistent>
              Test that raw_data has consistent structure across verbosity levels.
            <Function test_raw_data_includes_phase_metadata>
              Test that raw_data includes phase_metadata fields.
        <Module test_phase_retrieve.py>
          Unit tests for Phase 2: Context Retrieval.
          <Class TestRetrievalBudgets>
            Tests for retrieval budget allocation.
            <Function test_budget_simple>
              Test SIMPLE complexity gets 5 chunks.
            <Function test_budget_medium>
              Test MEDIUM complexity gets 10 chunks.
            <Function test_budget_complex>
              Test COMPLEX complexity gets 15 chunks.
            <Function test_budget_critical>
              Test CRITICAL complexity gets 20 chunks.
          <Class TestRetrieveContext>
            Tests for context retrieval function.
            <Function test_retrieve_simple_query>
              Test retrieval for SIMPLE query respects budget.
            <Function test_retrieve_medium_query>
              Test retrieval for MEDIUM query respects budget.
            <Function test_retrieve_complex_query>
              Test retrieval for COMPLEX query respects budget.
            <Function test_retrieve_critical_query>
              Test retrieval for CRITICAL query respects budget.
            <Function test_retrieve_unknown_complexity_defaults_to_medium>
              Test unknown complexity defaults to MEDIUM budget.
            <Function test_retrieve_separates_chunk_types>
              Test that code and reasoning chunks are separated.
            <Function test_retrieve_handles_unknown_chunk_type>
              Test that unknown chunk types default to code_chunks.
            <Function test_retrieve_handles_missing_chunk_type>
              Test chunks without chunk_type metadata use class name.
            <Function test_retrieve_includes_timing_metadata>
              Test that retrieval includes timing information.
            <Function test_retrieve_handles_store_error>
              Test graceful handling of store errors.
            <Function test_retrieve_empty_store>
              Test retrieval from empty store.
            <Function test_retrieve_fewer_chunks_than_budget>
              Test when store has fewer chunks than budget.
          <Class TestBudgetAllocationLogic>
            Tests specifically for budget allocation correctness.
            <Function test_correct_budget_by_complexity[SIMPLE-5]>
              Test each complexity level gets correct budget.
            <Function test_correct_budget_by_complexity[MEDIUM-10]>
              Test each complexity level gets correct budget.
            <Function test_correct_budget_by_complexity[COMPLEX-15]>
              Test each complexity level gets correct budget.
            <Function test_correct_budget_by_complexity[CRITICAL-20]>
              Test each complexity level gets correct budget.
            <Function test_budget_progression_makes_sense>
              Test that budgets increase appropriately with complexity.
          <Class TestActivationFiltering>
            Tests for activation threshold filtering (Task 3.46).
            <Function test_filter_by_activation_counts_high_quality>
              Test filter_by_activation correctly counts chunks above threshold.
            <Function test_filter_by_activation_no_high_quality>
              Test when all chunks are below threshold.
            <Function test_filter_by_activation_all_high_quality>
              Test when all chunks are above threshold.
            <Function test_filter_by_activation_boundary_case>
              Test chunks exactly at the 0.3 threshold.
            <Function test_filter_by_activation_handles_none>
              Test handling of chunks with None activation.
            <Function test_filter_by_activation_empty_list>
              Test filtering empty chunk list.
          <Class TestRetrieveWithActivationFiltering>
            Tests for retrieve_context with high_quality_count field (Task 3.46).
            <Function test_retrieve_includes_high_quality_count>
              Test that retrieve_context returns high_quality_count.
            <Function test_retrieve_all_high_quality_chunks>
              Test when all retrieved chunks are high quality.
            <Function test_retrieve_no_high_quality_chunks>
              Test when all retrieved chunks are low quality.
            <Function test_retrieve_mixed_quality_chunks>
              Test correct separation of high/low quality chunks.
            <Function test_retrieve_error_includes_high_quality_count_zero>
              Test that error case includes high_quality_count = 0.
        <Module test_phase_route.py>
          Unit tests for Phase 5: Agent Routing.
          <Class TestRouteSubgoals>
            Test the main route_subgoals function.
            <Function test_route_simple_decomposition>
              Test routing a simple decomposition with one subgoal.
            <Function test_route_complex_decomposition>
              Test routing a complex decomposition with dependencies.
            <Function test_route_with_missing_agent>
              Test routing when suggested agent doesn't exist.
            <Function test_route_with_capability_search>
              Test routing falls back to capability search.
          <Class TestValidateDecomposition>
            Test decomposition validation.
            <Function test_validate_valid_decomposition>
              Test validation passes for valid decomposition.
            <Function test_validate_missing_goal>
              Test validation fails when goal is missing.
            <Function test_validate_missing_subgoals>
              Test validation fails when subgoals are missing.
            <Function test_validate_empty_subgoals>
              Test validation fails when subgoals list is empty.
            <Function test_validate_missing_subgoal_field>
              Test validation fails when subgoal is missing required field.
          <Class TestRouteSingleSubgoal>
            Test routing individual subgoals.
            <Function test_route_with_direct_lookup>
              Test routing finds agent directly by ID.
            <Function test_route_with_capability_search>
              Test routing uses capability search as fallback.
            <Function test_route_with_fallback>
              Test routing uses fallback agent when nothing matches.
          <Class TestExtractCapability>
            Test capability extraction from agent IDs.
            <Function test_extract_from_hyphenated_id>
              Test extraction from hyphenated agent ID.
            <Function test_extract_from_single_word>
              Test extraction from single-word agent ID.
            <Function test_extract_from_empty>
              Test extraction from empty string.
          <Class TestValidateRouting>
            Test routing validation.
            <Function test_validate_valid_routing>
              Test validation passes for valid routing.
            <Function test_validate_missing_assignment>
              Test validation fails when subgoal has no assignment.
            <Function test_validate_invalid_dependency>
              Test validation fails for invalid dependency index.
            <Function test_validate_self_dependency>
              Test validation fails for self-dependency.
          <Class TestCheckCircularDependencies>
            Test circular dependency detection.
            <Function test_no_circular_dependencies>
              Test detection passes for valid dependency graph.
            <Function test_detect_simple_cycle>
              Test detection fails for simple cycle.
            <Function test_detect_complex_cycle>
              Test detection fails for complex cycle.
            <Function test_no_dependencies>
              Test detection passes when no dependencies exist.
          <Class TestParseExecutionPlan>
            Test execution plan parsing.
            <Function test_parse_simple_plan>
              Test parsing a simple execution plan.
            <Function test_parse_complex_plan>
              Test parsing a complex execution plan.
            <Function test_parse_handles_out_of_bounds>
              Test parsing handles out-of-bounds subgoal indices.
          <Class TestRouteResultToDict>
            Test RouteResult serialization.
            <Function test_to_dict>
              Test RouteResult converts to dictionary correctly.
        <Module test_phase_verify.py>
          Unit tests for verify phase.
          <Class TestSelectVerificationOption>
            Tests for _select_verification_option function.
            <Function test_simple_uses_self>
              Test SIMPLE complexity uses self-verification.
            <Function test_medium_uses_self>
              Test MEDIUM complexity uses self-verification.
            <Function test_complex_uses_adversarial>
              Test COMPLEX complexity uses adversarial verification.
            <Function test_critical_uses_adversarial>
              Test CRITICAL complexity uses adversarial verification.
            <Function test_case_insensitive>
              Test complexity is case-insensitive.
            <Function test_invalid_complexity>
              Test invalid complexity raises error.
          <Class TestGenerateRetryFeedback>
            Tests for _generate_retry_feedback function.
            <Function test_generate_feedback>
              Test feedback generation.
            <Function test_verification_dict_in_prompt>
              Test that verification dict is included in prompt.
          <Class TestVerifyPhaseResult>
            Tests for VerifyPhaseResult class.
            <Function test_to_dict>
              Test conversion to dictionary.
          <Class TestVerifyDecomposition>
            Tests for verify_decomposition function.
            <Function test_pass_on_first_attempt>
              Test verification passes on first attempt.
            <Function test_fail_on_first_attempt>
              Test verification fails on first attempt.
            <Function test_retry_then_pass>
              Test verification retries and then passes.
            <Function test_max_retries_exhausted>
              Test that max retries are enforced.
            <Function test_medium_uses_self_verification>
              Test MEDIUM complexity uses self-verification.
            <Function test_complex_uses_adversarial_verification>
              Test COMPLEX complexity uses adversarial verification.
            <Function test_context_summary_passed>
              Test context summary is passed through.
            <Function test_available_agents_passed>
              Test available agents are passed through.
            <Function test_timing_recorded>
              Test that timing is recorded.
          <Class TestAssessRetrievalQuality>
            Tests for assess_retrieval_quality function (Task 3.48).
            <Function test_assess_retrieval_quality_none>
              Test assessment with 0 chunks returns NONE.
            <Function test_assess_retrieval_quality_weak_groundedness>
              Test assessment with groundedness < 0.7 returns WEAK.
            <Function test_assess_retrieval_quality_weak_chunk_count>
              Test assessment with high_quality_chunks < 3 returns WEAK.
            <Function test_assess_retrieval_quality_good>
              Test assessment with groundedness >= 0.7 AND chunks >= 3 returns GOOD.
            <Function test_boundary_groundedness_exactly_0_7>
              Test boundary: groundedness exactly 0.7 is GOOD.
            <Function test_boundary_chunks_exactly_3>
              Test boundary: exactly 3 high-quality chunks is GOOD.
          <Class TestVerifyWithRetrievalContext>
            Tests for verify_decomposition with retrieval_context (Task 3.48).
            <Function test_verify_with_retrieval_context_assesses_quality>
              Test that quality assessment is called when retrieval_context provided.
            <Function test_verify_non_interactive_skips_prompt>
              Test that non-interactive mode doesn't prompt user.
            <Function test_verify_without_retrieval_context_no_assessment>
              Test that quality assessment is skipped when no retrieval_context.
            <Function test_verify_result_includes_retrieval_quality_in_dict>
              Test that to_dict() includes retrieval_quality field.
        <Module test_phase_verify_retry.py>
          Unit tests for Phase 4 verification retry logic.
          
          Tests the retry loop when decompositions fail verification.
          <Class TestVerificationRetry>
            Test verification retry loop.
            <Function test_retry_triggered_on_low_score>
              Test that retry is triggered when score is below threshold.
            <Function test_no_retry_on_pass>
              Test that no retry occurs when first attempt passes.
            <Function test_max_retries_respected>
              Test that max retries limit is respected.
        <Module test_retrieval_quality_edge_cases.py>
          Edge case unit tests for retrieval quality handling.
          
          Tests boundary conditions, error handling, and unusual scenarios:
          - Exact threshold boundaries (activation == 0.3, groundedness == 0.7)
          - Mixed quality scenarios (many low + few high chunks)
          - Error handling (retrieval failures, None/negative activations)
          - Empty context with reasoning chunks
          - Special edge cases
          <Class TestRetrievalQualityEdgeCases>
            Edge case tests for retrieval quality assessment.
            <Function test_exactly_3_high_quality_chunks_is_good>
              Test that exactly 3 high-quality chunks with good groundedness = GOOD quality.
            <Function test_exactly_0_7_groundedness_is_good>
              Test that exactly 0.7 groundedness is considered good (boundary inclusive).
            <Function test_weak_chunks_with_high_total_count>
              Test that many chunks with all low activation = WEAK quality.
            <Function test_mixed_quality_chunks>
              Test filtering with mix of high and low quality chunks.
            <Function test_retrieval_error_treated_as_no_match>
              Test that total_chunks=0 (error scenario) returns NONE quality.
            <Function test_activation_threshold_exactly_0_3>
              Test that activation exactly at 0.3 counts as high-quality.
            <Function test_activation_just_below_threshold>
              Test that activation just below 0.3 doesn't count as high-quality.
            <Function test_negative_activation_filtered>
              Test that negative activation is handled gracefully.
            <Function test_none_activation_filtered>
              Test that None activation is handled gracefully.
            <Function test_store_exception_handled_gracefully>
              Test that exceptions from store.get_activation() are handled.
            <Function test_groundedness_just_below_threshold>
              Test that groundedness just below 0.7 results in WEAK quality.
            <Function test_2_high_quality_chunks_is_weak>
              Test that exactly 2 high-quality chunks (just below threshold) = WEAK.
            <Function test_filter_by_activation_no_store>
              Test filter_by_activation falls back to chunk attributes when no store.
            <Function test_filter_by_activation_chunk_without_activation_attribute>
              Test that chunks without activation attribute default to 0.0.
            <Function test_empty_chunks_list>
              Test that empty chunks list returns 0 high-quality count.
            <Function test_very_high_activation>
              Test that very high activation (> 1.0) counts as high-quality.
            <Function test_zero_groundedness>
              Test that 0.0 groundedness results in WEAK quality.
            <Function test_perfect_groundedness>
              Test that 1.0 groundedness with sufficient chunks = GOOD quality.
      <Module test_activation_explanations.py>
        Unit tests for activation score explanations.
        
        Tests the logic for generating human-readable explanations of activation scores
        including access count, commit count, and recency information.
        <Function test_explain_activation_full_metadata>
          Full metadata: access count, commit count, and recency all present.
        <Function test_explain_activation_no_git>
          No git metadata: only access count and recency.
        <Function test_explain_activation_no_recency>
          No recency: only access count and commit count.
        <Function test_explain_activation_minimal>
          Minimal metadata: only access count.
        <Function test_explain_activation_plural_handling>
          Test proper pluralization for commit count.
      <Module test_bm25_explanations.py>
        Unit tests for BM25 score explanations.
        
        Tests the logic for generating human-readable explanations of BM25 scores
        based on query term matching patterns.
        <Function test_explain_bm25_exact_match>
          Single exact match: query term found verbatim in chunk content.
        <Function test_explain_bm25_exact_match_multiple_terms>
          Multiple exact matches: multiple query terms found verbatim.
        <Function test_explain_bm25_strong_overlap>
          Strong term overlap: ≥50% query terms present in content.
        <Function test_explain_bm25_partial_match>
          Partial match: <50% query terms present in content.
        <Function test_explain_bm25_no_match>
          No match: no query terms found in content.
        <Function test_explain_bm25_camelcase_tokenization>
          CamelCase tokenization: query split correctly, all parts found.
      <Module test_bm25_tokenizer.py>
        Unit Tests for BM25 Tokenizer
        
        Tests the code-aware tokenization functionality for BM25 scoring.
        All tests follow TDD approach - written BEFORE implementation.
        
        Test Coverage:
        - UT-BM25-01: CamelCase splitting
        - UT-BM25-02: snake_case splitting
        - UT-BM25-03: Dot notation splitting
        - UT-BM25-04: Acronym preservation
        - UT-BM25-05: Mixed case handling
        <Function test_tokenize_camelcase>
          UT-BM25-01: CamelCase splitting
          
          Test that camelCase identifiers are split into component words.
          Example: "getUserData" → ["get", "user", "data", "getuserdata"]
          
          The tokenizer should:
          - Split on case boundaries (lowercase followed by uppercase)
          - Preserve the full original token
          - Return all tokens in lowercase for matching
        <Function test_tokenize_snake_case>
          UT-BM25-02: snake_case splitting
          
          Test that snake_case identifiers are split on underscores.
          Example: "user_manager" → ["user", "manager", "user_manager"]
          
          The tokenizer should:
          - Split on underscore boundaries
          - Preserve the full original token
          - Handle multiple underscores
        <Function test_tokenize_dot_notation>
          UT-BM25-03: Dot notation splitting
          
          Test that dot notation (module paths, namespaces) are split.
          Example: "auth.oauth.client" → ["auth", "oauth", "client"]
          
          The tokenizer should:
          - Split on dot boundaries
          - Extract all individual components
          - Optionally preserve full path
        <Function test_tokenize_acronyms>
          UT-BM25-04: Acronym preservation
          
          Test that acronyms (consecutive uppercase letters) are handled correctly.
          Example: "HTTPRequest" → ["http", "request", "httprequest"]
          
          The tokenizer should:
          - Detect acronyms (consecutive uppercase letters)
          - Split acronym from following word
          - Preserve both acronym and full token
        <Function test_tokenize_mixed_case>
          UT-BM25-05: Mixed case handling
          
          Test that mixed notation (camelCase + snake_case + dots) works correctly.
          Example: "getUserData.auth_token" → ["get", "user", "data", "auth", "token"]
          
          The tokenizer should:
          - Apply all splitting rules (camelCase, snake_case, dots)
          - Handle combinations correctly
          - Return all component tokens
        <Function test_tokenize_empty_string>
          UT-BM25-06: Empty string handling
          
          Test that empty strings are handled gracefully.
          Example: "" → []
          
          The tokenizer should:
          - Return empty list for empty input
          - Not raise exceptions
        <Function test_tokenize_special_characters>
          UT-BM25-07: Special character handling
          
          Test that special characters are handled appropriately.
          Example: "user@email.com" → ["user", "email", "com"]
          
          The tokenizer should:
          - Split on special characters (@, #, $, etc.)
          - Extract alphanumeric tokens
          - Ignore or remove special characters
        <Function test_tokenize_whitespace_handling>
          UT-BM25-08: Whitespace handling
          
          Test that multiple words separated by whitespace are tokenized.
          Example: "authenticate user session" → ["authenticate", "user", "session"]
          
          The tokenizer should:
          - Split on whitespace
          - Return individual words
          - Handle multiple spaces
        <Function test_tokenize_preserves_case_variations>
          UT-BM25-09: Case preservation for matching
          
          Test that tokenizer handles case variations appropriately for BM25.
          
          The tokenizer should:
          - Split based on case boundaries (camelCase)
          - All-lowercase has no boundaries, so kept as single token
          - Case-insensitive matching via lowercase normalization
        <Function test_bm25_idf_calculation>
          UT-BM25-10: IDF calculation test
          
          Test that IDF (Inverse Document Frequency) is calculated correctly.
          Formula: IDF = log((N - n(t) + 0.5) / (n(t) + 0.5) + 1)
          
          Where:
          - N = total number of documents
          - n(t) = number of documents containing term t
        <Function test_bm25_term_frequency>
          UT-BM25-11: Term frequency scoring test
          
          Test that term frequency affects BM25 score correctly.
          Higher frequency should increase score, but with saturation (k1 parameter).
        <Function test_bm25_document_length_normalization>
          UT-BM25-12: Document length normalization test
          
          Test that BM25 length normalization (b parameter) works correctly.
          Shorter documents with term should score higher than longer documents.
        <Function test_bm25_multiple_term_scoring>
          UT-BM25-13: Multiple term scoring test
          
          Test that BM25 correctly scores documents with multiple query terms.
          Documents matching more terms should score higher.
        <Function test_bm25_score_exact_match>
          UT-BM25-14: Exact match scoring test
          
          Test that exact matches produce positive scores.
        <Function test_bm25_score_no_match>
          UT-BM25-15: No match scoring test
          
          Test that documents with no matching terms score 0.
      <Module test_box_drawing_formatter.py>
        Unit tests for box-drawing score formatter.
        
        Tests the box-drawing formatter function that displays search results with
        scores in a rich box-drawing format.
        <Function test_format_box_header>
          Test box header formatting with file, type, name, and lines.
          
          Expected format:
          ┌─ auth.py | func | authenticate (Lines 45-67) ─────────┐
          
          Width should be 78 characters (terminal standard).
        <Function test_format_box_scores>
          Test score lines formatting with proper prefixes and precision.
          
          Expected format:
          │   ├─ BM25:       0.950 ...
          │   ├─ Semantic:   0.820 ...
          │   └─ Activation: 0.650 ...
          
          Scores should have 3 decimal places precision.
        <Function test_format_box_footer>
          Test box footer formatting.
          
          Expected format:
          └──────────────────────────────────────────────────────┘
          
          Width should match header width.
        <Function test_format_box_git_metadata>
          Test git metadata line formatting.
          
          Expected format:
          │ Git: 23 commits, last modified 2 days ago │
        <Function test_format_box_width_adjustment>
          Test that long names truncate to fit width.
          
          Long names should truncate without breaking box structure.
        <Function test_format_box_empty_git_metadata>
          Test handling of missing git metadata.
          
          When git metadata is unavailable, line should be omitted or show dashes.
        <Function test_format_box_returns_rich_text>
          Test that function returns Rich Text object.
          
          Function should return Rich Text object for proper styling.
      <Module test_budget_commands.py>
        Unit tests for budget command group in AURORA CLI.
        
        Tests the budget commands: show, set, reset, and history.
        Ensures proper display, validation, and error handling.
        <Class TestShowCommand>
          Test budget show command.
          <Function test_show_displays_budget_status>
            Test show command displays budget status correctly.
          <Function test_show_displays_warning_at_soft_limit>
            Test show command displays warning when approaching budget limit.
          <Function test_show_displays_error_at_hard_limit>
            Test show command displays error when budget limit exceeded.
          <Function test_show_handles_error_gracefully>
            Test show command handles errors gracefully.
        <Class TestSetCommand>
          Test budget set command.
          <Function test_set_updates_budget_limit>
            Test set command updates budget limit correctly.
          <Function test_set_rejects_negative_amount>
            Test set command rejects negative amounts.
          <Function test_set_rejects_zero_amount>
            Test set command rejects zero amount.
          <Function test_set_accepts_decimal_amounts>
            Test set command accepts decimal amounts.
          <Function test_set_handles_error_gracefully>
            Test set command handles errors gracefully.
        <Class TestResetCommand>
          Test budget reset command.
          <Function test_reset_clears_spending_with_confirmation>
            Test reset command clears spending with confirmation.
          <Function test_reset_requires_confirmation_without_flag>
            Test reset command requires confirmation when flag not provided.
          <Function test_reset_preserves_budget_limit>
            Test reset command preserves budget limit.
          <Function test_reset_handles_error_gracefully>
            Test reset command handles errors gracefully.
        <Class TestHistoryCommand>
          Test budget history command.
          <Function test_history_displays_query_records>
            Test history command displays query records.
          <Function test_history_shows_no_entries_message_when_empty>
            Test history command shows message when no entries exist.
          <Function test_history_respects_limit_option>
            Test history command respects --limit option.
          <Function test_history_shows_all_with_flag>
            Test history command shows all entries with --all flag.
          <Function test_history_displays_total_cost>
            Test history command displays total cost.
          <Function test_history_handles_error_gracefully>
            Test history command handles errors gracefully.
        <Class TestBudgetGroup>
          Test budget command group behavior.
          <Function test_budget_group_invokes_show_by_default>
            Test budget command without subcommand invokes show.
          <Function test_budget_group_help_shows_subcommands>
            Test budget --help shows all subcommands.
      <Module test_error_handling.py>
        Unit tests for error handling in AURORA CLI.
        
        Tests the error handling decorator and ErrorHandler methods to ensure
        clean error messages are shown by default and stack traces with --debug.
        <Class TestErrorHandler>
          Test ErrorHandler class methods.
          <Function test_handle_api_error_authentication>
            Test API error handling for authentication failures.
          <Function test_handle_api_error_rate_limit>
            Test API error handling for rate limit errors.
          <Function test_handle_api_error_network>
            Test API error handling for network errors.
          <Function test_handle_config_error_missing_file>
            Test config error handling for missing file.
          <Function test_handle_config_error_invalid_api_key>
            Test config error handling for missing API key.
          <Function test_handle_budget_error_with_details>
            Test budget error handling with spending details.
          <Function test_handle_memory_error_locked>
            Test memory error handling for locked database.
          <Function test_handle_memory_error_corrupted>
            Test memory error handling for corrupted database.
          <Function test_redact_api_key>
            Test API key redaction for safe display.
        <Class TestErrorHandlingDecorator>
          Test the handle_errors decorator.
          <Function test_decorator_without_debug_shows_clean_message>
            Test that decorator shows clean error message without debug mode.
          <Function test_decorator_with_debug_shows_stack_trace>
            Test that decorator shows stack trace with debug mode.
          <Function test_decorator_handles_budget_error>
            Test that decorator properly handles BudgetExceededError.
          <Function test_decorator_handles_api_error>
            Test that decorator properly handles APIError.
          <Function test_decorator_reraises_click_abort>
            Test that decorator re-raises click.Abort.
          <Function test_decorator_handles_generic_error>
            Test that decorator handles generic exceptions.
          <Function test_decorator_without_context_object>
            Test that decorator works when context.obj is None.
        <Class TestErrorMessages>
          Test error message formatting and content.
          <Function test_budget_error_includes_solutions>
            Test that budget error includes actionable solutions.
          <Function test_api_error_includes_console_link>
            Test that API auth error includes console link.
          <Function test_config_error_includes_init_command>
            Test that config error suggests aur init.
          <Function test_memory_error_includes_recovery_steps>
            Test that memory error includes recovery steps.
      <Module test_execution_unit.py>
        Unit tests for QueryExecutor auto-escalation logic.
        
        Tests the execute_with_auto_escalation() method with various scenarios:
        - Non-interactive mode with low confidence (auto-escalates)
        - Interactive mode with user acceptance/decline
        - High confidence queries (no escalation)
        - Complex/Critical queries (always escalate)
        <Class TestAutoEscalation>
          Tests for auto-escalation logic in QueryExecutor.
          <Function test_non_interactive_low_confidence_auto_escalates>
            Test that non-interactive mode auto-escalates on low confidence.
          <Function test_interactive_low_confidence_user_accepts>
            Test that interactive mode prompts user and escalates on acceptance.
          <Function test_interactive_low_confidence_user_declines>
            Test that interactive mode uses direct LLM when user declines.
          <Function test_high_confidence_no_escalation>
            Test that high confidence queries don't escalate regardless of mode.
          <Function test_complex_query_always_escalates>
            Test that COMPLEX queries always use SOAR regardless of confidence.
          <Function test_critical_query_always_escalates>
            Test that CRITICAL queries always use SOAR regardless of confidence.
          <Function test_custom_confidence_threshold>
            Test that custom confidence threshold is respected.
          <Function test_verbose_mode_returns_metadata>
            Test that verbose mode returns metadata along with response.
          <Function test_empty_query_raises_error>
            Test that empty query raises ValueError.
          <Function test_none_memory_store_raises_error>
            Test that None memory store raises ValueError.
      <Module test_git_extractor.py>
        Unit tests for GitSignalExtractor.
        
        Tests the Git signal extraction functionality for function-level BLA initialization.
        These tests create real Git repositories to verify actual Git operations.
        <Class TestGitSignalExtractor>
          Test suite for GitSignalExtractor class.
          <Function test_get_function_commit_times_with_history>
            Test extracting commit times for functions with different edit histories.
            
            Creates a file with 3 functions:
            - func_a: 8 commits (frequently edited)
            - func_b: 3 commits (moderately edited)
            - func_c: 1 commit (rarely edited)
          <Function test_calculate_bla_from_commits>
            Test that BLA calculation reflects frequency: more commits = higher BLA.
            
            This validates the ACT-R formula: BLA = ln(Σ t_j^(-d))
          <Function test_non_git_directory_graceful_fallback>
            Test that non-Git directories return empty list and fallback BLA.
            
            This ensures Aurora doesn't crash on codebases without Git history.
          <Function test_nonexistent_file_returns_empty>
            Test that nonexistent files return empty commit list.
          <Function test_calculate_bla_with_empty_commits>
            Test that empty commit list returns fallback BLA of 0.5.
          <Function test_calculate_bla_with_single_commit>
            Test BLA calculation with a single commit.
          <Function test_parse_blame_output>
            Test parsing of git blame --line-porcelain output.
          <Function test_parse_blame_output_deduplicates>
            Test that repeated SHAs in blame output are deduplicated.
          <Function test_bla_decay_parameter>
            Test that decay parameter affects BLA calculation.
          <Function test_timeout_parameter>
            Test that timeout parameter is respected.
          <Function test_functions_in_same_file_have_different_bla>
            CRITICAL TEST: Verify functions in same file can have DIFFERENT BLA values.
            
            This is the core requirement for function-level Git tracking.
        <Class TestGitSignalExtractorEdgeCases>
          Test edge cases and error handling.
          <Function test_git_not_installed>
            Test graceful handling when Git is not installed.
          <Function test_invalid_line_range>
            Test handling of invalid line ranges.
      <Module test_hybrid_retriever_staged.py>
        Unit tests for staged retrieval architecture with BM25.
        
        Tests the integration of BM25 filtering (Stage 1) followed by
        semantic+activation re-ranking (Stage 2) in the HybridRetriever.
        
        Test Coverage:
            - UT-HYBRID-01: Stage 1 BM25 filtering
            - UT-HYBRID-02: Stage 2 re-ranking
            - UT-HYBRID-03: Score preservation (no normalization conflicts)
            - UT-HYBRID-04: Empty query handling
        <Class TestStagedRetrievalArchitecture>
          Test staged retrieval: BM25 filter → Semantic+Activation re-rank.
          <Function test_stage1_bm25_filtering>
            UT-HYBRID-01: Test Stage 1 BM25 filtering.
            
            Verifies that:
            1. BM25 scorer is built from activation candidates
            2. BM25 scores are calculated for each candidate
            3. Top-K candidates are selected by BM25 score
            4. Stage 1 results are passed to Stage 2 for re-ranking
          <Function test_stage2_reranking_with_trihybrid>
            UT-HYBRID-02: Test Stage 2 tri-hybrid re-ranking.
            
            Verifies that:
            1. Stage 2 receives BM25-filtered candidates
            2. Semantic+Activation scores are calculated
            3. Tri-hybrid score combines: 30% BM25 + 40% Semantic + 30% Activation
            4. Results are ranked by tri-hybrid score
          <Function test_score_preservation_no_normalization_conflicts>
            UT-HYBRID-03: Test score preservation without normalization conflicts.
            
            Verifies that:
            1. BM25 scores are calculated on raw document content
            2. BM25 scores are normalized independently
            3. Semantic and activation scores are normalized independently
            4. No cross-contamination between score types during normalization
            5. Final tri-hybrid combination uses properly normalized scores
          <Function test_empty_query_handling>
            UT-HYBRID-04: Test empty query handling.
            
            Verifies that:
            1. Empty string query raises ValueError
            2. Whitespace-only query raises ValueError
            3. Error message is informative
          <Function test_stage1_topk_configuration>
            Test that Stage 1 top_k configuration is respected.
            
            Verifies that:
            1. activation_top_k parameter controls Stage 1 candidate retrieval
            2. Stage 2 re-ranks only the Stage 1 candidates
            3. Final top_k parameter controls output size
      <Module test_knowledge_parser.py>
        Unit tests for KnowledgeParser (knowledge chunk parsing and indexing).
        
        Tests:
        - UT-KNOW-01: Parse markdown sections test
        - UT-KNOW-02: Extract metadata test (keywords, date)
        - UT-KNOW-03: Chunk splitting test
        - UT-KNOW-04: Empty file handling
        <Function test_parse_markdown_sections>
          UT-KNOW-01: Parse markdown sections into separate chunks.
        <Function test_extract_metadata_from_filename>
          UT-KNOW-02: Extract metadata (keywords, date) from filename.
        <Function test_chunk_splitting_by_headers>
          UT-KNOW-03: Split content by markdown headers (## sections).
        <Function test_empty_file_handling>
          UT-KNOW-04: Handle empty files gracefully.
        <Function test_knowledge_chunk_structure>
          Verify KnowledgeChunk has required fields.
        <Function test_multiple_files_parsing>
          Test parsing multiple knowledge files.
      <Module test_reasoning_embeddings.py>
        Unit tests for Reasoning Chunk embeddings and search.
        
        Tests:
        - UT-REAS-01: Generate embeddings test
        - UT-REAS-02: Store embeddings test
        - UT-REAS-03: Retrieve by pattern test
        
        Note: Reasoning chunks are created by the SOAR pipeline, not by file parsing.
        These tests verify that reasoning chunks CAN be embedded and searched once created.
        <Function test_reasoning_chunk_creation>
          UT-REAS-01: Verify reasoning chunks can be created with content for embedding.
        <Function test_reasoning_chunk_serialization>
          UT-REAS-02: Verify reasoning chunks can be serialized (for storage with embeddings).
        <Function test_reasoning_chunk_searchable_content>
          UT-REAS-03: Verify reasoning chunks have searchable content for embeddings.
        <Function test_reasoning_chunk_validation>
          Test that reasoning chunks validate their structure.
      <Module test_semantic_explanations.py>
        Unit tests for semantic score explanations.
        
        Tests the logic for generating human-readable explanations of semantic similarity
        scores based on threshold-based relevance levels.
        <Function test_explain_semantic_very_high>
          Very high relevance: semantic score ≥0.9.
        <Function test_explain_semantic_high>
          High relevance: semantic score 0.8-0.89.
        <Function test_explain_semantic_moderate>
          Moderate relevance: semantic score 0.7-0.79.
        <Function test_explain_semantic_low>
          Low relevance: semantic score <0.7.
        <Function test_explain_semantic_boundary_conditions>
          Test exact boundary values.
      <Module test_setup_post_install.py>
        Unit tests for setup.py post-install message.
        
        Tests the display_install_feedback() function that shows after pip install.
        <Class TestPostInstallMessage>
          Test post-install message display.
          <Function test_display_install_feedback_all_components_installed>
            Test message when all components are installed.
          <Function test_display_install_feedback_missing_components>
            Test message when some components are missing.
          <Function test_output_format_matches_prd_example>
            Test output format matches PRD example from FR-6.1.
          <Function test_no_verbose_pip_output>
            Test that output is clean without verbose pip details.
          <Function test_message_shows_version>
            Test that version is displayed in message.
          <Function test_message_suggests_key_commands>
            Test that key commands are suggested.
          <Function test_post_develop_command_exists>
            Test that PostDevelopCommand class exists.
      <Module test_type_abbreviations.py>
        Unit tests for type abbreviation mapping.
        
        Tests the _get_type_abbreviation() helper function in memory.py
        that maps full type names to abbreviated forms for display.
        <Function test_get_type_abbreviation_code_types>
          Test abbreviation mapping for code types.
        <Function test_get_type_abbreviation_noncode_types>
          Test abbreviation mapping for non-code types.
        <Function test_get_type_abbreviation_unknown>
          Test abbreviation for unknown types.
        <Function test_get_type_abbreviation_case_insensitive>
          Test that abbreviation is case-insensitive.

==================================== ERRORS ====================================
_____________ ERROR collecting tests/e2e/test_aurora_query_e2e.py ______________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/e2e/test_aurora_query_e2e.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/e2e/test_aurora_query_e2e.py:21: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
__________________ ERROR collecting tests/e2e/test_mcp_e2e.py __________________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/e2e/test_mcp_e2e.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/e2e/test_mcp_e2e.py:25: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
____ ERROR collecting tests/integration/mcp/test_agent_tools_integration.py ____
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/integration/mcp/test_agent_tools_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/mcp/test_agent_tools_integration.py:19: in <module>
    from aurora.mcp.server import AuroraMCPServer
E   ModuleNotFoundError: No module named 'aurora'
____________ ERROR collecting tests/integration/test_mcp_harness.py ____________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/integration/test_mcp_harness.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_mcp_harness.py:23: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
__________ ERROR collecting tests/integration/test_mcp_no_api_key.py ___________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/integration/test_mcp_no_api_key.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_mcp_no_api_key.py:27: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
_________ ERROR collecting tests/integration/test_mcp_python_client.py _________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/integration/test_mcp_python_client.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_mcp_python_client.py:35: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
_____________ ERROR collecting tests/unit/mcp/test_agent_tools.py ______________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/mcp/test_agent_tools.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/mcp/test_agent_tools.py:23: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
______________ ERROR collecting tests/unit/mcp/test_aurora_get.py ______________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/mcp/test_aurora_get.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/mcp/test_aurora_get.py:25: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
_______ ERROR collecting tests/unit/mcp/test_aurora_query_simplified.py ________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/mcp/test_aurora_query_simplified.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/mcp/test_aurora_query_simplified.py:26: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
__________ ERROR collecting tests/unit/mcp/test_aurora_query_tool.py ___________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/mcp/test_aurora_query_tool.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/mcp/test_aurora_query_tool.py:24: in <module>
    from aurora.mcp.tools import AuroraMCPTools
E   ModuleNotFoundError: No module named 'aurora'
____________ ERROR collecting tests/unit/planning/test_plan_cmd.py _____________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/planning/test_plan_cmd.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/planning/test_plan_cmd.py:9: in <module>
    from aurora_planning.cli.plan_cmd import PlanCommand
E   ModuleNotFoundError: No module named 'aurora_planning.cli'
__________ ERROR collecting tests/unit/planning/test_validate_cmd.py ___________
ImportError while importing test module '/home/hamr/PycharmProjects/aurora/tests/unit/planning/test_validate_cmd.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/planning/test_validate_cmd.py:6: in <module>
    from aurora_planning.cli.validate_cmd import ValidateCommand
E   ModuleNotFoundError: No module named 'aurora_planning.cli'
=============================== warnings summary ===============================
packages/core/src/aurora_core/activation/engine.py:81
  /home/hamr/PycharmProjects/aurora/packages/core/src/aurora_core/activation/engine.py:81: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ActivationComponents(BaseModel):

packages/core/src/aurora_core/activation/retrieval.py:79
  /home/hamr/PycharmProjects/aurora/packages/core/src/aurora_core/activation/retrieval.py:79: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class RetrievalResult(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/e2e/test_aurora_query_e2e.py
ERROR tests/e2e/test_mcp_e2e.py
ERROR tests/integration/mcp/test_agent_tools_integration.py
ERROR tests/integration/test_mcp_harness.py
ERROR tests/integration/test_mcp_no_api_key.py
ERROR tests/integration/test_mcp_python_client.py
ERROR tests/unit/mcp/test_agent_tools.py
ERROR tests/unit/mcp/test_aurora_get.py
ERROR tests/unit/mcp/test_aurora_query_simplified.py
ERROR tests/unit/mcp/test_aurora_query_tool.py
ERROR tests/unit/planning/test_plan_cmd.py
ERROR tests/unit/planning/test_validate_cmd.py
!!!!!!!!!!!!!!!!!!! Interrupted: 12 errors during collection !!!!!!!!!!!!!!!!!!!
=================== 3727 tests collected, 12 errors in 9.42s ===================
